"use strict";(self.webpackChunkCodeFuse_Docs=self.webpackChunkCodeFuse_Docs||[]).push([[2579],{16373:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},33242:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},59036:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},9800:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},66510:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},15533:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},98840:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},28109:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},91442:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},64233:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},35658:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},12873:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},24925:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},21680:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},7390:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},32889:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},7439:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},50449:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},97673:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},50098:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},5690:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},25887:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},54416:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},39964:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},11627:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},7346:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},79844:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},84492:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},29160:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},23730:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},15366:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},78366:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},73956:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},61276:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},15897:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},33157:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},11223:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},53859:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},66771:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},38628:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},6035:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},68318:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},89707:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},42586:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},99919:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},42173:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},37032:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},95924:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},10140:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},9964:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},95935:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},36539:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},86986:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},98796:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},24217:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},15586:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},24372:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},68991:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},66355:function(t,a,e){e.r(a),e.d(a,{demos:function(){return o}});var n=e(67294),o={}},72801:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"CodeFuse \u56E2\u961F\u7531\u4E00\u7FA4\u5145\u6EE1\u70ED\u60C5\u7684\u6210\u5458\u7EC4\u6210\uFF0C\u6211\u4EEC\u7684\u76EE\u6807\u662F\u6784\u5EFA\u5927\u578B\u7F16\u7801\u8BED\u8A00\u6A21\u578B\uFF08Code LLMs\uFF09\uFF0C\u4EE5\u652F\u6301\u548C\u63D0\u5347\u5728\u6574\u4E2A\u8F6F\u4EF6\u5F00\u53D1\u751F\u547D\u5468\u671F\u4E2D\u7684 AI \u539F\u751F\u5F00\u53D1\u5DE5\u4F5C\u3002\u6211\u4EEC\u7684\u5DE5\u4F5C\u8986\u76D6\u4E86\u4ECE\u8BBE\u8BA1\u9700\u6C42\u3001\u7F16\u5199\u4EE3\u7801\u3001\u6D4B\u8BD5\u3001\u6784\u5EFA\u3001\u90E8\u7F72\u3001\u8FD0\u7EF4\u5230\u6D1E\u5BDF\u5206\u6790\u7B49\u5173\u952E\u73AF\u8282\u3002\u6211\u4EEC\u79EF\u6781\u63A8\u5E7F\u5F00\u6E90\u7CBE\u795E\uFF0C\u76EE\u524D\u5DF2\u7ECF\u63A8\u51FA\u4E86 15 \u4E2A\u4EE3\u7801\u76F8\u5173\u7684\u6A21\u578B\uFF0C\u5E76\u5F00\u6E90\u4E86\u4E00\u7CFB\u5217\u6280\u672F\u5DE5\u5177\uFF0C\u4F8B\u5982 MFTCoder\u3001CodeFuse-VLM\u3001CodeFuse-DevOps\u3001CodeFuse-Query\u3001TestGPU \u548C CodeFuse-muAgent\u3002\u6B64\u5916\uFF0C\u4E3A\u4E86\u8BA9\u7528\u6237\u5728\u65E5\u5E38\u7F16\u7801\u5DE5\u4F5C\u4E2D\u80FD\u591F\u76F4\u63A5\u53D7\u76CA\uFF0C\u6211\u4EEC\u8FD8\u5F00\u53D1\u4E86 CodeFuse-IDE \u63D2\u4EF6\u3002\u968F\u65F6\u6B22\u8FCE\u548C\u6211\u4EEC\u4EA4\u6D41\uFF0C\u5982\u679C\u60A8\u5BF9\u8FD9\u9879\u6FC0\u52A8\u4EBA\u5FC3\u7684\u5DE5\u4F5C\u611F\u5174\u8DA3\uFF0C\u6B22\u8FCE\u52A0\u5165\u6211\u4EEC\uFF01",paraId:0,tocIndex:0}]},44831:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"ChatBot \u9879\u76EE\u57FA\u4E8E",paraId:0},{value:"langchain-chatchat",paraId:0},{value:"\u548C",paraId:0},{value:"codebox-api",paraId:0},{value:"!",paraId:0},{value:"......",paraId:1},{value:"\u5728\u6B64\u6DF1\u6DF1\u611F\u8C22\u4ED6\u4EEC\u7684\u5F00\u6E90\u8D21\u732E\uFF01",paraId:2}]},46581:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u975E\u5E38\u611F\u8C22\u60A8\u5BF9 Codefuse \u9879\u76EE\u611F\u5174\u8DA3\uFF0C\u6211\u4EEC\u975E\u5E38\u6B22\u8FCE\u60A8\u5BF9 Codefuse \u9879\u76EE\u7684\u5404\u79CD\u5EFA\u8BAE\u3001\u610F\u89C1\uFF08\u5305\u62EC\u6279\u8BC4\uFF09\u3001\u8BC4\u8BBA\u548C\u8D21\u732E\u3002",paraId:0},{value:"\u60A8\u5BF9 Codefuse \u7684\u5404\u79CD\u5EFA\u8BAE\u3001\u610F\u89C1\u3001\u8BC4\u8BBA\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7 GitHub \u7684 Issues \u63D0\u51FA\u3002",paraId:1},{value:"\u53C2\u4E0E Codefuse \u9879\u76EE\u5E76\u4E3A\u5176\u4F5C\u51FA\u8D21\u732E\u7684\u65B9\u6CD5\u6709\u5F88\u591A\uFF1A\u4EE3\u7801\u5B9E\u73B0\u3001\u6D4B\u8BD5\u7F16\u5199\u3001\u6D41\u7A0B\u5DE5\u5177\u6539\u8FDB\u3001\u6587\u6863\u5B8C\u5584\u7B49\u7B49\u3002\u4EFB\u4F55\u8D21\u732E\u6211\u4EEC\u90FD\u4F1A\u975E\u5E38\u6B22\u8FCE\uFF0C\u5E76\u5C06\u60A8\u52A0\u5165\u8D21\u732E\u8005\u5217\u8868.",paraId:2},{value:"\u8FDB\u4E00\u6B65\uFF0C\u6709\u4E86\u8DB3\u591F\u7684\u8D21\u732E\u540E\uFF0C\u60A8\u8FD8\u53EF\u4EE5\u6709\u673A\u4F1A\u6210\u4E3A Codefuse \u7684 Committer\u3002",paraId:3},{value:"\u4EFB\u4F55\u95EE\u9898\uFF0C\u60A8\u90FD\u53EF\u4EE5\u8054\u7CFB\u6211\u4EEC\u5F97\u5230\u53CA\u65F6\u89E3\u7B54\uFF0C\u8054\u7CFB\u65B9\u5F0F\u5305\u62EC\u5FAE\u4FE1\u3001Gitter\uFF08GitHub \u63D0\u4F9B\u7684\u5373\u65F6\u804A\u5929\u5DE5\u5177\uFF09\u3001\u90AE\u4EF6\u7B49\u7B49\u3002",paraId:4},{value:"\u521D\u6B21\u6765\u5230 Codefuse \u793E\u533A\uFF0C\u60A8\u53EF\u4EE5\uFF1A",paraId:5,tocIndex:0},{value:"\u5173\u6CE8 Codefuse Github \u4EE3\u7801\u5E93",paraId:6,tocIndex:0},{value:`\u52A0\u5165 Codefuse \u76F8\u5173\u7684\u5FAE\u4FE1\u7FA4 \u968F\u65F6\u63D0\u95EE\uFF1B
\u901A\u8FC7\u4EE5\u4E0A\u65B9\u5F0F\u53CA\u65F6\u4E86\u89E3 Codefuse \u9879\u76EE\u7684\u5F00\u53D1\u52A8\u6001\u5E76\u4E3A\u60A8\u5173\u6CE8\u7684\u8BDD\u9898\u53D1\u8868\u610F\u89C1\u3002`,paraId:6,tocIndex:0},{value:"\u8FD9\u4EFD\u8D21\u732E\u6307\u5357\u5E76\u4E0D\u4EC5\u4EC5\u5173\u4E8E\u7F16\u5199\u4EE3\u7801\u3002\u6211\u4EEC\u91CD\u89C6\u5E76\u611F\u6FC0\u5728\u5404\u4E2A\u9886\u57DF\u7684\u5E2E\u52A9\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u60A8\u53EF\u4EE5\u8D21\u732E\u7684\u65B9\u5F0F",paraId:7,tocIndex:1},{value:"\u6587\u6863",paraId:8,tocIndex:1},{value:"Issue",paraId:8,tocIndex:1},{value:"PR",paraId:8,tocIndex:1},{value:"\u6587\u6863\u662F\u60A8\u4E86\u89E3 Codefuse \u7684\u6700\u4E3B\u8981\u7684\u65B9\u5F0F\uFF0C\u4E5F\u662F\u6211\u4EEC\u6700\u9700\u8981\u5E2E\u52A9\u7684\u5730\u65B9\uFF01",paraId:9,tocIndex:2},{value:"\u6D4F\u89C8\u6587\u6863\uFF0C\u53EF\u4EE5\u52A0\u6DF1\u60A8\u5BF9 Codefuse \u7684\u4E86\u89E3\uFF0C\u4E5F\u53EF\u4EE5\u5E2E\u52A9\u60A8\u7406\u89E3 Codefuse \u7684\u529F\u80FD\u548C\u6280\u672F\u7EC6\u8282\uFF0C\u5982\u679C\u60A8\u53D1\u73B0\u6587\u6863\u6709\u95EE\u9898\uFF0C\u8BF7\u53CA\u65F6\u8054\u7CFB\u6211\u4EEC\uFF1B",paraId:10,tocIndex:2},{value:"\u5982\u679C\u60A8\u5BF9\u6539\u8FDB\u6587\u6863\u7684\u8D28\u91CF\u611F\u5174\u8DA3\uFF0C\u4E0D\u8BBA\u662F\u4FEE\u8BA2\u4E00\u4E2A\u9875\u9762\u7684\u5730\u5740\u3001\u66F4\u6B63\u4E00\u4E2A\u94FE\u63A5\u3001\u4EE5\u53CA\u5199\u4E00\u7BC7\u66F4\u4F18\u79C0\u7684\u5165\u95E8\u6587\u6863\uFF0C\u6211\u4EEC\u90FD\u975E\u5E38\u6B22\u8FCE\uFF01",paraId:11,tocIndex:2},{value:"\u6211\u4EEC\u7684\u6587\u6863\u5927\u591A\u6570\u662F\u4F7F\u7528 markdown \u683C\u5F0F\u7F16\u5199\u7684\uFF0C\u60A8\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u5728 GitHub \u4E2D\u7684 docs/ \u4E2D\u4FEE\u6539\u5E76\u63D0\u4EA4\u6587\u6863\u53D8\u66F4\u3002\u5982\u679C\u63D0\u4EA4\u4EE3\u7801\u53D8\u66F4\uFF0C\u53EF\u4EE5\u53C2\u9605 Pull Request\u3002",paraId:12,tocIndex:2},{value:"\u5982\u679C\u53D1\u73B0\u4E86\u4E00\u4E2A Bug \u6216\u95EE\u9898\uFF0C\u60A8\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7 GitHub \u7684 Issues \u63D0\u4E00\u4E2A\u65B0\u7684 Issue\uFF0C\u6211\u4EEC\u4F1A\u6709\u4EBA\u5B9A\u671F\u5904\u7406\u3002\u8BE6\u60C5\u89C1",paraId:13,tocIndex:3},{value:"Issue \u6A21\u677F",paraId:14,tocIndex:3},{value:"\u60A8\u4E5F\u53EF\u4EE5\u901A\u8FC7\u9605\u8BFB\u5206\u6790\u4EE3\u7801\u81EA\u5DF1\u4FEE\u590D\uFF08\u5F53\u7136\u5728\u8FD9\u4E4B\u524D\u6700\u597D\u80FD\u548C\u6211\u4EEC\u4EA4\u6D41\u4E0B\uFF0C\u6216\u8BB8\u5DF2\u7ECF\u6709\u4EBA\u5728\u4FEE\u590D\u540C\u6837\u7684\u95EE\u9898\u4E86\uFF09\uFF0C\u7136\u540E\u63D0\u4EA4\u4E00\u4E2A Pull Request\u3002",paraId:15,tocIndex:3},{value:"\u60A8\u53EF\u4EE5\u4E0B\u8F7D\u4EE3\u7801\uFF0C\u7F16\u8BD1\u5B89\u88C5\uFF0C\u90E8\u7F72\u8FD0\u884C\u8BD5\u4E00\u8BD5\uFF08\u53EF\u4EE5\u53C2\u8003\u7F16\u8BD1\u6587\u6863\uFF0C\u770B\u770B\u662F\u5426\u4E0E\u60A8\u9884\u60F3\u7684\u4E00\u6837\u5DE5\u4F5C\u3002\u5982\u679C\u6709\u95EE\u9898\uFF0C\u60A8\u53EF\u4EE5\u76F4\u63A5\u8054\u7CFB\u6211\u4EEC\uFF0C\u63D0 Issue \u6216\u8005\u901A\u8FC7\u9605\u8BFB\u548C\u5206\u6790\u6E90\u4EE3\u7801\u81EA\u5DF1\u4FEE\u590D\u3002\u8BE6\u60C5\u89C1",paraId:16,tocIndex:4},{value:"\u5982\u4F55\u63D0\u4EA4 pr",paraId:17,tocIndex:4},{value:"\u65E0\u8BBA\u662F\u4FEE\u590D Bug \u8FD8\u662F\u589E\u52A0 Feature\uFF0C\u6211\u4EEC\u90FD\u975E\u5E38\u6B22\u8FCE\u3002\u5982\u679C\u60A8\u5E0C\u671B\u7ED9 Doris \u63D0\u4EA4\u4EE3\u7801\uFF0C\u60A8\u9700\u8981\u4ECE GitHub \u4E0A fork \u4EE3\u7801\u5E93\u81F3\u60A8\u7684\u9879\u76EE\u7A7A\u95F4\u4E0B\uFF0C\u4E3A\u60A8\u63D0\u4EA4\u7684\u4EE3\u7801\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5206\u652F\uFF0C\u6DFB\u52A0\u6E90\u9879\u76EE\u4E3A upstream\uFF0C\u5E76\u63D0\u4EA4 PR\u3002 \u63D0\u4EA4 PR \u7684\u65B9\u5F0F\u53EF\u4EE5\u53C2\u8003\u6587\u6863 Pull Request\u3002",paraId:18,tocIndex:4}]},77360:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"Issue \u5206\u4E3A\u4E09\u79CD\u7C7B\u578B",paraId:0,tocIndex:0},{value:"Bug: \u4EE3\u7801\u6216\u8005\u6267\u884C\u793A\u4F8B\u5B58\u5728 bug \u6216\u7F3A\u5C11\u4F9D\u8D56\u5BFC\u81F4\u65E0\u6CD5\u6B63\u786E\u6267\u884C",paraId:1,tocIndex:0},{value:"Documentation\uFF1A\u6587\u6863\u8868\u8FF0\u5B58\u5728\u4E89\u8BAE\u3001\u6587\u6863\u5185\u5BB9\u4E0E\u4EE3\u7801\u4E0D\u4E00\u81F4\u7B49",paraId:1,tocIndex:0},{value:"Feature\uFF1A\u5728\u5F53\u524D\u4EE3\u7801\u57FA\u7840\u7EE7\u7EED\u6F14\u8FDB\u7684\u65B0\u529F\u80FD",paraId:1,tocIndex:0},{value:"\u63D0\u4EA4 Issue \u524D\u7684\u786E\u8BA4\u6E05\u5355",paraId:2,tocIndex:2},{value:"\u8981\u5148\u786E\u8BA4\u662F\u5426\u67E5\u770B document\u3001issue\u3001discussion(github \u529F\u80FD) \u7B49\u516C\u5F00\u7684\u6587\u6863\u4FE1\u606F",paraId:2,tocIndex:2},{value:"\u6211\u641C\u7D22\u4E86 Codefuse \u76F8\u5173\u7684\u6240\u6709\u6587\u6863\u3002",paraId:3,tocIndex:2},{value:"\u6211\u4F7F\u7528 GitHub \u641C\u7D22\u5BFB\u627E\u4E86\u4E00\u4E2A\u7C7B\u4F3C\u7684\u95EE\u9898\uFF0C\u4F46\u6CA1\u6709\u627E\u5230\u3002",paraId:3,tocIndex:2},{value:"\u6211\u4E3A\u8FD9\u4E2A\u95EE\u9898\u6DFB\u52A0\u4E86\u4E00\u4E2A\u975E\u5E38\u63CF\u8FF0\u6027\u7684\u6807\u9898\u3002",paraId:3,tocIndex:2},{value:"\u7CFB\u7EDF\u4FE1\u606F",paraId:4,tocIndex:2},{value:"\u786E\u8BA4\u7CFB\u7EDF\uFF0C\u5982 mac -xx \u3001windwos-xx\u3001linux-xx",paraId:4,tocIndex:2},{value:"\u4EE3\u7801\u7248\u672C",paraId:5,tocIndex:2},{value:"\u786E\u8BA4\u4EE3\u7801\u7248\u672C\u6216\u8005\u5206\u652F\uFF0Cmaster\u3001release \u7B49",paraId:5,tocIndex:2},{value:"\u95EE\u9898\u63CF\u8FF0",paraId:6,tocIndex:2},{value:"\u63CF\u8FF0\u60A8\u78B0\u5230\u7684\u95EE\u9898\uFF0C\u60F3\u8981\u5B9E\u73B0\u7684\u4E8B\u60C5\u3001\u6216\u4EE3\u7801\u6267\u884C Bug",paraId:6,tocIndex:2},{value:"\u4EE3\u7801\u793A\u4F8B",paraId:7,tocIndex:2},{value:"\u9644\u4E0A\u4F60\u7684\u6267\u884C\u4EE3\u7801\u548C\u76F8\u5173\u914D\u7F6E\uFF0C\u4EE5\u4FBF\u80FD\u591F\u5FEB\u901F\u4ECB\u5165\u8FDB\u884C\u590D\u73B0",paraId:7,tocIndex:2},{value:"\u62A5\u9519\u4FE1\u606F\u3001\u65E5\u5FD7",paraId:8,tocIndex:2},{value:"\u6267\u884C\u4E0A\u8FF0\u4EE3\u7801\u793A\u4F8B\u540E\u7684\u62A5\u9519\u65E5\u5FD7\u548C\u76F8\u5173\u4FE1\u606F",paraId:8,tocIndex:2},{value:"\u76F8\u5173\u4F9D\u8D56\u7684\u6A21\u5757",paraId:9,tocIndex:2},{value:"\u4EE5 chatbot \u9879\u76EE\u4E3A\u4F8B",paraId:9,tocIndex:2},{value:"connector",paraId:10,tocIndex:2},{value:"codechat",paraId:10,tocIndex:2},{value:"sandbox",paraId:10,tocIndex:2},{value:"...",paraId:10,tocIndex:2},{value:"Issue with current documentation:",paraId:11,tocIndex:3},{value:"\u8BF7\u5E2E\u5FD9\u6307\u51FA\u5F53\u524D\u6587\u6863\u4E2D\u7684\u95EE\u9898\u3001\u9519\u522B\u5B57\u6216\u8005\u4EE4\u4EBA\u56F0\u60D1\u7684\u5730\u65B9",paraId:11,tocIndex:3},{value:"Idea or request for content",paraId:12,tocIndex:3},{value:"\u60A8\u89C9\u5F97\u5408\u7406\u7684\u6587\u6863\u8868\u8FF0\u65B9\u5F0F\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u7684",paraId:12,tocIndex:3},{value:"\u63D0\u4EA4 Issue \u524D\u7684\u786E\u8BA4\u6E05\u5355",paraId:13,tocIndex:4},{value:"\u8981\u5148\u786E\u8BA4\u662F\u5426\u67E5\u770B document\u3001issue\u3001discussion(github \u529F\u80FD) \u7B49\u516C\u5F00\u7684\u6587\u6863\u4FE1\u606F",paraId:13,tocIndex:4},{value:"\u6211\u641C\u7D22\u4E86 Codefuse \u76F8\u5173\u7684\u6240\u6709\u6587\u6863\u3002",paraId:14,tocIndex:4},{value:"\u6211\u4F7F\u7528 GitHub Issue \u641C\u7D22\u5BFB\u627E\u4E86\u4E00\u4E2A\u7C7B\u4F3C\u7684\u95EE\u9898\uFF0C\u4F46\u6CA1\u6709\u627E\u5230\u3002",paraId:14,tocIndex:4},{value:"\u6211\u4E3A\u8FD9\u4E2A\u95EE\u9898\u6DFB\u52A0\u4E86\u4E00\u4E2A\u975E\u5E38\u63CF\u8FF0\u6027\u7684\u6807\u9898\u3002",paraId:14,tocIndex:4},{value:"\u529F\u80FD\u63CF\u8FF0",paraId:15,tocIndex:4},{value:"\u63CF\u8FF0\u8FD9\u4E2A\u529F\u80FD\u4F5C\u4F55\u7528\u9014",paraId:15,tocIndex:4},{value:"\u76F8\u5173\u793A\u4F8B",paraId:16,tocIndex:4},{value:"\u63D0\u4F9B\u53C2\u8003\u7684\u6587\u6863\u3001\u4ED3\u5E93\u7B49\u4FE1\u606F\uFF0CPlease provide links to any relevant GitHub repos, papers, or other resources if relevant.",paraId:16,tocIndex:4},{value:"\u52A8\u673A",paraId:17,tocIndex:4},{value:"\u63CF\u8FF0\u4E0B\u8FD9\u4E2A feature \u7684\u52A8\u673A\uFF0C\u4E3A\u4EC0\u4E48\u9700\u8981\u8FD9\u4E2A\u529F\u80FD\uFF0C\u63D0\u4F9B\u8DB3\u591F\u7684\u4E0A\u4E0B\u6587\u4FE1\u606F\u5E2E\u52A9\u7406\u89E3\u8FD9\u4E2A feature \u7684\u8BC9\u6C42",paraId:17,tocIndex:4},{value:"Contribution",paraId:18,tocIndex:4},{value:"\u4F60\u5982\u4F55\u53C2\u4E0E\u5230\u8FD9\u4E2A feature \u7684\u6784\u5EFA\uFF08\u5982\u679C\u53C2\u4E0E\u7684\u8BDD\uFF09",paraId:18,tocIndex:4}]},55191:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u8981\u5148\u786E\u8BA4\u662F\u5426\u67E5\u770B document\u3001issue\u3001discussion(github \u529F\u80FD) \u7B49\u516C\u5F00\u7684\u6587\u6863\u4FE1\u606F",paraId:0,tocIndex:1},{value:"\u627E\u5230\u4F60\u60F3\u5904\u7406\u7684 GitHub \u95EE\u9898\u3002\u5982\u679C\u4E0D\u5B58\u5728\uFF0C\u521B\u5EFA\u4E00\u4E2A\u95EE\u9898\u6216\u8349\u6848 PR\uFF0C\u5E76\u8BF7\u6C42\u7EF4\u62A4\u8005\u8FDB\u884C\u68C0\u67E5\u3002",paraId:0,tocIndex:1},{value:"\u68C0\u67E5\u76F8\u5173\u7684\u3001\u76F8\u4F3C\u7684\u6216\u91CD\u590D\u7684\u62C9\u53D6\u8BF7\u6C42\u3002",paraId:0,tocIndex:1},{value:"\u521B\u5EFA\u4E00\u4E2A\u8349\u6848\u62C9\u53D6\u8BF7\u6C42\u3002",paraId:0,tocIndex:1},{value:"\u5B8C\u6210 PR \u6A21\u677F\u4E2D\u7684\u63CF\u8FF0\u3002",paraId:0,tocIndex:1},{value:"\u94FE\u63A5\u4EFB\u4F55\u88AB\u4F60\u7684 PR \u89E3\u51B3\u7684 GitHub \u95EE\u9898\u3002",paraId:0,tocIndex:1},{value:"PR \u7684\u63CF\u8FF0\u4FE1\u606F\uFF0C\u7528\u7B80\u6D01\u7684\u8BED\u8A00\u8868\u8FBE PR \u5B8C\u6210\u7684\u4E8B\u60C5\uFF0C\u5177\u4F53\u89C4\u8303\u89C1",paraId:1,tocIndex:2},{value:"Commit \u683C\u5F0F\u89C4\u8303",paraId:2,tocIndex:2},{value:"#xx",paraId:3,tocIndex:3},{value:" if has",paraId:3,tocIndex:3},{value:"\u8BF7\u63D0\u4F9B\u76F8\u5173\u7684\u6D4B\u8BD5\u4EE3\u7801\u5982\u679C\u6709\u5FC5\u8981\u7684\u8BDD",paraId:4,tocIndex:4},{value:"Commit \u5206\u4E3A\u201C\u6807\u9898\u201D\u548C\u201C\u5185\u5BB9\u201D\u3002\u539F\u5219\u4E0A\u6807\u9898\u5168\u90E8\u5C0F\u5199\u3002\u5185\u5BB9\u9996\u5B57\u6BCD\u5927\u5199\u3002",paraId:5,tocIndex:5},{value:"commit message \u7684\u6807\u9898\uFF1A",paraId:6,tocIndex:6},{value:"[<type>](<scope>) <subject> (#pr)",paraId:6,tocIndex:6},{value:"\u672C\u6B21\u63D0\u4EA4\u7684\u7C7B\u578B\uFF0C\u9650\u5B9A\u5728\u4EE5\u4E0B\u7C7B\u578B\uFF08\u5168\u5C0F\u5199\uFF09",paraId:7,tocIndex:7},{value:"fix\uFF1Abug \u4FEE\u590D",paraId:8,tocIndex:7},{value:"feature\uFF1A\u65B0\u589E\u529F\u80FD",paraId:8,tocIndex:7},{value:"feature-wip\uFF1A\u5F00\u53D1\u4E2D\u7684\u529F\u80FD\uFF0C\u6BD4\u5982\u67D0\u529F\u80FD\u7684\u90E8\u5206\u4EE3\u7801\u3002",paraId:8,tocIndex:7},{value:"improvement\uFF1A\u539F\u6709\u529F\u80FD\u7684\u4F18\u5316\u548C\u6539\u8FDB",paraId:8,tocIndex:7},{value:"style\uFF1A\u4EE3\u7801\u98CE\u683C\u8C03\u6574",paraId:8,tocIndex:7},{value:"typo\uFF1A\u4EE3\u7801\u6216\u6587\u6863\u52D8\u8BEF",paraId:8,tocIndex:7},{value:"refactor\uFF1A\u4EE3\u7801\u91CD\u6784\uFF08\u4E0D\u6D89\u53CA\u529F\u80FD\u53D8\u52A8\uFF09",paraId:8,tocIndex:7},{value:"performance/optimize\uFF1A\u6027\u80FD\u4F18\u5316",paraId:8,tocIndex:7},{value:"test\uFF1A\u5355\u5143\u6D4B\u8BD5\u7684\u6DFB\u52A0\u6216\u4FEE\u590D",paraId:8,tocIndex:7},{value:"deps\uFF1A\u7B2C\u4E09\u65B9\u4F9D\u8D56\u5E93\u7684\u4FEE\u6539",paraId:8,tocIndex:7},{value:"community\uFF1A\u793E\u533A\u76F8\u5173\u7684\u4FEE\u6539\uFF0C\u5982\u4FEE\u6539 Github Issue \u6A21\u677F\u7B49\u3002",paraId:8,tocIndex:7},{value:"\u51E0\u70B9\u8BF4\u660E\uFF1A",paraId:9,tocIndex:7},{value:`\u5982\u5728\u4E00\u6B21\u63D0\u4EA4\u4E2D\u51FA\u73B0\u591A\u79CD\u7C7B\u578B\uFF0C\u9700\u589E\u52A0\u591A\u4E2A\u7C7B\u578B\u3002
\u5982\u4EE3\u7801\u91CD\u6784\u5E26\u6765\u4E86\u6027\u80FD\u63D0\u5347\uFF0C\u53EF\u4EE5\u540C\u65F6\u6DFB\u52A0 [refactor][optimize]
\u4E0D\u5F97\u51FA\u73B0\u5982\u4E0A\u6240\u5217\u7C7B\u578B\u4E4B\u5916\u7684\u5176\u4ED6\u7C7B\u578B\u3002\u5982\u6709\u5FC5\u8981\uFF0C\u9700\u8981\u5C06\u65B0\u589E\u7C7B\u578B\u6DFB\u52A0\u5230\u8FD9\u4E2A\u6587\u6863\u4E2D\u3002`,paraId:10,tocIndex:7},{value:`\u672C\u6B21\u63D0\u4EA4\u6D89\u53CA\u7684\u6A21\u5757\u8303\u56F4\u3002\u56E0\u4E3A\u529F\u80FD\u6A21\u5757\u7E41\u591A\uFF0C\u5728\u6B64\u4EC5\u7F57\u5217\u90E8\u5206\uFF0C\u540E\u7EED\u6839\u636E\u9700\u6C42\u4E0D\u65AD\u5B8C\u5584\u3002
`,paraId:11,tocIndex:8},{value:"\u4EE5 chatbot \u7684\u6846\u67B6\u4E3A\u4F8B",paraId:11,tocIndex:8},{value:"connector",paraId:12,tocIndex:8},{value:"codechat",paraId:12,tocIndex:8},{value:"sandbox",paraId:12,tocIndex:8},{value:"...",paraId:12,tocIndex:8},{value:"\u51E0\u70B9\u8BF4\u660E\uFF1A",paraId:13,tocIndex:8},{value:"\u5C3D\u91CF\u4F7F\u7528\u5217\u8868\u4E2D\u5DF2\u5B58\u5728\u7684\u9009\u9879\u3002\u5982\u9700\u6DFB\u52A0\uFF0C\u8BF7\u53CA\u65F6\u66F4\u65B0\u672C\u6587\u6863\u3002",paraId:14,tocIndex:8},{value:"\u6807\u9898\u9700\u5C3D\u91CF\u6E05\u6670\u8868\u660E\u672C\u6B21\u63D0\u4EA4\u7684\u4E3B\u8981\u5185\u5BB9\u3002",paraId:15,tocIndex:9},{value:"comming soon",paraId:16,tocIndex:10},{value:"doris-commit-format",paraId:17,tocIndex:11}]},45810:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`
  `,paraId:0},{value:`
  `,paraId:1},{value:"HuggingFace",paraId:1},{value:` |
  `,paraId:1},{value:"\u9B54\u642D\u793E\u533A",paraId:1},{value:` |
  `,paraId:1},{value:"\u4EA7\u54C1\u4E3B\u9875",paraId:1},{value:"Hello World! This is CodeFuse!",paraId:2},{value:"CodeFuse\u7684\u4F7F\u547D\u662F\u5F00\u53D1\u4E13\u95E8\u8BBE\u8BA1\u7528\u4E8E\u652F\u6301\u6574\u4E2A\u8F6F\u4EF6\u5F00\u53D1\u751F\u547D\u5468\u671F\u7684\u5927\u578B\u4EE3\u7801\u8BED\u8A00\u6A21\u578B\uFF08Code LLMs\uFF09\uFF0C\u6DB5\u76D6\u8BBE\u8BA1\u3001\u9700\u6C42\u3001\u7F16\u7801\u3001\u6D4B\u8BD5\u3001\u90E8\u7F72\u3001\u8FD0\u7EF4\u7B49\u5173\u952E\u9636\u6BB5\u3002\u6211\u4EEC\u81F4\u529B\u4E8E\u6253\u9020\u521B\u65B0\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u8BA9\u8F6F\u4EF6\u5F00\u53D1\u8005\u4EEC\u5728\u7814\u53D1\u7684\u8FC7\u7A0B\u4E2D\u5982\u4E1D\u822C\u987A\u6ED1\u3002",paraId:3},{value:`
  `,paraId:4},{value:"\u6211\u4EEC\u975E\u5E38\u6709\u6FC0\u60C5\u53BB\u6784\u5EFA\u521B\u65B0\u7684\u89E3\u51B3\u65B9\u6848\u6765\u652F\u6301\u5168\u751F\u547D\u5468\u671FAI\u9A71\u52A8\u7684\u8F6F\u4EF6\u5F00\u53D1\uFF0C\u5982\u4E0A\u56FE\u6240\u793A\u3002\u540C\u65F6\uFF0C\u6211\u4EEC\u4E5F\u8BDA\u9080\u5FD7\u540C\u9053\u5408\u7684\u5DE5\u7A0B\u5E08\u548C\u7814\u7A76\u4EBA\u5458\u52A0\u5165\u8FD9\u4E2A\u793E\u533A\uFF0C\u5171\u540C\u6784\u5EFA\u548C\u589E\u5F3ACodeFuse\u3002",paraId:5}]},66130:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`import os, sys

api_key = "sk-xxx"
api_base_url= "https://api.openai.com/v1"
model_name = "gpt-3.5-turbo"
embed_model = "{{embed_model_name}}"
embed_model_path = "{{embed_model_path}}"
#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"
`,paraId:0,tocIndex:1},{value:"\u914D\u7F6E\u76F8\u5173 LLM \u548C Embedding Model",paraId:1,tocIndex:2},{value:`from muagent.base_configs.env_config import JUPYTER_WORK_PATH
from muagent.connector.agents import BaseAgent, ReactAgent, ExecutorAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.schema import Role, Message, ChainConfig
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.tools import toLangchainTools, TOOL_DICT, TOOL_SETS


llm_config = LLMConfig(
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,
    stop="**Observation:**"
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)
`,paraId:2,tocIndex:2},{value:"\u5B9A\u4E49\u4E24\u4E2A react agent\uFF0C\u8FDB\u884C\u5B9E\u9645\u4EFB\u52A1\u6267\u884C",paraId:3,tocIndex:3},{value:`# \u8FD9\u91CC\u91C7\u7528\u4E86\u9884\u5B9A\u4E49\u7684prompt\uFF0C\u4E5F\u53EF\u4EE5\u53C2\u8003\u4E0A\u8FF0prompt\u5B8C\u6210\u7F16\u5199
from muagent.connector.configs.prompts import REACT_CODE_PROMPT, REACT_TOOL_PROMPT
# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684tool agent
tool_role = Role(role_type="assistant", role_name="tool_reacter", prompt=REACT_TOOL_PROMPT)
tool_react_agent = ReactAgent(
    role=tool_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684code agent
code_role = Role(role_type="assistant", role_name="code_reacter", prompt=REACT_CODE_PROMPT)
code_react_agent = ReactAgent(
    role=code_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

`,paraId:4,tocIndex:3},{value:"\u5B9A\u4E49 groupAgent\uFF0C\u7528\u4E8E agent \u9009\u62E9",paraId:5,tocIndex:3},{value:`prompt = """#### Agent Profile

Your goal is to response according the Context Data's information with the role that will best facilitate a solution, taking into account all relevant context (Context) provided.

When you need to select the appropriate role for handling a user's query, carefully read the provided role names, role descriptions and tool list.

ATTENTION: response carefully referenced "Response Output Format" in format.

#### Response Output Format

**Thoughts:** think the reason step by step about why you selecte one role

**Role:** Select the role from agent names.
"""

# \u5B9A\u4E49\u4E86\u4E00\u4E2AgroupAgent
role = Role(role_type="assistant", role_name="qaer", prompt=prompt)
base_agent = SelectorAgent(
    role=role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
    group_agents=[tool_react_agent, code_react_agent]
)
`,paraId:6,tocIndex:3},{value:`# prepare your tools
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])

# if you want to analyze a data.csv, please put the csv file into a jupyter_work_path (or your defined path)
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/employee_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

question = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728employee_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    user_name="test", role_type="user", role_name="user", input_query=question,
    tools=tools,
)
# base_agent.pre_print(query)
output_message = base_agent.step(query)
print(output_message.input_query)
print(output_message.role_content)
`,paraId:7,tocIndex:4},{value:`# \u914D\u7F6E\u7ED3\u6784\u5728\u8FD9\u4E2A\u76EE\u5F55
from muagent.connector.schema import Role
`,paraId:8,tocIndex:5},{value:"Config Key Name",paraId:9,tocIndex:6},{value:"Type",paraId:9,tocIndex:6},{value:"Description",paraId:9,tocIndex:6},{value:"role",paraId:9,tocIndex:6},{value:"Role",paraId:9,tocIndex:6},{value:"\u89D2\u8272\u63CF\u8FF0",paraId:9,tocIndex:6},{value:"focus_agents",paraId:9,tocIndex:6},{value:"List[String]",paraId:9,tocIndex:6},{value:"metagpt \u7684\u903B\u8F91\uFF0C\u5173\u6CE8\u54EA\u4E9B agent \u751F\u6210\u7684 message\uFF0C\u53EF\u9009\u503C\u8303\u56F4\u4E3A\uFF1Arole_name",paraId:9,tocIndex:6},{value:"focus_message_keys",paraId:9,tocIndex:6},{value:"List[String]",paraId:9,tocIndex:6},{value:"\u989D\u5916\u589E\u52A0\u7684\u903B\u8F91\uFF0C\u5173\u6CE8 message \u91CC\u9762\u5177\u4F53\u7684 key \u4FE1\u606F\u53EF\u9009\u503C\u8303\u56F4\u4E3A\uFF1Aagent \u7684 output_keys",paraId:9,tocIndex:6},{value:"chat_turn",paraId:9,tocIndex:6},{value:"int",paraId:9,tocIndex:6},{value:"\u53EA\u9488\u5BF9 ReactAgent \u6709\u6548",paraId:9,tocIndex:6},{value:"llm_config",paraId:9,tocIndex:6},{value:"LLMConfig",paraId:9,tocIndex:6},{value:"\u5927\u8BED\u8A00\u6A21\u578B\u914D\u7F6E",paraId:9,tocIndex:6},{value:"embed_config",paraId:9,tocIndex:6},{value:"EmbedConfig",paraId:9,tocIndex:6},{value:"\u5411\u91CF\u6A21\u578B\u914D\u7F6E",paraId:9,tocIndex:6},{value:"sandbox_server",paraId:9,tocIndex:6},{value:"Dict",paraId:9,tocIndex:6},{value:"\u6C99\u76D2\u73AF\u5883\u5373 notebook \u542F\u52A8\u914D\u7F6E",paraId:9,tocIndex:6},{value:"jupyter_work_path",paraId:9,tocIndex:6},{value:"str",paraId:9,tocIndex:6},{value:"\u6C99\u76D2\u73AF\u5883\u7684\u5DE5\u4F5C\u76EE\u5F55",paraId:9,tocIndex:6},{value:"kb_root_path",paraId:9,tocIndex:6},{value:"str",paraId:9,tocIndex:6},{value:"memory \u7684\u5B58\u50A8\u8DEF\u5F84",paraId:9,tocIndex:6},{value:"log_verbose",paraId:9,tocIndex:6},{value:"str",paraId:9,tocIndex:6},{value:"agent prompt&predict \u7684\u65E5\u5FD7\u6253\u5370\u7EA7\u522B",paraId:9,tocIndex:6},{value:"Config Key Name",paraId:10,tocIndex:7},{value:"Type",paraId:10,tocIndex:7},{value:"Description",paraId:10,tocIndex:7},{value:"role_type",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u89D2\u8272\u7C7B\u578B, Enum: system\u3001user\u3001assistant\u3001function\u3001observation\u3001summary",paraId:10,tocIndex:7},{value:"role_name",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u89D2\u8272\u540D\u79F0",paraId:10,tocIndex:7},{value:"role_desc",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u89D2\u8272\u63CF\u8FF0",paraId:10,tocIndex:7},{value:"agent_type",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u4EE3\u7406\u7C7B\u578B",paraId:10,tocIndex:7},{value:"role_prompt",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u89D2\u8272 instruction",paraId:10,tocIndex:7},{value:"prompt",paraId:10,tocIndex:7},{value:"str",paraId:10,tocIndex:7},{value:"\u5B8C\u6574 prompt \u7ED3\u6784",paraId:10,tocIndex:7}]},6189:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u9996\u5148\u589E\u52A0 openai \u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u5B83\u7C7B\u4F3C\u4E8E openai \u63A5\u53E3\u7684\u6A21\u578B\uFF08\u901A\u8FC7 fastchat \u542F\u52A8\uFF09",paraId:0,tocIndex:0},{value:`import os, sys

api_key = "sk-xxx"
api_base_url= "https://api.openai.com/v1"
model_name = "gpt-3.5-turbo"
embed_model = "{{embed_model_name}}"
embed_model_path = "{{embed_model_path}}"
#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"
`,paraId:1,tocIndex:0},{value:"\u914D\u7F6E\u76F8\u5173 LLM \u548C Embedding Model",paraId:2,tocIndex:1},{value:`from muagent.base_configs.env_config import JUPYTER_WORK_PATH
from muagent.connector.agents import BaseAgent, ReactAgent, ExecutorAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.schema import Role, Message, ChainConfig
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.tools import toLangchainTools, TOOL_DICT, TOOL_SETS


llm_config = LLMConfig(
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,
    stop="**Observation:**"
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)
`,paraId:3,tocIndex:1},{value:"\u5B9A\u4E49\u4E24\u4E2A react agent\uFF0C\u8FDB\u884C\u5B9E\u9645\u4EFB\u52A1\u6267\u884C",paraId:4,tocIndex:2},{value:`# \u8FD9\u91CC\u91C7\u7528\u4E86\u9884\u5B9A\u4E49\u7684prompt\uFF0C\u4E5F\u53EF\u4EE5\u53C2\u8003\u4E0A\u8FF0prompt\u5B8C\u6210\u7F16\u5199
from muagent.connector.configs.prompts import REACT_CODE_PROMPT, REACT_TOOL_PROMPT
# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684tool agent
tool_role = Role(role_type="assistant", role_name="tool_reacter", prompt=REACT_TOOL_PROMPT)
tool_react_agent = ReactAgent(
    role=tool_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684code agent
code_role = Role(role_type="assistant", role_name="code_reacter", prompt=REACT_CODE_PROMPT)
code_react_agent = ReactAgent(
    role=code_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

`,paraId:5,tocIndex:2},{value:"\u5B9A\u4E49 groupAgent\uFF0C\u7528\u4E8E agent \u9009\u62E9",paraId:6,tocIndex:2},{value:`prompt = """#### Agent Profile

Your goal is to response according the Context Data's information with the role that will best facilitate a solution, taking into account all relevant context (Context) provided.

When you need to select the appropriate role for handling a user's query, carefully read the provided role names, role descriptions and tool list.

ATTENTION: response carefully referenced "Response Output Format" in format.

#### Response Output Format

**Thoughts:** think the reason step by step about why you selecte one role

**Role:** Select the role from agent names.
"""

# \u5B9A\u4E49\u4E86\u4E00\u4E2AgroupAgent
role = Role(role_type="assistant", role_name="qaer", prompt=prompt)
base_agent = SelectorAgent(
    role=role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
    group_agents=[tool_react_agent, code_react_agent]
)
`,paraId:7,tocIndex:2},{value:`chain_config = ChainConfig(chain_name="group_chain", agents=[base_agent.role.role_name], chat_turn=1)
base_chain = BaseChain(
    chainConfig=chain_config, agents=[base_agent],
    llm_config=llm_config, embed_config=embed_config,
)

`,paraId:8,tocIndex:3},{value:"\u5F00\u59CB\u6267\u884C",paraId:9,tocIndex:4},{value:`# prepare your tools
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])

# if you want to analyze a data.csv, please put the csv file into a jupyter_work_path (or your defined path)
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/employee_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

question = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728employee_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    user_name="test", role_type="user", role_name="user", input_query=question,
    tools=tools,
)

# base_chain.pre_print(query)
output_message, output_memory = base_chain.step(query)
print(output_message.input_query)
print(output_message.role_content)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:10,tocIndex:4},{value:"Config Key Name",paraId:11,tocIndex:5},{value:"Type",paraId:11,tocIndex:5},{value:"Description",paraId:11,tocIndex:5},{value:"agents",paraId:11,tocIndex:5},{value:"List[BaseAgent]",paraId:11,tocIndex:5},{value:"llm_config",paraId:11,tocIndex:5},{value:"LLMConfig",paraId:11,tocIndex:5},{value:"\u5927\u8BED\u8A00\u6A21\u578B\u914D\u7F6E",paraId:11,tocIndex:5},{value:"embed_config",paraId:11,tocIndex:5},{value:"EmbedConfig",paraId:11,tocIndex:5},{value:"\u5411\u91CF\u6A21\u578B\u914D\u7F6E",paraId:11,tocIndex:5},{value:"sandbox_server",paraId:11,tocIndex:5},{value:"Dict",paraId:11,tocIndex:5},{value:"\u6C99\u76D2\u73AF\u5883\u5373 notebook \u542F\u52A8\u914D\u7F6E",paraId:11,tocIndex:5},{value:"jupyter_work_path",paraId:11,tocIndex:5},{value:"str",paraId:11,tocIndex:5},{value:"\u6C99\u76D2\u73AF\u5883\u7684\u5DE5\u4F5C\u76EE\u5F55",paraId:11,tocIndex:5},{value:"kb_root_path",paraId:11,tocIndex:5},{value:"str",paraId:11,tocIndex:5},{value:"memory \u7684\u5B58\u50A8\u8DEF\u5F84",paraId:11,tocIndex:5},{value:"log_verbose",paraId:11,tocIndex:5},{value:"str",paraId:11,tocIndex:5},{value:"agent prompt&predict \u7684\u65E5\u5FD7\u6253\u5370\u7EA7\u522B",paraId:11,tocIndex:5}]},22418:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`import os
import openai

from muagent.base_configs.env_config import KB_ROOT_PATH
from muagent.connector.memory_manager import BaseMemoryManager, LocalMemoryManager
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.connector.schema import Message

#
OPENAI_API_BASE = "https://api.openai.com/v1"
os.environ["API_BASE_URL"] = OPENAI_API_BASE
os.environ["OPENAI_API_KEY"] = "sk-xxx"
openai.api_key = "sk-xxx"
os.environ["model_name"] = "gpt-3.5-turbo"

#
os.environ["embed_model"] = "{{embed_model_name}}"
os.environ["embed_model_path"] = "{{embed_model_path}}"

#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"


# LLM \u548C Embedding Model \u914D\u7F6E
llm_config = LLMConfig(
    model_name=os.environ["model_name"], api_key=os.environ["OPENAI_API_KEY"],
    api_base_url=os.environ["API_BASE_URL"], temperature=0.3
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=os.environ["embed_model"],
    embed_model_path=os.environ["embed_model_path"]
)
`,paraId:0,tocIndex:1},{value:`
# prepare your message
message1 = Message(
    chat_index="default", role_name="test1", role_type="user", role_content="hello",
    parsed_output_list=[{"input": "hello"}], user_name="default"
)

text = "hi! how can I help you?"
message2 = Message(
    chat_index="shuimo", role_name="test2", role_type="assistant", role_content=text, parsed_output_list=[{"answer": text}],
    user_name="shuimo"
)

text = "they say hello and hi to each other"
message3 = Message(
    chat_index="shanshi", role_name="test3", role_type="summary", role_content=text,
    parsed_output_list=[{"summary": text}],
    user_name="shanshi"
    )

# append or extend test
local_memory_manager = LocalMemoryManager(embed_config=embed_config, llm_config=llm_config, do_init=True)
# append can ignore user_name
local_memory_manager.append(message=message1)
local_memory_manager.append(message=message2)
local_memory_manager.append(message=message3)
`,paraId:1,tocIndex:2},{value:`local_memory_manager = LocalMemoryManager(embed_config=embed_config, llm_config=llm_config, do_init=False)
local_memory_manager.load()
print(local_memory_manager.get_memory_pool("default").messages)
print(local_memory_manager.get_memory_pool("shuimo").messages)
print(local_memory_manager.get_memory_pool("shanshi").messages)
`,paraId:2,tocIndex:3},{value:`# embedding retrieval test
text = "say hi to each other, i want some help"
# retrieval_type=datetime => retrieval from datetime and jieba
print(local_memory_manager.router_retrieval(chat_index="shanshi", text=text, datetime="2024-03-12 17:48:00", n=4, top_k=5, retrieval_type= "datetime"))
# retrieval_type=eembedding => retrieval from embedding
print(local_memory_manager.router_retrieval(chat_index="shanshi", text=text, top_k=5, retrieval_type= "embedding"))
# retrieval_type=text => retrieval from jieba
print(local_memory_manager.router_retrieval(chat_index="shanshi", text=text, top_k=5, retrieval_type= "text"))

`,paraId:3,tocIndex:4},{value:`# recursive_summary test
print(local_memory_manager.recursive_summary(local_memory_manager.get_memory_pool("shanshi").messages, split_n=1, chat_index="shanshi"))
`,paraId:4,tocIndex:5}]},33430:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5C06 chat history \u5728\u6570\u636E\u5E93\u8FDB\u884C\u8BFB\u5199\u7BA1\u7406\uFF0C\u5305\u62EC user input\u3001 llm output\u3001doc retrieval\u3001code retrieval\u3001search retrieval",paraId:0,tocIndex:0},{value:"\u5BF9 chat history \u8FDB\u884C\u5173\u952E\u4FE1\u606F\u603B\u7ED3 summary context\uFF0C\u4F5C\u4E3A prompt context",paraId:0,tocIndex:0},{value:"\u63D0\u4F9B\u68C0\u7D22\u529F\u80FD\uFF0C\u68C0\u7D22 chat history \u6216\u8005 summary context \u4E2D\u4E0E\u95EE\u9898\u76F8\u5173\u4FE1\u606F\uFF0C\u8F85\u52A9\u95EE\u7B54",paraId:0,tocIndex:0},{value:"\u5B8C\u6574\u793A\u4F8B\u89C1 ~/tests/connector/memory_manager_test.py",paraId:1,tocIndex:1}]},1738:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u9996\u5148\u589E\u52A0 openai \u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u5B83\u7C7B\u4F3C\u4E8E openai \u63A5\u53E3\u7684\u6A21\u578B\uFF08\u901A\u8FC7 fastchat \u542F\u52A8\uFF09",paraId:0,tocIndex:0},{value:`import os, sys

api_key = "sk-xxx"
api_base_url= "https://api.openai.com/v1"
model_name = "gpt-3.5-turbo"
embed_model = "{{embed_model_name}}"
embed_model_path = "{{embed_model_path}}"
#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"
`,paraId:1,tocIndex:0},{value:"\u914D\u7F6E\u76F8\u5173 LLM \u548C Embedding Model",paraId:2,tocIndex:1},{value:`from muagent.base_configs.env_config import JUPYTER_WORK_PATH
from muagent.connector.agents import BaseAgent, ReactAgent, ExecutorAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.phase import BasePhase
from muagent.connector.schema import Role, Message, ChainConfig
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.tools import toLangchainTools, TOOL_DICT, TOOL_SETS


llm_config = LLMConfig(
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,
    stop="**Observation:**"
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)
`,paraId:3,tocIndex:1},{value:"\u5B9A\u4E49\u4E24\u4E2A react agent\uFF0C\u8FDB\u884C\u5B9E\u9645\u4EFB\u52A1\u6267\u884C",paraId:4,tocIndex:2},{value:`# \u8FD9\u91CC\u91C7\u7528\u4E86\u9884\u5B9A\u4E49\u7684prompt\uFF0C\u4E5F\u53EF\u4EE5\u53C2\u8003\u4E0A\u8FF0prompt\u5B8C\u6210\u7F16\u5199
from muagent.connector.configs.prompts import REACT_CODE_PROMPT, REACT_TOOL_PROMPT
# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684tool agent
tool_role = Role(role_type="assistant", role_name="tool_reacter", prompt=REACT_TOOL_PROMPT)
tool_react_agent = ReactAgent(
    role=tool_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

# \u5B9A\u4E49\u4E86\u57FA\u4E8Ereact\u7684code agent
code_role = Role(role_type="assistant", role_name="code_reacter", prompt=REACT_CODE_PROMPT)
code_react_agent = ReactAgent(
    role=code_role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
)

`,paraId:5,tocIndex:2},{value:"\u5B9A\u4E49 groupAgent\uFF0C\u7528\u4E8E agent \u9009\u62E9",paraId:6,tocIndex:2},{value:`prompt = """#### Agent Profile

Your goal is to response according the Context Data's information with the role that will best facilitate a solution, taking into account all relevant context (Context) provided.

When you need to select the appropriate role for handling a user's query, carefully read the provided role names, role descriptions and tool list.

ATTENTION: response carefully referenced "Response Output Format" in format.

#### Response Output Format

**Thoughts:** think the reason step by step about why you selecte one role

**Role:** Select the role from agent names.
"""

# \u5B9A\u4E49\u4E86\u4E00\u4E2AgroupAgent
role = Role(role_type="assistant", role_name="qaer", prompt=prompt)
base_agent = SelectorAgent(
    role=role,
    task="",
    chat_turn=3,
    focus_agents=[],
    focus_message_keys=[],
    llm_config=llm_config, embed_config=embed_config,
    group_agents=[tool_react_agent, code_react_agent]
)
`,paraId:7,tocIndex:2},{value:`chain_config = ChainConfig(chain_name="group_chain", agents=[base_agent.role.role_name], chat_turn=1)
base_chain = BaseChain(
    chainConfig=chain_config, agents=[base_agent],
    llm_config=llm_config, embed_config=embed_config,
)

`,paraId:8,tocIndex:3},{value:`base_phase = BasePhase(
    phase_name="group_phase", chains=[base_chain],
    embed_config=embed_config, llm_config=llm_config
)
`,paraId:9,tocIndex:4},{value:"\u5F00\u59CB\u6267\u884C",paraId:10,tocIndex:5},{value:`# prepare your tools
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])

# if you want to analyze a data.csv, please put the csv file into a jupyter_work_path (or your defined path)
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/employee_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

question = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728employee_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    user_name="test", role_type="user", role_name="user", input_query=question,
    tools=tools,
)

# base_phase.pre_print(query)
output_message, output_memory = base_phase.step(query)
print(output_message.input_query)
print(output_message.role_content)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:11,tocIndex:5},{value:"Config Key Name",paraId:12,tocIndex:6},{value:"Type",paraId:12,tocIndex:6},{value:"Description",paraId:12,tocIndex:6},{value:"phase_name",paraId:12,tocIndex:6},{value:"String",paraId:12,tocIndex:6},{value:"\u573A\u666F\u540D\u79F0",paraId:12,tocIndex:6},{value:"chains",paraId:12,tocIndex:6},{value:"List[Chain]",paraId:12,tocIndex:6},{value:"chain \u5217\u8868\uFF0C\u6309\u987A\u5E8F\u6267\u884C",paraId:12,tocIndex:6},{value:"llm_config",paraId:12,tocIndex:6},{value:"LLMConfig",paraId:12,tocIndex:6},{value:"\u5927\u8BED\u8A00\u6A21\u578B\u914D\u7F6E",paraId:12,tocIndex:6},{value:"embed_config",paraId:12,tocIndex:6},{value:"EmbedConfig",paraId:12,tocIndex:6},{value:"\u5411\u91CF\u6A21\u578B\u914D\u7F6E",paraId:12,tocIndex:6},{value:"sandbox_server",paraId:12,tocIndex:6},{value:"Dict",paraId:12,tocIndex:6},{value:"\u6C99\u76D2\u73AF\u5883\u5373 notebook \u542F\u52A8\u914D\u7F6E",paraId:12,tocIndex:6},{value:"jupyter_work_path",paraId:12,tocIndex:6},{value:"str",paraId:12,tocIndex:6},{value:"\u6C99\u76D2\u73AF\u5883\u7684\u5DE5\u4F5C\u76EE\u5F55",paraId:12,tocIndex:6},{value:"kb_root_path",paraId:12,tocIndex:6},{value:"str",paraId:12,tocIndex:6},{value:"memory \u7684\u5B58\u50A8\u8DEF\u5F84",paraId:12,tocIndex:6},{value:"log_verbose",paraId:12,tocIndex:6},{value:"str",paraId:12,tocIndex:6},{value:"agent prompt&predict \u7684\u65E5\u5FD7\u6253\u5370\u7EA7\u522B",paraId:12,tocIndex:6}]},75999:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u7BA1\u7406\u591A\u667A\u80FD\u4F53\u94FE\u8DEF\u4E2D\u7684 prompt \u521B\u5EFA",paraId:0,tocIndex:0},{value:"\u5FEB\u901F\u914D\u7F6E\uFF1A\u91C7\u7528\u9884\u8BBE\u7684\u5904\u7406\u51FD\u6570\uFF0C\u7528\u6237\u4EC5\u9700\u901A\u8FC7\u5B9A\u4E49\u667A\u80FD\u4F53\u7684\u8F93\u5165\u8F93\u51FA\u5373\u53EF\u8F7B\u677E\u914D\u7F6E\uFF0C\u5B9E\u73B0\u591A\u667A\u80FD\u4F53\u7684 prompt \u5FEB\u901F\u7EC4\u88C5\u548C\u914D\u7F6E\u3002",paraId:1,tocIndex:0},{value:"\u81EA\u5B9A\u4E49\u652F\u6301\uFF1A\u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49 prompt \u5185\u90E8\u5404\u6A21\u5757\u7684\u5904\u7406\u903B\u8F91\uFF0C\u4EE5\u8FBE\u5230\u4E2A\u6027\u5316\u7684\u667A\u80FD\u4F53 prompt \u5B9E\u73B0\u3002",paraId:1,tocIndex:0},{value:"Agent Profile\uFF1A\u6B64\u90E8\u5206\u6D89\u53CA\u5230\u667A\u80FD\u4F53\u7684\u57FA\u7840\u63CF\u8FF0\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\u4EE3\u7406\u7684\u7C7B\u578B\u3001\u529F\u80FD\u548C\u6307\u4EE4\u96C6\u3002\u7528\u6237\u53EF\u4EE5\u5728\u8FD9\u91CC\u8BBE\u7F6E\u667A\u80FD\u4F53\u7684\u57FA\u672C\u5C5E\u6027\uFF0C\u786E\u4FDD\u5176\u884C\u4E3A\u4E0E\u9884\u671F\u76F8\u7B26\u3002",paraId:2,tocIndex:1},{value:`Context\uFF1A\u4E0A\u4E0B\u6587\u4FE1\u606F\uFF0C\u7ED9\u667A\u80FD\u4F53\u505A\u53C2\u8003\uFF0C\u5E2E\u52A9\u667A\u80FD\u4F53\u66F4\u597D\u7684\u8FDB\u884C\u51B3\u7B56\u3002
`,paraId:2,tocIndex:1},{value:"Tool Information\uFF1A\u6B64\u90E8\u5206\u4E3A\u667A\u80FD\u4F53\u63D0\u4F9B\u4E86\u4E00\u5957\u53EF\u7528\u5DE5\u5177\u7684\u6E05\u5355\uFF0C\u667A\u80FD\u4F53\u53EF\u4EE5\u6839\u636E\u5F53\u524D\u7684\u573A\u666F\u9700\u6C42\u4ECE\u4E2D\u6311\u9009\u5408\u9002\u7684\u5DE5\u5177\u4EE5\u8F85\u52A9\u5176\u6267\u884C\u4EFB\u52A1\u3002",paraId:3,tocIndex:1},{value:"Reference Documents\uFF1A\u8FD9\u91CC\u53EF\u4EE5\u5305\u542B\u4EE3\u7406\u53C2\u8003\u4F7F\u7528\u7684\u6587\u6863\u6216\u4EE3\u7801\u7247\u6BB5\uFF0C\u4EE5\u4FBF\u4E8E\u5B83\u5728\u5904\u7406\u8BF7\u6C42\u65F6\u80FD\u591F\u53C2\u7167\u76F8\u5173\u8D44\u6599\u3002",paraId:3,tocIndex:1},{value:"Session Records\uFF1A\u5728\u8FDB\u884C\u591A\u8F6E\u5BF9\u8BDD\u65F6\uFF0C\u6B64\u90E8\u5206\u4F1A\u8BB0\u5F55\u4E4B\u524D\u7684\u4EA4\u8C08\u5185\u5BB9\uFF0C\u786E\u4FDD\u667A\u80FD\u4F53\u80FD\u591F\u5728\u4E0A\u4E0B\u6587\u4E2D\u4FDD\u6301\u8FDE\u8D2F\u6027\u3002",paraId:3,tocIndex:1},{value:"Response Output Format\uFF1A\u7528\u6237\u53EF\u4EE5\u5728\u6B64\u8BBE\u7F6E\u667A\u80FD\u4F53\u7684\u8F93\u51FA\u683C\u5F0F\uFF0C\u4EE5\u786E\u4FDD\u751F\u6210\u7684\u54CD\u5E94\u6EE1\u8DB3\u7279\u5B9A\u7684\u683C\u5F0F\u8981\u6C42\uFF0C\u5305\u62EC\u7ED3\u6784\u3001\u8BED\u6CD5\u7B49\u3002",paraId:2,tocIndex:1},{value:"\u5728\u6574\u4E2A Prompt \u7684\u6574\u4E2A\u7ED3\u6784\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u53BB\u5B9A\u4E49\u4E09\u4E2A\u90E8\u5206",paraId:4,tocIndex:2},{value:"Agent Profil",paraId:5,tocIndex:2},{value:"Input Format: \u9700\u8981\u5199\u51FA ",paraId:5,tocIndex:2},{value:"**key_name:** key_description",paraId:5,tocIndex:2},{value:"Response Output Format\uFF1A\u9700\u8981\u5199\u51FA ",paraId:5,tocIndex:2},{value:"**key_name:** key_description",paraId:5,tocIndex:2},{value:`#### Agent Profile

Agent Description ...

#### Input Format

**Origin Query:** the initial question or objective that the user wanted to achieve

**Context:** the current status and history of the tasks to determine if Origin Query has been achieved.

#### Response Output Format
**Action Status:** finished or continued
If it's 'finished', the context can answer the origin query.
If it's 'continued', the context cant answer the origin query.

**REASON:** Justify the decision of choosing 'finished' and 'continued' by evaluating the progress step by step.
Consider all relevant information. If the tasks were aimed at an ongoing process, assess whether it has reached a satisfactory conclusion.
`,paraId:6,tocIndex:2},{value:"\u5176\u4E2D\uFF0C\u6211\u4EEC\u6574\u5408\u4E86\u90E8\u5206 ",paraId:7,tocIndex:2},{value:"Input Format",paraId:7,tocIndex:2},{value:" \u7684\u901A\u7528\u64CD\u4F5C\uFF0C\u5185\u7F6E\u4E86\u4E00\u90E8\u5206\u5B57\u6BB5\u548C\u64CD\u4F5C\u6D41\u7A0B,\u5F62\u6210\u901A\u7528\u7684\u914D\u7F6E\u5316\u64CD\u4F5C\u3002",paraId:7,tocIndex:2},{value:"\u672A\u6765\u6211\u4EEC\u4F1A\u4E5F\u4F1A\u8FDB\u4E00\u6B65\u5C06 Agent Profile \u548C Response Output Format \u7684\u90E8\u5206\uFF0C\u5B9E\u73B0\u53EF\u914D\u7F6E\u5316\u64CD\u4F5C\uFF0C\u964D\u4F4E Prompt \u7F16\u5199\u96BE\u5EA6",paraId:8,tocIndex:2},{value:"\u6709\u81EA\u5B9A\u4E49\u5B57\u6BB5\u9700\u6C42\uFF0C\u6839\u636E\u5B9E\u9645\u9700\u6C42\u5B8C\u6210\u6784\u9020",paraId:9,tocIndex:3},{value:`class CodeGenDocer(BaseAgent):

    def start_action_step(self, message: Message) -> Message:
        '''do action before agent predict '''
        # \u6839\u636E\u95EE\u9898\u83B7\u53D6\u4EE3\u7801\u7247\u6BB5\u548C\u8282\u70B9\u4FE1\u606F
        action_json = CodeRetrievalSingle.run(message.code_engine_name, message.input_query, llm_config=self.llm_config,
                                              embed_config=self.embed_config, local_graph_path=message.local_graph_path, use_nh=message.use_nh,search_type="tag")
        current_vertex = action_json['vertex']
        message.customed_kargs["Code Snippet"] = action_json["code"]
        message.customed_kargs['Current_Vertex'] = current_vertex
        return message

`,paraId:10,tocIndex:3},{value:"\u5728\u6211\u4EEC\u6784\u5EFA phase\u3001chain \u6216\u8005 agent \u4E4B\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51FD\u6570\u7684\u9884\u6253\u5370\u529F\u80FD\uFF0C\u5B9E\u73B0 agents \u94FE\u8DEF\u786E\u8BA4\uFF0C\u907F\u514D\u5728\u6267\u884C\u540E\u624D\u53D1\u73B0\u95EE\u9898\uFF0C\u53EF\u63D0\u524D\u8FDB\u884C debug",paraId:11,tocIndex:4},{value:`from muagent.base_configs.env_config import JUPYTER_WORK_PATH
from muagent.connector.agents import BaseAgent, ReactAgent, ExecutorAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.schema import Role, Message, ChainConfig
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.tools import toLangchainTools, TOOL_DICT, TOOL_SETS


import os, sys

api_key = "sk-xxx"
api_base_url= "https://api.openai.com/v1"
model_name = "gpt-3.5-turbo"
embed_model = "{{embed_model_name}}"
embed_model_path = "{{embed_model_path}}"
#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"

llm_config = LLMConfig(
    model_name="gpt-4", api_key=api_key,  api_base_url=api_base_url, temperature=0.3
)
embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)

phase_name = "baseGroupPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

question = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728employee_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    user_name="test", role_type="user", role_name="user", input_query=question,
)
phase.pre_print(query)
`,paraId:12,tocIndex:4},{value:"\u8FD9\u91CC\u91C7\u7528\u9884\u5B9A\u4E49\u597D\u7684\u94FE\u8DEF\uFF0C\u81EA\u5B9A\u4E49 case \u53EF\u89C1",paraId:13,tocIndex:4},{value:"customed_example",paraId:14,tocIndex:4},{value:`>>> \u5B8C\u6574\u4FE1\u606F\u786E\u8BA4 muagent.connector.configs\u4E2D\u8FDB\u884C\u786E\u8BA4

##########################
<<<<baseGroup's prompt>>>>
##########################

### Agent Profile
Your goal is to response according the Context Data's information with the role that will best facilitate a solution, taking into account all relevant context (Context) provided.
When you need to select the appropriate role for handling a user's query, carefully read the provided role names, role descriptions and tool list.
ATTENTION: response carefully referenced "Response Output Format" in format.

### Tool Information

### Agent Infomation
        Please ensure your selection is one of the listed roles. Available roles for selection:
        "role name: tool_react
role description:  Agent Profile,When interacting with users, your role is to respond in a helpful and accurate manner using the tools available. Follow the steps below to ensure efficient and effective use of the tools.,Please note that all the tools you can use are listed below. You can only choose from these tools for use. ,If there are no suitable tools, please do not invent any tools. Just let the user know that you do not have suitable tools to use.,ATTENTION: The Action Status field ensures that the tools or code mentioned in the Action can be parsed smoothly. Please make sure not to omit the Action Status field when replying.,"
"role name: code_react
role description:  Agent Profile,When users need help with coding, your role is to provide precise and effective guidance.,Write the code step by step, showing only the part necessary to solve the current problem. Each reply should contain only the code required for the current step.,"
        Please ensure select the Role from agent names, such as tool_react, code_react

### Context Data

#### Reference Documents

#### Session Records

#### Current Plan

### Response Output Format
**Thoughts:** think the reason step by step about why you selecte one role
**Role:** Select the role from agent names.

### Begin!!!

###################
<<<<LLM PREDICT>>>>
###################

**Thoughts:**
**Role:**


###########################
<<<<tool_react's prompt>>>>
###########################
### Agent Profile
When interacting with users, your role is to respond in a helpful and accurate manner using the tools available. Follow the steps below to ensure efficient and effective use of the tools.
Please note that all the tools you can use are listed below. You can only choose from these tools for use.
If there are no suitable tools, please do not invent any tools. Just let the user know that you do not have suitable tools to use.
ATTENTION: The Action Status field ensures that the tools or code mentioned in the Action can be parsed smoothly. Please make sure not to omit the Action Status field when replying.

### Tool Information

### Context Data

#### Reference Documents

#### Session Records

#### Task Records

### Response Output Format
**Thoughts:** According the previous observations, plan the approach for using the tool effectively.
...

### Begin!!!

###################
<<<<LLM PREDICT>>>>
###################
**Thoughts:**
**Action Status:**
**Action:**
**Observation:**
**Thoughts:**
**Action Status:**
**Action:**

###########################
<<<<code_react's prompt>>>>
###########################
### Agent Profile
When users need help with coding, your role is to provide precise and effective guidance.
Write the code step by step, showing only the part necessary to solve the current problem. Each reply should contain only the code required for the current step.

### Context Data

#### Reference Documents

#### Session Records

### Response Output Format

**Thoughts:** According the previous context, solve the problem step by step, only displaying the thought process necessary for the current step of solving the problem,
outline the plan for executing this step.

**Action Status:** Set to 'stopped' or 'code_executing'.
If it's 'stopped', the action is to provide the final answer to the session records and executed steps.
If it's 'code_executing', the action is to write the code.
...

### Begin!!!

###################
<<<<LLM PREDICT>>>>
###################

**Thoughts:**
**Action Status:**
**Action:**
**Observation:**
**Thoughts:**
**Action Status:**
**Action:**

`,paraId:15,tocIndex:4}]},7999:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`import os
import openai
from coagent.base_configs.env_config import KB_ROOT_PATH
from coagent.connector.memory_manager import BaseMemoryManager, LocalMemoryManager
from coagent.llm_models.llm_config import EmbedConfig, LLMConfig
from coagent.connector.schema import Message


os.environ["API_BASE_URL"] = OPENAI_API_BASE
os.environ["OPENAI_API_KEY"] = "sk-xx"
openai.api_key = "sk-xxx"
# os.environ["OPENAI_PROXY"] = "socks5h://127.0.0.1:13659"
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"

# TBASE CONFIG
TBASE_ARGS = {
        'host': '{url}',
        'port': 6379,
        'username': '',
        'password': ''
    }


# LLM and Embedding Model configurations
llm_config = LLMConfig(
    model_name=os.environ["model_name"], api_key=os.environ["OPENAI_API_KEY"],
    api_base_url=os.environ["API_BASE_URL"], temperature=0.3
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=os.environ["embed_model"],
    embed_model_path=os.environ["embed_model_path"]
)


#specify index_name
index_name = 'your_index_name'
th = TbaseHandler(TBASE_ARGS, index_name, definition_value="message")


# # drop index
# th.drop_index(index_name)

# create tbase memory manager
memory_manager = TbaseMemoryManager(
            unique_name="EKG",
            embed_config=embed_config,
            llm_config=llm_config,
            tbase_handler=th,
            use_vector=False
        )
`,paraId:0,tocIndex:1},{value:`import uuid

# example1
message = Message(
    chat_index="wyp311395_test_chatindex_0",
    message_index= f"nodeid0-{uuid.uuid4()}",
    user_name="311395",
    role_name = "311395", # agent \u540D\u5B57\uFF0C
    role_type = "user", # agent \u7C7B\u578B\uFF0C\u9ED8\u8BA4assistant\uFF0C\u53EF\u9009observation
    ## llm output
    role_content = "\u4ECA\u5929\u5929\u6C14\u5982\u4F55\uFF1F", # \u8F93\u5165
)

memory_manager.append(message)

# example2
message = Message(
    chat_index="wyp311395_test_chatindex_0",
    message_index= f"nodeid1-{uuid.uuid4()}",
    user_name="311395",
    role_name = "tester_0", # agent \u540D\u5B57\uFF0C
    role_type = "assistant", # agent \u7C7B\u578B\uFF0C\u9ED8\u8BA4assistant\uFF0C\u53EF\u9009observation
    ## llm output
    role_content = "<functioncall> {'date': '2024-04-17'}", # \u8F93\u5165
)

memory_manager.append(message)
`,paraId:1,tocIndex:2},{value:`
logger.debug(f'\u6309user_name\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool("311395")}')

logger.debug(f'\u5168\u5C40\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool_by_content("\u4ECA\u5929\u5929\u6C14\u5982\u4F55\uFF1F")}')

logger.debug(f'\u5168\u5C40\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool_by_content("functioncall")}')

logger.debug(f'\u6309kev-value\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool_by_key_content("role_content", "functioncall")}')

logger.debug(f'\u6309key-value\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool_by_all({"chat_index": "wyp311395_test_chatindex_0", "role_content": "functioncall"})}')

logger.debug(f'\u6309key-value\u68C0\u7D22\uFF1A{memory_manager.get_memory_pool_by_all({"keyword": "nodeid3"})}')

#
logger.debug(f'\u6309datetime\u68C0\u7D22\uFF1A{memory_manager.router_retrieval(chat_index="wyp311395_test_chatindex_0", datetime="2024-03-12 17:48:00", n=4, top_k=5, retrieval_type= "datetime")}')

#
logger.debug(f'\u6309datetime\u68C0\u7D22\uFF1A{memory_manager.router_retrieval(chat_index="wyp311395_test_chatindex_0", datetime="2024-04-18 11:30:00", n=4, top_k=5, retrieval_type= "datetime")}')

#
logger.debug(f'\u6309text\u68C0\u7D22\uFF1A{memory_manager.router_retrieval(chat_index="wyp311395_test_chatindex_0", text="\u4ECA\u5929\u5929\u6C14", top_k=5, retrieval_type= "text")}')

#
logger.debug(f'\u6309embedding\u68C0\u7D22\uFF1A{memory_manager.router_retrieval(chat_index="wyp311395_test_chatindex_0", text="\u4ECA\u5929\u5929\u6C14", top_k=5, retrieval_type= "embedding")}')

`,paraId:2,tocIndex:3},{value:`# recursive_summary test
messages = memory_manager.router_retrieval(chat_index="wyp311395_test_chatindex_0", text="\u4ECA\u5929\u5929\u6C14", top_k=5, retrieval_type= "embedding")
print(memory_manager.recursive_summary(messages, chat_index="wyp311395_test_chatindex_0", nodeid="nodeid3", user_name="311395", split_n=1))
`,paraId:3,tocIndex:4}]},79836:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u4E0B\u9762\u901A\u8FC7 \u4EE3\u7801\u5E93\u6765\u5B9E\u73B0\u4EE3\u7801\u8F6C API \u6587\u6863\u7684\u81EA\u52A8\u751F\u6210\uFF0C \u6765\u8BE6\u7EC6\u6F14\u793A\u5982\u4F55\u81EA\u5B9A\u4E49\u4E00\u4E2A agent phase \u7684\u6784\u5EFA",paraId:0,tocIndex:0},{value:"codeGenDocGroup_PROMPT, \u6784\u5EFA group Agent Prompt",paraId:1,tocIndex:1},{value:`# update new agent configs
codeGenDocGroup_PROMPT = """#### Agent Profile

Your goal is to response according the Context Data's information with the role that will best facilitate a solution, taking into account all relevant context (Context) provided.

When you need to select the appropriate role for handling a user's query, carefully read the provided role names, role descriptions and tool list.

#### Input Format

#### Response Output Format

**Code Path:** Extract the paths for the class/method/function that need to be addressed from the context

**Role:** Select the role from agent names
"""
`,paraId:2,tocIndex:1},{value:"classGenDoc_PROMPT, \u6784\u5EFA class code to api doc Prompt",paraId:3,tocIndex:1},{value:`classGenDoc_PROMPT = """#### Agent Profile
As an advanced code documentation generator, you are proficient in translating class definitions into comprehensive documentation with a focus on instantiation parameters.
Your specific task is to parse the given code snippet of a class, extract information regarding its instantiation parameters.

#### Input Format

**Current_Vertex:** Provide the code vertex of the function or method.

**Code Snippet:** Provide the full class definition, including the constructor and any parameters it may require for instantiation.

#### Response Output Format
**Class Base:** Specify the base class or interface from which the current class extends, if any.

**Class Description:** Offer a brief description of the class's purpose and functionality.

**Init Parameters:** List each parameter from construct. For each parameter, provide:
    - \`param\`: The parameter name
    - \`param_description\`: A concise explanation of the parameter's purpose.
    - \`param_type\`: The data type of the parameter, if explicitly defined.

    \`\`\`json
    [
        {
            "param": "parameter_name",
            "param_description": "A brief description of what this parameter is used for.",
            "param_type": "The data type of the parameter"
        },
        ...
    ]
    \`\`\`


    If no parameter for construct, return
    \`\`\`json
    []
    \`\`\`
"""
`,paraId:4,tocIndex:1},{value:"funcGenDoc_PROMPT\uFF0C\u6784\u5EFA function code to api doc Prompt",paraId:5,tocIndex:1},{value:`funcGenDoc_PROMPT = """#### Agent Profile
You are a high-level code documentation assistant, skilled at extracting information from function/method code into detailed and well-structured documentation.


#### Input Format
**Code Path:** Provide the code path of the function or method you wish to document.
This name will be used to identify and extract the relevant details from the code snippet provided.

**Current_Vertex:** Provide the code vertex of the function or method.

**Code Snippet:** A segment of code that contains the function or method to be documented.

#### Response Output Format

**Class Description:** Offer a brief description of the method(function)'s purpose and functionality.

**Parameters:** Extract parameter for the specific function/method Code from Code Snippet. For parameter, provide:
    - \`param\`: The parameter name
    - \`param_description\`: A concise explanation of the parameter's purpose.
    - \`param_type\`: The data type of the parameter, if explicitly defined.
    \`\`\`json
    [
        {
            "param": "parameter_name",
            "param_description": "A brief description of what this parameter is used for.",
            "param_type": "The data type of the parameter"
        },
        ...
    ]
    \`\`\`

    If no parameter for function/method, return
    \`\`\`json
    []
    \`\`\`

**Return Value Description:** Describe what the function/method returns upon completion.

**Return Type:** Indicate the type of data the function/method returns (e.g., string, integer, object, void).
"""
`,paraId:6,tocIndex:1},{value:"\u9996\u5148\u589E\u52A0 openai \u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u5B83\u7C7B\u4F3C\u4E8E openai \u63A5\u53E3\u7684\u6A21\u578B\uFF08\u901A\u8FC7 fastchat \u542F\u52A8\uFF09",paraId:7,tocIndex:2},{value:`import os, sys, json
from muagent.base_configs.env_config import CB_ROOT_PATH
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.connector.phase import BasePhase
from muagent.connector.agents import BaseAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.schema import Message, Role, ChainConfig
from muagent.codechat.codebase_handler.codebase_handler import CodeBaseHandler

from loguru import logger
from muagent.tools import CodeRetrievalSingle


api_key = "sk-xxx"
api_base_url= "https://api.openai.com/v1"
model_name = "gpt-3.5-turbo"
embed_model = "{{embed_model_name}}"
embed_model_path = "{{embed_model_path}}"
#
os.environ["DUCKDUCKGO_PROXY"] = os.environ.get("DUCKDUCKGO_PROXY") or "socks5://127.0.0.1:13659"
`,paraId:8,tocIndex:2},{value:"\u7528\u4E8E\u81EA\u5B9A\u4E49 key-value \u4FE1\u606F",paraId:9,tocIndex:3},{value:`class CodeGenDocer(BaseAgent):

    def start_action_step(self, message: Message) -> Message:
        '''do action before agent predict '''
        # \u6839\u636E\u95EE\u9898\u83B7\u53D6\u4EE3\u7801\u7247\u6BB5\u548C\u8282\u70B9\u4FE1\u606F
        action_json = CodeRetrievalSingle.run(message.code_engine_name, message.input_query, llm_config=self.llm_config,
                                              embed_config=self.embed_config, local_graph_path=message.local_graph_path, use_nh=message.use_nh,search_type="tag")
        current_vertex = action_json['vertex']
        message.customed_kargs["Code Snippet"] = action_json["code"]
        message.customed_kargs['Current_Vertex'] = current_vertex
        return message

`,paraId:10,tocIndex:3},{value:`llm_config = LLMConfig(
    model_name="gpt-4", api_key=api_key,  api_base_url=api_base_url, temperature=0.3
)
embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)
`,paraId:11,tocIndex:4},{value:`
# initialize codebase
# delete codebase
codebase_name = 'client_nebula'
code_path = "D://chromeDownloads/devopschat-bot/client_v2/client"
use_nh = True
do_interpret = False
cbh = CodeBaseHandler(codebase_name, code_path, crawl_type='dir', use_nh=use_nh, local_graph_path=CB_ROOT_PATH,
                      llm_config=llm_config, embed_config=embed_config)
cbh.delete_codebase(codebase_name=codebase_name)

# load codebase
cbh = CodeBaseHandler(codebase_name, code_path, crawl_type='dir', use_nh=use_nh, local_graph_path=CB_ROOT_PATH,
                      llm_config=llm_config, embed_config=embed_config)
cbh.import_code(do_interpret=do_interpret)

`,paraId:12,tocIndex:5},{value:`
# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "1"

funcGenDoc_role = Role(role_type="assistant", role_name="funcGenDoc_role", prompt=funcGenDoc_PROMPT)
funcGenDoc = CodeGenDocer(
    role=funcGenDoc_role,
    chat_turn=1,
    llm_config=llm_config, embed_config=embed_config,
)


classGenDoc_role = Role(role_type="assistant", role_name="classGenDoc_role", prompt=classGenDoc_PROMPT)
classGenDoc = CodeGenDocer(
    role=classGenDoc_role,
    chat_turn=1,
    llm_config=llm_config, embed_config=embed_config,
)

codeGenDocGroup_role = Role(role_type="assistant", role_name="codeGenDocGroup_role", prompt=codeGenDocGroup_PROMPT)
codeGenDocGroup = SelectorAgent(
    role=codeGenDocGroup_role,
    chat_turn=1,
    llm_config=llm_config, embed_config=embed_config,
    group_agents=[funcGenDoc, classGenDoc]
)

chain_config = ChainConfig(
    chain_name="codeGenDocGroup_chain", agents=[codeGenDocGroup.role.role_name,],
    chat_turn=1)

chain = BaseChain(
    chainConfig=chain_config, agents=[codeGenDocGroup],
    llm_config=llm_config, embed_config=embed_config,
)

phase = BasePhase(
    phase_name="codeGenDocGroup_phase", chains=[chain],
    embed_config=embed_config, llm_config=llm_config
)
`,paraId:13,tocIndex:6},{value:`# \u6839\u636E\u524D\u9762\u7684load\u8FC7\u7A0B\u8FDB\u884C\u521D\u59CB\u5316
cbh = CodeBaseHandler(codebase_name, code_path, crawl_type='dir', use_nh=use_nh, local_graph_path=CB_ROOT_PATH,
                      llm_config=llm_config, embed_config=embed_config)

cbh.search_vertices(vertex_type="method")

# \u5F00\u59CB\u4EE3\u7801\u8F6C\u6362API\u6587\u6863\u7ED3\u6784
for vertex_type in ["class", "method"]:
    vertexes = cbh.search_vertices(vertex_type=vertex_type)
    logger.info(f"vertexes={vertexes}")

    # round-1
    docs = []
    for vertex in vertexes:
        vertex = vertex.split("-")[0] # -\u4E3Amethod\u7684\u53C2\u6570
        query_content = f"\u4E3A{vertex_type}\u8282\u70B9 {vertex}\u751F\u6210\u6587\u6863"
        query = Message(
            role_name="human", role_type="user", input_query=query_content,
            code_engine_name=codebase_name, score_threshold=1.0, top_k=3, cb_search_type="tag", use_nh=use_nh,
            local_graph_path=CB_ROOT_PATH,
            )
        output_message, output_memory = phase.step(query, reinit_memory=True)
        # print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
        docs.append(output_memory.get_spec_parserd_output())

        os.makedirs(f"{CB_ROOT_PATH}/docs", exist_ok=True)
        with open(f"{CB_ROOT_PATH}/docs/raw_{vertex_type}.json", "w") as f:
            json.dump(docs, f)


# \u4E0B\u9762\u628A\u751F\u6210\u7684\u6587\u6863\u4FE1\u606F\u8F6C\u6362\u6210markdown\u6587\u672C
from muagent.utils.code2doc_util import *

import json
with open(f"/home/user/code_base/docs/raw_method.json", "r") as f:
    method_raw_data = json.load(f)

with open(f"/home/user/code_base/docs/raw_class.json", "r") as f:
    class_raw_data = json.load(f)


method_data = method_info_decode(method_raw_data)
class_data = class_info_decode(class_raw_data)
method_mds = encode2md(method_data, method_text_md)
class_mds = encode2md(class_data, class_text_md)

docs_dict = {}
for k,v in class_mds.items():
    method_textmds = method_mds.get(k, [])
    for vv in v:
        # \u7406\u8BBA\u4E0A\u53EA\u6709\u4E00\u4E2A
        text_md = vv

    for method_textmd in method_textmds:
        text_md += "\\n<br>" + method_textmd

    docs_dict.setdefault(k, []).append(text_md)

    with open(f"/home/user/code_base/docs/{k}.md", "w") as f:
        f.write(text_md)
`,paraId:14,tocIndex:7}]},86755:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u9996\u5148\u589E\u52A0openai\u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u5B83\u7C7B\u4F3C\u4E8Eopenai\u63A5\u53E3\u7684\u6A21\u578B\uFF08\u901A\u8FC7fastchat\u542F\u52A8\uFF09",paraId:0,tocIndex:0},{value:`import os, sys\r
\r
api_key = "sk-xxx"\r
api_base_url= "https://api.openai.com/v1"\r
embed_model = "{{embed_model_name}}"\r
embed_model_path = "{{embed_model_path}}"
`,paraId:1,tocIndex:0},{value:"\u901A\u8FC7\u672C\u5730\u6A21\u578B\u6587\u4EF6\u6784\u5EFA",paraId:2,tocIndex:1},{value:`from muagent.llm_models.llm_config import EmbedConfig, LLMConfig\r
\r
embed_config = EmbedConfig(\r
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path\r
)
`,paraId:3,tocIndex:1},{value:"\u901A\u8FC7openai\u6784\u5EFA",paraId:4,tocIndex:1},{value:`from muagent.llm_models.llm_config import EmbedConfig, LLMConfig\r
\r
embed_config = EmbedConfig(\r
    embed_engine="openai", api_key=api_key,  api_base_url=api_base_url,\r
)
`,paraId:5,tocIndex:1},{value:"\u81EA\u5B9A\u4E49langchain embeddings\u4F20\u5165",paraId:6,tocIndex:1},{value:`from muagent.llm_models.llm_config import EmbedConfig, LLMConfig\r
\r
\r
class CustomizedEmbeddings(Embeddings):\r
\r
    def embed_documents(self, texts: List[str]) -> List[List[float]]:\r
        embeddings = []\r
        # add your embedding code\r
        return embeddings\r
\r
    def embed_query(self, text: str) -> List[float]:\r
        """Compute query embeddings using a HuggingFace transformer model.\r
\r
        Args:\r
            text: The text to embed.\r
\r
        Returns:\r
            Embeddings for the text.\r
        """\r
        # add your embedding code\r
        return embedding\r
\r
embeddings = CustomizedEmbeddings()\r
embed_config = EmbedConfig(\r
    embed_model="default",\r
    langchain_embeddings=embeddings\r
)
`,paraId:7,tocIndex:1}]},68048:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u9996\u5148\u589E\u52A0openai\u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5176\u5B83\u7C7B\u4F3C\u4E8Eopenai\u63A5\u53E3\u7684\u6A21\u578B\uFF08\u901A\u8FC7fastchat\u542F\u52A8\uFF09",paraId:0,tocIndex:0},{value:`import os, sys\r
\r
api_key = "sk-xxx"\r
api_base_url= "https://api.openai.com/v1"\r
model_name = "gpt-3.5-turbo"
`,paraId:1,tocIndex:0},{value:"\u901A\u8FC7\u8C03\u7528 \u7C7Bopenai \u4F20\u5165",paraId:2,tocIndex:1},{value:`from muagent.llm_models.llm_config import EmbedConfig, LLMConfig\r
llm_config = LLMConfig(\r
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,\r
    stop="**Observation:**"\r
)
`,paraId:3,tocIndex:1},{value:"\u81EA\u5B9A\u4E49 langchain LLM \u4F20\u5165",paraId:4,tocIndex:1},{value:`from muagent.llm_models.llm_config import EmbedConfig, LLMConfig\r
from langchain.llms.base import BaseLLM, LLM\r
\r
class CustomizedModel(LLM):\r
        repetition_penalty = 1.1\r
        temperature = 0.2\r
        top_k = 40\r
        top_p = 0.9\r
\r
        def predict(self, prompt: str, stop: Optional[List[str]] = None) -> str:\r
            return self._call(prompt, stop)\r
\r
        def _call(self, prompt: str,\r
                  stop: Optional[List[str]] = None) -> str:\r
            """_call\r
            """\r
            return ""\r
\r
llm = CustomizedModel()\r
llm_config = LLMConfig(\r
    llm=llm\r
)
`,paraId:5,tocIndex:1}]},71569:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u4E3A\u4E86\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3\u6574\u4E2A CoAgent \u7684\u94FE\u8DEF\uFF0C\u6211\u4EEC\u91C7\u53D6 Flow \u7684\u5F62\u5F0F\u6765\u8BE6\u7EC6\u4ECB\u7ECD\u5982\u4F55\u901A\u8FC7\u914D\u7F6E\u6784\u5EFA",paraId:0,tocIndex:0},{value:`
  `,paraId:1},{value:"\u4E0B\u9762\uFF0C\u6211\u4EEC\u5148\u4ECB\u7ECD\u76F8\u5173\u7684\u6838\u5FC3\u7EC4\u4EF6",paraId:2,tocIndex:0},{value:"\u5728 Agent \u8BBE\u8BA1\u5C42\u9762\uFF0C\u6211\u4EEC\u63D0\u4F9B\u4E86\u56DB\u79CD\u57FA\u672C\u7684 Agent \u7C7B\u578B\uFF0C\u5BF9\u8FD9\u4E9B Agent \u8FDB\u884C Role \u7684\u57FA\u7840\u8BBE\u5B9A\uFF0C\u53EF\u6EE1\u8DB3\u591A\u79CD\u901A\u7528\u573A\u666F\u7684\u4EA4\u4E92\u548C\u4F7F\u7528",paraId:3,tocIndex:1},{value:"BaseAgent\uFF1A\u63D0\u4F9B\u57FA\u7840\u95EE\u7B54\u3001\u5DE5\u5177\u4F7F\u7528\u3001\u4EE3\u7801\u6267\u884C\u7684\u529F\u80FD\uFF0C\u6839\u636E Prompt \u683C\u5F0F\u5B9E\u73B0 \u8F93\u5165 => \u8F93\u51FA",paraId:4,tocIndex:1},{value:"ReactAgent\uFF1A\u63D0\u4F9B\u6807\u51C6 React \u7684\u529F\u80FD\uFF0C\u6839\u636E\u95EE\u9898\u5B9E\u73B0\u5F53\u524D\u4EFB\u52A1",paraId:5,tocIndex:1},{value:"ExecutorAgent\uFF1A\u5BF9\u4EFB\u52A1\u6E05\u5355\u8FDB\u884C\u987A\u5E8F\u6267\u884C\uFF0C\u6839\u636E User \u6216 \u4E0A\u4E00\u4E2A Agent \u7F16\u6392\u7684\u8BA1\u5212\uFF0C\u5B8C\u6210\u76F8\u5173\u4EFB\u52A1",paraId:6,tocIndex:1},{value:"SelectorAgent\uFF1A\u63D0\u4F9B\u9009\u62E9 Agent \u7684\u529F\u80FD\uFF0C\u6839\u636E User \u6216 \u4E0A\u4E00\u4E2A Agent \u7684\u95EE\u9898\u9009\u62E9\u5408\u9002\u7684 Agent \u6765\u8FDB\u884C\u56DE\u7B54.",paraId:7,tocIndex:1},{value:"\u8F93\u51FA\u540E\u5C06 message push \u5230 memory pool \u4E4B\u4E2D\uFF0C\u540E\u7EED\u901A\u8FC7 Memory Manager \u8FDB\u884C\u7BA1\u7406",paraId:8,tocIndex:1},{value:"\u57FA\u7840\u94FE\u8DEF\uFF1ABaseChain\uFF0C\u4E32\u8054 agent \u7684\u4EA4\u4E92\uFF0C\u5B8C\u6210\u76F8\u5173 message \u548C memory \u7684\u7BA1\u7406",paraId:9,tocIndex:2},{value:"\u57FA\u7840\u573A\u666F\uFF1ABasePhase\uFF0C\u4E32\u8054 chain \u7684\u4EA4\u4E92\uFF0C\u5B8C\u6210\u76F8\u5173 message \u548C memory \u7684\u7BA1\u7406",paraId:10,tocIndex:3},{value:"Mutli-Agent \u94FE\u8DEF\u4E2D\u6BCF\u4E00\u4E2A agent \u7684 prompt \u521B\u5EFA",paraId:11,tocIndex:4},{value:"\u901A\u8FC7\u5BF9 promtp_input_keys \u548C promtp_output_keys \u5BF9\u7684\u7B80\u5355\u8BBE\u5B9A\uFF0C\u53EF\u4EE5\u6CBF\u7528\u9884\u8BBE Prompt Context \u521B\u5EFA\u903B\u8F91\uFF0C\u4ECE\u800C\u5B9E\u73B0 agent prompt \u5FEB\u901F\u914D\u7F6E",paraId:12,tocIndex:4},{value:"\u4E5F\u53EF\u4EE5\u5BF9 prompt manager \u6A21\u5757\u8FDB\u884C\u65B0\u7684 key-context \u8BBE\u8BA1\uFF0C\u5B9E\u73B0\u4E2A\u6027\u5316\u7684 Agent Prompt",paraId:12,tocIndex:4},{value:"\u4E3B\u8981\u7528\u4E8E chat history \u7684\u7BA1\u7406",paraId:13,tocIndex:5},{value:"\u5C06 chat history \u5728\u6570\u636E\u5E93\u8FDB\u884C\u8BFB\u5199\u7BA1\u7406\uFF0C\u5305\u62EC user input\u3001 llm output\u3001doc retrieval\u3001code retrieval\u3001search retrieval",paraId:14,tocIndex:5},{value:"\u5BF9 chat history \u8FDB\u884C\u5173\u952E\u4FE1\u606F\u603B\u7ED3 summary context\uFF0C\u4F5C\u4E3A prompt context",paraId:14,tocIndex:5},{value:"\u63D0\u4F9B\u68C0\u7D22\u529F\u80FD\uFF0C\u68C0\u7D22 chat history \u6216\u8005 summary context \u4E2D\u4E0E\u95EE\u9898\u76F8\u5173\u4FE1\u606F\uFF0C\u8F85\u52A9\u95EE\u7B54",paraId:14,tocIndex:5}]},17062:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u4E3A\u4E86\u63D0\u9AD8\u5927\u578B\u6A21\u578B\u5728\u63A8\u7406\u51C6\u786E\u6027\u65B9\u9762\u7684\u8868\u73B0\uFF0C\u4E1A\u754C\u51FA\u73B0\u4E86\u591A\u79CD\u521B\u65B0\u7684\u5927\u578B\u8BED\u8A00\u6A21\u578B(LLM)\u73A9\u6CD5\u3002\u4ECE\u6700\u65E9\u7684 CoT\u3001ToT \u5230 GoT\uFF0C\u8FD9\u4E9B\u65B9\u6CD5\u4E0D\u65AD\u62D3\u5C55\u4E86 LLM \u7684\u80FD\u529B\u8FB9\u754C\u3002\u5728\u5904\u7406\u590D\u6742\u95EE\u9898\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 ReAct \u8FC7\u7A0B\u6765\u9009\u62E9\u3001\u8C03\u7528\u548C\u6267\u884C\u5DE5\u5177\u53CD\u9988\uFF0C\u540C\u65F6\u5B9E\u73B0\u591A\u8F6E\u5DE5\u5177\u4F7F\u7528\u548C\u591A\u6B65\u9AA4\u6267\u884C\u3002",paraId:0,tocIndex:0},{value:"\u4F46\u5BF9\u4E8E\u66F4\u590D\u6742\u7684\u573A\u666F\uFF0C\u4F8B\u5982\u590D\u6742\u4EE3\u7801\u7684\u5F00\u53D1\uFF0C\u5355\u4E00\u529F\u80FD\u7684 LLM Agent \u663E\u7136\u96BE\u4EE5\u80DC\u4EFB\u3002\u56E0\u6B64\uFF0C\u793E\u533A\u5F00\u59CB\u53D1\u5C55\u51FA\u591A Agent \u7684\u7EC4\u5408\u73A9\u6CD5\uFF0C\u6BD4\u5982\u4E13\u6CE8\u4E8E metaGPT\u3001GPT-Engineer\u3001chatDev \u7B49\u5F00\u53D1\u9886\u57DF\u7684\u9879\u76EE\uFF0C\u4EE5\u53CA\u4E13\u6CE8\u4E8E\u81EA\u52A8\u5316\u6784\u5EFA Agent \u548C Agent \u5BF9\u8BDD\u7684 AutoGen \u9879\u76EE\u3002",paraId:1,tocIndex:0},{value:"\u7ECF\u8FC7\u5BF9\u8FD9\u4E9B\u6846\u67B6\u7684\u6DF1\u5165\u5206\u6790\uFF0C\u53D1\u73B0\u5927\u591A\u6570\u7684 Agent \u6846\u67B6\u6574\u4F53\u8026\u5408\u5EA6\u8F83\u9AD8\uFF0C\u5176\u6613\u7528\u6027\u548C\u53EF\u6269\u5C55\u6027\u8F83\u5DEE\u3002\u5728\u9884\u8BBE\u573A\u666F\u4E2D\u5B9E\u73B0\u7279\u5B9A\u573A\u666F\uFF0C\u4F46\u60F3\u8981\u8FDB\u884C\u573A\u666F\u6269\u5C55\u5374\u56F0\u96BE\u91CD\u91CD\u3002",paraId:2,tocIndex:0},{value:"\u56E0\u6B64\uFF0C\u6211\u4EEC\u5E0C\u671B\u6784\u5EFA\u4E00\u4E2A\u53EF\u6269\u5C55\u3001\u6613\u4E8E\u4F7F\u7528\u7684 Multi-Agent \u6846\u67B6\uFF0C\u4EE5\u652F\u6301 ChatBot \u5728\u83B7\u53D6\u77E5\u8BC6\u5E93\u4FE1\u606F\u7684\u540C\u65F6\uFF0C\u80FD\u591F\u8F85\u52A9\u5B8C\u6210\u65E5\u5E38\u529E\u516C\u3001\u6570\u636E\u5206\u6790\u3001\u5F00\u53D1\u8FD0\u7EF4\u7B49\u5404\u79CD\u901A\u7528\u4EFB\u52A1\u3002",paraId:3,tocIndex:0},{value:"\u672C\u9879\u76EE\u7684 Mutli-Agent \u6846\u67B6\u6C72\u53D6\u517C\u5BB9\u4E86\u591A\u4E2A\u6846\u67B6\u7684\u4F18\u79C0\u8BBE\u8BA1\uFF0C\u6BD4\u5982 metaGPT \u4E2D\u7684\u6D88\u606F\u6C60\uFF08message pool\uFF09\u3001autogen \u4E2D\u7684\u4EE3\u7406\u9009\u62E9\u5668\uFF08agent selector\uFF09\u7B49\u3002",paraId:4,tocIndex:0},{value:`
  `,paraId:5},{value:"\u5728 MuAgent \u4E2D\uFF0C\u6211\u4EEC\u9664\u4E86\u5B9A\u4E49 Agent \u4EA4\u4E92\u94FE\u8DEF\u548C AgentBase \u57FA\u7840\u6267\u884C\u6D41\u4EE5\u5916\uFF0C\u8FD8\u989D\u5916\u8BBE\u8BA1\u4E86 Prompt Manager \u548C Memory Manager \u4E24\u4E2A\u57FA\u7840\u7EC4\u4EF6\uFF0C\u5206\u522B\u7528\u4E8E\u81EA\u52A8\u5316\u6784\u5EFA Prompt \u548C chat history \u7BA1\u7406\u3002\u6700\u7EC8\u6784\u5EFA\u51FA\u4E00\u4E2A\u53EF\u6269\u5C55\u3001\u6613\u4E8E\u4F7F\u7528\u7684 Multi-Agent \u6846\u67B6\uFF0C\u5305\u62EC\u4EE5\u4E0B\u5185\u5BB9",paraId:6,tocIndex:1},{value:"Agent Base\uFF1A\u6784\u5EFA\u4E86\u56DB\u79CD\u57FA\u672C\u7684 Agent \u7C7B\u578B BaseAgent\u3001ReactAgent\u3001ExecutorAgent\u3001SelectorAgent\uFF0C\u652F\u6491\u5404\u79CD\u573A\u666F\u7684\u57FA\u7840\u6D3B\u52A8",paraId:7,tocIndex:1},{value:"Communication\uFF1A\u901A\u8FC7 Message \u548C Parse Message \u5B9E\u4F53\u5B8C\u6210 Agent \u95F4\u7684\u4FE1\u606F\u4F20\u9012\uFF0C\u5E76\u4E0E Memory Manager \u4EA4\u4E92\u518D Memory Pool \u5B8C\u6210\u8BB0\u5FC6\u7BA1\u7406",paraId:7,tocIndex:1},{value:"Prompt Manager\uFF1A\u901A\u8FC7 Role Handler\u3001Doc/Tool Handler\u3001Session Handler\u3001Customized Handler\uFF0C\u6765\u81EA\u52A8\u5316\u7EC4\u88C5 Customized \u7684 Agent Prompt",paraId:7,tocIndex:1},{value:"Memory Manager\uFF1A \u7528\u4E8E\u652F\u6491 chat history \u7684\u5B58\u50A8\u7BA1\u7406\u3001\u4FE1\u606F\u538B\u7F29\u3001\u8BB0\u5FC6\u68C0\u7D22\u7B49\u7BA1\u7406\uFF0C\u6700\u540E\u901A\u8FC7 Memory Pool \u5728\u6570\u636E\u5E93\u3001\u672C\u5730\u3001\u5411\u91CF\u6570\u636E\u5E93\u4E2D\u5B8C\u6210\u5B58\u50A8",paraId:7,tocIndex:1},{value:"Component\uFF1A\u7528\u4E8E\u6784\u5EFA Agent \u7684\u8F85\u52A9\u751F\u6001\u7EC4\u4EF6\uFF0C\u5305\u62EC Retrieval\u3001Tool\u3001Action\u3001Sandbox \u7B49",paraId:7,tocIndex:1},{value:"Customized Model\uFF1A\u652F\u6301\u79C1\u6709\u5316\u7684 LLM \u548C Embedding \u7684\u63A5\u5165",paraId:7,tocIndex:1},{value:"\u5728 Agent \u5C42\u9762\uFF0C\u63D0\u4F9B\u56DB\u79CD\u57FA\u672C\u7684 Agent \u7C7B\u578B\uFF0C\u5BF9\u8FD9\u4E9B Agent \u8FDB\u884C Role \u7684\u57FA\u7840\u8BBE\u5B9A\uFF0C\u53EF\u6EE1\u8DB3\u591A\u79CD\u901A\u7528\u573A\u666F\u7684\u4EA4\u4E92\u548C\u4F7F\u7528\u3002\u6240\u6709\u7684 Action \u90FD\u7531 Agent \u6267\u884C\u3002",paraId:8,tocIndex:2},{value:"BaseAgent\uFF1A\u63D0\u4F9B\u57FA\u7840\u95EE\u7B54\u3001\u5DE5\u5177\u4F7F\u7528\u3001\u4EE3\u7801\u6267\u884C\u7684\u529F\u80FD\uFF0C\u6839\u636E Prompt \u683C\u5F0F\u5B9E\u73B0 \u8F93\u5165 => \u8F93\u51FA",paraId:9,tocIndex:2},{value:`
  `,paraId:5},{value:"ReactAgent\uFF1A\u63D0\u4F9B\u6807\u51C6 React \u7684\u529F\u80FD\uFF0C\u6839\u636E\u95EE\u9898\u5B9E\u73B0\u5F53\u524D\u4EFB\u52A1",paraId:10,tocIndex:2},{value:`
  `,paraId:5},{value:`ExecutorAgent\uFF1A\u5BF9\u4EFB\u52A1\u6E05\u5355\u8FDB\u884C\u987A\u5E8F\u6267\u884C\uFF0C\u6839\u636E User \u6216 \u4E0A\u4E00\u4E2A Agent \u7F16\u6392\u7684\u8BA1\u5212\uFF0C\u5B8C\u6210\u76F8\u5173\u4EFB\u52A1
Agent \u63A5\u53D7\u5230\u4EFB\u52A1\u6E05\u5355(List[task])\uFF0C\u5BF9\u8FD9\u4E2A\u4EFB\u52A1\u6E05\u5355 Task \u8FDB\u884C\u5FAA\u73AF\u6267\u884C\uFF08\u4E2D\u95F4\u4E5F\u53EF\u6DFB\u52A0 Feedback Agent \u6765\u8FDB\u884C\u4EFB\u52A1\u91CD\u65B0\u4F18\u5316\uFF09\uFF0C\u76F4\u5230\u4EFB\u52A1\u5B8C\u6210`,paraId:11,tocIndex:2},{value:`
  `,paraId:5},{value:"SelectorAgent\uFF1A\u63D0\u4F9B\u9009\u62E9 Agent \u7684\u529F\u80FD\uFF0C\u6839\u636E User \u6216 \u4E0A\u4E00\u4E2A Agent \u7684\u95EE\u9898\u9009\u62E9\u5408\u9002\u7684 Agent \u6765\u8FDB\u884C\u56DE\u7B54.",paraId:12,tocIndex:2},{value:`
  `,paraId:5},{value:"\u4E3A\u4E86\u8BA9 Agent \u4E4B\u95F4\u8FDB\u884C\u66F4\u597D\u7684\u4EA4\u4E92\uFF0C\u4EE5\u53CA\u80FD\u591F\u8BA9\u6BCF\u4E00\u4E2A Agent \u63A5\u53D7\u5230\u8DB3\u591F\u7684\u4FE1\u606F\u5B8C\u6210\u5B83\u4EEC\u7279\u5B9A\u4EFB\u52A1\uFF0C\u6211\u4EEC\u5C06 Message \u4FE1\u606F\u4F53\u5206\u6210\u4E86\u591A\u4E2A\u90E8\u5206\uFF0CSystem Content\u3001Info Content\u3001LLM Content \u548C LLM Parsed Content \u7B49",paraId:13,tocIndex:3},{value:"System Content\uFF1A\u7528\u4E8E\u5B58\u50A8\u7BA1\u7406\u5F53\u524D LLM \u8F93\u51FA\u7684\u65F6\u95F4\uFF0CRole \u4FE1\u606F\u7B49",paraId:14,tocIndex:3},{value:"Info Content\uFF1ALLM \u8F85\u52A9\u4FE1\u606F\uFF0C\u6BD4\u5982\u50CF\u77E5\u8BC6\u5E93\u67E5\u8BE2\u4FE1\u606F\u3001\u4EE3\u7801\u5E93\u68C0\u7D22\u4FE1\u606F\u3001\u5DE5\u5177\u4FE1\u606F\u3001Agent \u4FE1\u606F\u7B49",paraId:14,tocIndex:3},{value:"LLM Content\uFF1A\u76F4\u63A5\u5B58\u50A8\u548C\u4F20\u9012 LLM \u4EA7\u751F\u7684\u4FE1\u606F",paraId:14,tocIndex:3},{value:"LLM Parsed Content\uFF1A\u5BF9 LLM \u8FDB\u884C\u89E3\u6790\u8F6C\u6210\u66F4\u6613\u64CD\u4F5C\u7684 key-value \u6570\u636E\u7ED3\u6784\uFF0C\u65B9\u4FBF\u5BF9 LLM \u5185\u5BB9\u8FDB\u884C\u8FC7\u6EE4",paraId:14,tocIndex:3},{value:"Customized Content\uFF1A\u7528\u4E8E\u7BA1\u7406\u81EA\u5B9A\u4E49 action \u4EA7\u751F\u7684 key-value \u6570\u636E\u5185\u5BB9\uFF0C\u7528\u4E8E\u540E\u7EED\u81EA\u5B9A\u4E49 Prompt \u6A21\u677F\u7684\u7EC4\u88C5\u6784\u5EFA",paraId:14,tocIndex:3},{value:"\u901A\u8FC7\u5BF9\u4EE5\u4E0A\u6D88\u606F\u683C\u5F0F\u7684\u5B9A\u4E49\uFF0C\u6211\u4EEC\u4FBF\u53EF\u4EE5\u5B8C\u6210\u901A\u7528\u6D88\u606F\u7684\u4F20\u9012\u548C\u7BA1\u7406\u3002\u5177\u4F53\u7EC4\u88C5\u89C1 Prompt Manager \u6A21\u5757",paraId:15,tocIndex:3},{value:"\u4E3B\u8981\u7528\u4E8E chat history \u7684\u7BA1\u7406",paraId:16,tocIndex:5},{value:"\u5B58\u50A8\u7BA1\u7406\uFF1A\u5728\u6570\u636E\u5E93\u6216\u672C\u5730\u5B9E\u73B0\u5BF9 chat history \u8FDB\u884C save \u548C load \u7BA1\u7406\uFF0C\u5305\u62EC user input\u3001 llm output\u3001observation ouput",paraId:17,tocIndex:5},{value:"\u4FE1\u606F\u538B\u7F29\uFF1A\u5BF9 chat history \u8FDB\u884C\u5173\u952E\u4FE1\u606F\u538B\u7F29\u603B\u7ED3 summary context\uFF0C\u6BD4\u5982\u8BF4\u5355\u6587\u672C\u6982\u51B5\u3001\u4FA7\u91CD\u4E0D\u540C\u89D2\u5EA6\u8FDB\u884C\u6587\u672C\u6982\u51B5\u3001\u5173\u952E\u4FE1\u606F\u63D0\u53D6\u3001\u591A\u6587\u672C\u6982\u51B5\uFF0C\u4F5C\u4E3A Prompt context",paraId:17,tocIndex:5},{value:"\u8BB0\u5FC6\u68C0\u7D22\uFF1A\u63D0\u4F9B\u57FA\u7840\u68C0\u7D22\u529F\u80FD\uFF0C\u68C0\u7D22 chat history \u6216\u8005 Summary Context \u4E2D\u4E0E\u95EE\u9898\u76F8\u5173\u4FE1\u606F\uFF0C\u8F85\u52A9\u95EE\u7B54",paraId:17,tocIndex:5},{value:"LLM \u81EA\u52A8\u89E6\u53D1\uFF1A\u540E\u7EED\u5B9A\u4E49\u7B56\u7565\u6216\u901A\u8FC7 LLM \u6765 \u89E6\u53D1 \u538B\u7F29\u603B\u7ED3\u548C\u68C0\u7D22\u7684\u529F\u80FD",paraId:17,tocIndex:5},{value:`\u63D0\u95EE LLM \u5DF2\u7ECF\u6210\u4E3A\u4E00\u79CD\u5E38\u89C1\u7684\u5B9E\u8DF5\uFF0C\u4F46\u5982\u4F55\u8BA9\u591A\u4E2A\u5927\u6A21\u578B\u5206\u5DE5\u5E76\u534F\u8C03\u597D LLM \u95F4\u7684\u89C4\u5212\u3001\u8C03\u7528\u5DE5\u5177\u3001\u4EE3\u7801\u7F16\u5199\u80FD\u529B\uFF0C\u6765\u5F15\u5BFC\u5B83\u4EEC\u4EA7\u751F\u671F\u671B\u7684\u8F93\u51FA\uFF0C\u6210\u4E3A\u4E86\u4E00\u4E2A\u5173\u952E\u7684\u95EE\u9898\uFF0C\u5176\u672C\u8D28\u5C31\u662F\u5C06\u4E1A\u52A1\u95EE\u9898\u62BD\u8C61\u5E76\u62C6\u89E3\u5230\u53EF\u6267\u884C\u7684 Prompt\uFF0C\u90A3\u4E0E\u5176\u8BF4\u6211\u4EEC\u662F\u5728\u8BBE\u8BA1 Agents\uFF0C\u4E0D\u5982\u8BF4\u662F\u5BF9\u5F53\u524D\u9700\u6C42\u7684\u6DF1\u5165\u7406\u89E3\u540E\u8FDB\u884C\u6846\u67B6\u8BBE\u8BA1\u3002
\u5728 LLM \u4ECB\u5165\u5230\u5B9E\u9645\u4E1A\u52A1\u573A\u666F\uFF08\u4E0D\u6D89\u53CA SFT \u8FC7\u7A0B\uFF09\uFF0C\u6211\u4EEC\u80FD\u901A\u8FC7\u8BBE\u8BA1 Agent Prompt \u7684\u5185\u5BB9\u6765\u6307\u5B9A LLM \u5B8C\u6210\u76F8\u5E94\u4EFB\u52A1\u5F97\u5230\u76F8\u5E94\u8F93\u51FA\u3002\u5728 MuAgent \u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u5C06\u8FD9\u4E2A Prompt \u5206\u6210\u4E86\u4E09\u4E2A\u90E8\u5206\uFF0CSystem Prompt\u3001Context Prompt\u3001Customized Prompt`,paraId:18,tocIndex:6},{value:"System Prompt \u5305\u62EC Role Name\u3001Role Description\u3001Task \u7B49",paraId:19,tocIndex:6},{value:"Context Prompt \u5305\u62EC Doc Context\u3001Code Context\u3001Tool Context\u3001Agent Context\u3001Session Context \u7B49",paraId:19,tocIndex:6},{value:`Customized Prompt \u5219\u662F \u81EA\u5B9A\u4E49\u7684\u4E00\u4E9B Input \u548C Ouput\uFF0C\u6BD4\u5982\u8BF4 ...
\u6211\u4EEC\u8FD8\u53EF\u4EE5\u8981\u6C42\u6A21\u578B\u8F93\u51FA\u7ED3\u6784\u5316\u7684\u6587\u672C\uFF0C\u6BD4\u5982\u8BF4 tool \u7684 json \u4E32\u3001`,paraId:19,tocIndex:6},{value:"code\\ncode_content",paraId:19,tocIndex:6},{value:"\u7B49\u6765\u5B8C\u6210\u7279\u5B9A\u5DE5\u4F5C\u6D41\u3002",paraId:19,tocIndex:6},{value:"Automatic Prompt Assemble",paraId:20,tocIndex:6},{value:`
\u5728\u6309\u7167\u4E0A\u8FF0\u7ED3\u6784\u5B9A\u4E49\u540E\uFF0C\u6211\u4EEC\u4FBF\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u6765\u5B8C\u6210 Prompt \u7684\u81EA\u52A8\u5316\u7EC4\u88C5\uFF0C\u4E0D\u9700\u8981\u6BCF\u6B21\u53BB\u505A\u5927\u91CF\u7684 prompt \u8C03\u6574\u5DE5\u4F5C`,paraId:20,tocIndex:6},{value:"\u5B9A\u4E49 Agent \u65F6\u76F4\u63A5\u914D\u7F6E Role Name\u3001Role Description\u3001Task \u7B49\u6765\u51B3\u5B9A Agent \u9700\u8981\u505A\u7684\u4E8B\u60C5",paraId:21,tocIndex:6},{value:"\u9884\u5C01\u88C5\u4E00\u4E9B\u53EF\u590D\u7528\u7684 Context Prompt \u901A\u7528\u7B56\u7565\uFF0C\u6BD4\u5982\u8BF4\u53EF\u7B5B\u9009 Role \u7684 SessionContext\u3001\u53EF\u914D\u7F6E\u7684 Tool\u3001Code Retrieval\u3001Doc Retrieval\u3001Search Retrieval\u3001Agent \u6765\u5B8C\u6210\u5BF9\u5E94\u7684\u7EC4\u88C5",paraId:21,tocIndex:6},{value:"\u7531\u4E8E Agent \u7684 Prompt \u662F\u76F8\u5BF9\u4E2A\u6027\u5316\u7684\u64CD\u4F5C\uFF0C\u6240\u4EE5\u4E5F\u652F\u6301\u5728 Prompt Manager \u6A21\u5757\u5185\u65B0\u589E\u65B0\u7684 key-context \u8BBE\u8BA1\uFF0C\u5B9E\u73B0\u4E2A\u6027\u5316\u7684 Agent Prompt\u3002",paraId:21,tocIndex:6},{value:"Automatic Prompt Design",paraId:22,tocIndex:6},{value:`
\u80FD\u6839\u636E role description\u3001task\u3001query \u7B49\u6765\u81EA\u52A8\u5316\u8BBE\u8BA1\u51FA\u6700\u4F18\u7684 prompt\uFF1B\u5F85\u5B9A\u4E49...`,paraId:22,tocIndex:6},{value:"Multi Prompt Design",paraId:23,tocIndex:6},{value:`
\u6839\u636E\u524D\u9762 Prompt \u7684\u5B9A\u4E49\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4E86\u89E3\u5230 Prompt \u7531 System Prompt\u3001Context Prompt\u3001Customized Prompt \u4E09\u4E2A\u90E8\u5206\u7EC4\u6210\uFF0C\u4E09\u4E2A\u90E8\u5206\u7684\u4EFB\u4E00\u53D8\u5316\u90FD\u6709\u53EF\u80FD\u4F1A\u5F15\u8D77 LLM \u6700\u7EC8\u8F93\u51FA\u7ED3\u679C\u7684\u53D8\u5316\u3002
\u5BF9\u4E8E\u540C\u79CD\u4EFB\u52A1\u800C\u8A00\uFF0C\u5373\u5B83\u4EEC\u7684 System Prompt \u662F\u76F8\u540C\u7684\u3002\u90A3\u4E48\u5728\u4E0D\u8003\u8651 Customiezd Prompt \u53D8\u5316\u65F6\uFF0C\u5C31\u53EF\u5B9E\u73B0\u4E0D\u540C\u4E0A\u4E0B\u6587\u7684\u7EC4\u88C5\u5DEE\u5F02\uFF0C\u6BD4\u5982\u8BF4 Prompt A \u83B7\u53D6 10 \u8F6E\u7684 chat history\uFF0C\u800C Pormpt B \u91C7\u7528 5 \u8F6E\u7684 chat history\uFF0C\u53C8\u6216\u8005\u662F\u5BF9 chat history \u8FDB\u884C\u4FE1\u606F\u8FC7\u6EE4\u3001\u4FE1\u606F\u538B\u7F29\u7B49\u3002
\u5F85\u5B9E\u73B0...`,paraId:23,tocIndex:6},{value:`\u5728\u6240\u6709 Prompt \u7684 Context \u4E2D\uFF0C\u9664\u4E86 Chat History \u7684\u4F1A\u8BDD\u4FE1\u606F\u5916\uFF0C\u8FD8\u9700\u8981\u4F9D\u8D56\u4E8E\u4ECE\u5916\u754C\u6587\u6863\u77E5\u8BC6\u5E93\u3001\u4EE3\u7801\u5E93\u3001\u4E92\u8054\u7F51\u641C\u7D22\u5F97\u6765\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u8FD9\u4E9B\u6A21\u578B\u53C2\u6570\u77E5\u8BC6\u5916\u7684\u77E5\u8BC6\u4F53\u7CFB\u80FD\u591F\u6781\u5927\u63D0\u5347 Agent \u5B8C\u6210\u590D\u6742\u4EFB\u52A1\u7684\u80FD\u529B\u3002
\u4E8E\u662F\u5728 MuAgent \u4E2D\u6211\u4EEC\u96C6\u6210\u4E86 Doc\u3001Internet Search\u3001Code Retrieval \u4E09\u79CD\u68C0\u7D22\u4FE1\u606F\u7684\u65B9\u5F0F\uFF0C\u5E76\u5B9A\u4E49\u4E86\u4E00\u4E2A\u62BD\u8C61 IMRetrieval \u7C7B\uFF0C\u53EF\u652F\u6301\u5F00\u53D1\u8005\u81EA\u5B9A\u4E49\u4E2A\u6027\u5316\u7684\u77E5\u8BC6\u5E93\uFF0C\u6765\u5B8C\u6210 Agent \u7684\u77E5\u8BC6\u5E93\u6CE8\u518C\u3002`,paraId:24,tocIndex:8},{value:"Doc Retrieval",paraId:25,tocIndex:8},{value:`
\u6587\u6863\u5411\u91CF\u6570\u636E\u5E93\u662F\u5F53\u524D\u6700\u4E3B\u6D41\u7684\u77E5\u8BC6\u5E93\u6784\u5EFA\u65B9\u6CD5\uFF0C\u4F7F\u7528 Text Embedding \u6A21\u578B\u5BF9\u6587\u6863\u8FDB\u884C\u5411\u91CF\u5316\u5E76\u5728\u5411\u91CF\u6570\u636E\u5E93\u4E2D\u5B58\u50A8\u3002\u672A\u6765\u6211\u4EEC\u4E5F\u4F1A\u53BB\u652F\u6301\u57FA\u4E8E\u77E5\u8BC6\u56FE\u8C31\u67E5\u8BE2\u4EE5\u53CA\u901A\u8FC7\u5927\u6A21\u578B\u81EA\u52A8\u62BD\u53D6\u5B9E\u4F53\u548C\u5173\u7CFB\u7684\u65B9\u5F0F\uFF0C\u6765\u6316\u6398\u6570\u636E\u4E2D\u591A\u79CD\u590D\u6742\u5173\u7CFB\u3002`,paraId:25,tocIndex:8},{value:"Code Retrieval",paraId:26,tocIndex:8},{value:`
LLM \u5728\u4EE3\u7801\u751F\u6210\u3001\u4FEE\u590D\u4EE5\u53CA\u7EC4\u4EF6\u7406\u89E3\u7684\u4EFB\u52A1\u4E0A\uFF0C\u4F1A\u9762\u4E34\u4EE3\u7801\u8BAD\u7EC3\u6570\u636E\u6EDE\u540E\u3001\u65E0\u6CD5\u611F\u77E5\u4EE3\u7801\u4E0A\u4E0B\u6587\u4F9D\u8D56\u7ED3\u6784\u3002\u4EE5\u53CA\u5728\u5F00\u53D1\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5BF9\u73B0\u6709\u4EE3\u7801\u5E93\u548C\u4F9D\u8D56\u5305\u7684\u7406\u89E3\u3001\u68C0\u7D22\u76F8\u5173\u4EE3\u7801\u3001\u67E5\u8BE2\u5143\u4FE1\u606F\u7B49\u4F1A\u5360\u7528\u8F83\u957F\u7684\u65F6\u95F4\u3002\u4E8E\u662F\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u4EE3\u7801\u7ED3\u6784\u5206\u6790\u548C\u4EE3\u7801\u68C0\u7D22\u751F\u6210\u6765\uFF0C\u4EE5\u53CA\u4E3A LLM \u63D0\u4F9B\u77E5\u8BC6\u4F53\u7CFB\u5916\u7684\u4EE3\u7801\u3002`,paraId:26,tocIndex:8},{value:"Search Retrieval",paraId:27,tocIndex:8},{value:`
\u9664\u4E86\u73B0\u6210\u7684\u6587\u6863\u548C\u4EE3\u7801\u77E5\u8BC6\u5E93\u4EE5\u53CA\u4E4B\u5916\uFF0C\u5728\u65E5\u5E38\u4E2D\u5B9E\u8DF5\u4E2D\u4F1A\u53BB\u6D4F\u89C8\u5927\u91CF\u7F51\u9875\u5185\u5BB9\u83B7\u53D6\u66F4\u591A\u7684\u77E5\u8BC6\uFF0C\u5E2E\u52A9\u6211\u4EEC\u7406\u89E3\u65B0\u5174\u7684\u573A\u666F\u3001\u4E1A\u52A1\u3001\u6280\u672F\u7B49\uFF0C\u4E8E\u662F\u6211\u4EEC\u63A5\u5165\u4E86 duckduckgosearch \u8FD9\u6B3E\u5F00\u6E90\u7684\u641C\u7D22\u5DE5\u5177\uFF0C\u80FD\u591F\u4E3A LLM \u63D0\u4F9B\u77E5\u8BC6\u50A8\u5907\u4EE5\u5916\u7684\u5185\u5BB9\u3002`,paraId:27,tocIndex:8},{value:"\u968F\u7740 OpenAI \u63A8\u51FA\u4E86 Function Call \u529F\u80FD\uFF0C\u901A\u8FC7 LLM \u751F\u6210\u6307\u5B9A\u5DE5\u5177\u7684\u53C2\u6570\u5E76\u6267\u884C\u8C03\u7528\uFF0C\u4F7F\u673A\u5668\u80FD\u66F4\u597D\u5730\u7406\u89E3\u548C\u56DE\u5E94\u4EBA\u7C7B\u7684\u9700\u6C42\uFF0C\u4ECE\u800C\u89E3\u51B3\u5B9E\u9645\u95EE\u9898\u548C\u91CD\u590D\u6027\u7684\u5DE5\u4F5C\u3002\u73B0\u5982\u4ECA\u5DE5\u5177\u5B66\u4E60\u80FD\u529B\u8D8A\u6765\u8D8A\u4F5C\u4E3A\u5F00\u6E90\u6A21\u578B\u7684\u6807\u914D\u3002\u90A3\u5728 MuAgent \u4E2D\u4E5F\u652F\u6301 Agent \u5B8C\u6210 Tool \u7684\u6CE8\u518C\uFF0C\u901A\u8FC7 Python \u6CE8\u518C\u6A21\u677F",paraId:28,tocIndex:9},{value:"BaseToolModel",paraId:28,tocIndex:9},{value:`\u7C7B\uFF0C\u7F16\u5199 Tool_name\u3001Tool_description\u3001ToolInputArgs\u3001ToolOutputArgs\u3001run \u7B49\u76F8\u5173\u5C5E\u6027\u548C\u65B9\u6CD5\u5373\u53EF\u5B9E\u73B0\u5DE5\u5177\u7684\u5FEB\u901F\u63A5\u5165\uFF0C\u540C\u65F6\u652F\u6301 langchain Tool \u63A5\u53E3\u7684\u76F4\u63A5\u4F7F\u7528\u3002
\u4F8B\u5982\u50CF\u4E0A\u8FF0 XXRetrieval \u7684\u529F\u80FD\u4E5F\u53EF\u4EE5\u6CE8\u518C\u4E3A Tool\uFF0C\u6700\u7EC8\u7531 LLM \u6267\u884C\u8C03\u7528\u3002`,paraId:28,tocIndex:9},{value:'\u5728 MuAgent \u7684\u5B9A\u4E49\u91CC\uFF0CAction \u662F\u4F5C\u4E3A LLM \u5177\u4F53\u8981\u6267\u884C\u7684\u52A8\u4F5C\u6216\u52A8\u4F5C\u6D41\uFF0C\u4F1A\u5305\u62EC LLM \u4FE1\u606F\u5904\u7406\u3001\u77E5\u8BC6\u68C0\u7D22\u3001\u5DE5\u5177\u8C03\u7528\u4EE5\u53CA\u4EE3\u7801\u6267\u884C\u7B49\u4E00\u4E2A\u7EFC\u5408\u6027\u7684\u590D\u6742\u8FC7\u7A0B\uFF0C\u662F\u4E00\u4E2A\u52A8\u6001\u8FC7\u7A0B\u3002\u6BD4\u5982\u5728 React \u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7 LLM \u83B7\u53D6\u5230\u4E86\u4E00\u4E2A Tool \u53C2\u6570\uFF0C\u63A5\u4E0B\u6765"\u5C06\u5DE5\u5177\u53C2\u6570\u653E\u5165\u5230 Tool \u5E76\u6267\u884C\u8C03\u7528"\u8FD9\u4E2A\u8FC7\u7A0B\u5C31\u662F Action\uFF0C\u5B83\u53BB\u5B9E\u8DF5\u6027\u7684\u8C03\u7528\u4E86 Tool\u3002\u53C8\u6216\u8005\u8BF4\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E00\u4E2A Agent\uFF0C\u5B83\u7F16\u6392\u5728\u4E00\u4E2A\u56FA\u5B9A Agent \u7684 Action \u6B65\u9AA4\u4E4B\u4E2D\uFF0C\u8FD9\u4E2A Agent \u7684\u8F93\u5165\u53C2\u6570\u7531 Action \u7279\u6B8A\u6307\u5B9A\u3002\u4E5F\u5C31\u662F\u8BF4\u65E0\u8BBA\u662F\u7531 LLM \u4EA7\u751F\u53C2\u6570\u8FD8\u662F\u5DE5\u7A0B\u8BBE\u5B9A\u53C2\u6570\uFF0C\u53EA\u6709\u6D89\u53CA\u5177\u4F53\u7684\u6267\u884C\u8FC7\u7A0B\uFF0C\u5C31\u662F\u4E00\u4E2A Action\u3002',paraId:29,tocIndex:10},{value:"connector",paraId:30,tocIndex:11},{value:" \u4E3B\u8981\u4ECB\u7ECD\u8FD9\u5757 Agent \u6846\u67B6\u7684\u5DE5\u4F5C",paraId:31,tocIndex:11},{value:"llm_models",paraId:31,tocIndex:11},{value:"retrieval",paraId:31,tocIndex:11},{value:"tools",paraId:31,tocIndex:11},{value:"sandbox",paraId:31,tocIndex:11},{value:"utils",paraId:31,tocIndex:11}]},89273:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u66F4\u591A\u793A\u4F8B\u89C1 ",paraId:0,tocIndex:0},{value:"examples/muagent_examples",paraId:0,tocIndex:0},{value:`import os, sys
import openai

# llm config
os.environ["API_BASE_URL"] = OPENAI_API_BASE
os.environ["OPENAI_API_KEY"] = "sk-xxx"
openai.api_key = "sk-xxx"
# os.environ["OPENAI_PROXY"] = "socks5h://127.0.0.1:13659"
`,paraId:1,tocIndex:1},{value:`from coagent.llm_models.llm_config import EmbedConfig, LLMConfig

llm_config = LLMConfig(
    model_name="gpt-3.5-turbo", model_device="cpu",api_key=os.environ["OPENAI_API_KEY"],
    api_base_url=os.environ["API_BASE_URL"], temperature=0.3
    )

embed_config = EmbedConfig(
    embed_engine="model", embed_model="text2vec-base-chinese",
    embed_model_path="D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/embedding_models/text2vec-base-chinese"
    )
`,paraId:2,tocIndex:2},{value:`from coagent.tools import toLangchainTools, TOOL_DICT, TOOL_SETS
from coagent.connector.phase import BasePhase
from coagent.connector.schema import Message

# \u9009\u62E9\u4E00\u4E2A\u5DF2\u5B9E\u73B0\u5F97\u573A\u666F\u8FDB\u884C\u6267\u884C

# \u5982\u679C\u9700\u8981\u505A\u4E00\u4E2A\u6570\u636E\u5206\u6790\uFF0C\u9700\u8981\u5C06\u6570\u636E\u653E\u5230\u67D0\u4E2A\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u540C\u65F6\u6307\u5B9A\u5DE5\u4F5C\u76EE\u5F55\uFF08\u4E5F\u53EF\u4F7F\u7528\u9ED8\u8BA4\u76EE\u5F55\uFF09
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/book_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

# \u9009\u62E9\u4E00\u4E2A\u573A\u666F
phase_name = "baseGroupPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

# round-1 \u9700\u8981\u901A\u8FC7\u4EE3\u7801\u89E3\u91CA\u5668\u6765\u5B8C\u6210
query_content = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728employee_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    role_name="human", role_type="user", tools=[],
    role_content=query_content, input_query=query_content, origin_query=query_content,
    )

# phase.pre_print(query)  # \u8BE5\u529F\u80FD\u7528\u4E8E\u9884\u6253\u5370 Agents \u6267\u884C\u94FE\u8DEF\u7684Prompt
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))

# round-2 \u9700\u8981\u6267\u884C\u5DE5\u5177
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])

query_content = "\u5E2E\u6211\u786E\u8BA4\u4E0B127.0.0.1\u8FD9\u4E2A\u670D\u52A1\u5668\u7684\u572810\u70B9\u662F\u5426\u5B58\u5728\u5F02\u5E38\uFF0C\u8BF7\u5E2E\u6211\u5224\u65AD\u4E00\u4E0B"
query = Message(
    role_name="human", role_type="user", tools=tools,
    role_content=query_content, input_query=query_content, origin_query=query_content,
    )

# phase.pre_print(query)  # \u8BE5\u529F\u80FD\u7528\u4E8E\u9884\u6253\u5370 Agents \u6267\u884C\u94FE\u8DEF\u7684Prompt
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))

`,paraId:3,tocIndex:3},{value:"\u89C1",paraId:4,tocIndex:4},{value:"\u5982\u4F55\u81EA\u5B9A\u4E49\u573A\u666F",paraId:5,tocIndex:4},{value:"\u4E0B\u9762\u662F\u4E00\u4E9B\u5177\u4F53\u7684\u573A\u666F\u4ECB\u7ECD\u548C\u4F7F\u7528\u3002",paraId:6,tocIndex:5},{value:"\u6B22\u8FCE\u5927\u5BB6\u5F00\u8111\u6D1E\u6784\u9020\u4E00\u4E9B\u6709\u8DA3\u7684 case\u3002",paraId:7,tocIndex:5},{value:"autogen \u7684 group \u4F7F\u7528\u573A\u666F",paraId:8,tocIndex:6},{value:`# \u5982\u679C\u9700\u8981\u505A\u4E00\u4E2A\u6570\u636E\u5206\u6790\uFF0C\u9700\u8981\u5C06\u6570\u636E\u653E\u5230\u67D0\u4E2A\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u540C\u65F6\u6307\u5B9A\u5DE5\u4F5C\u76EE\u5F55\uFF08\u4E5F\u53EF\u4F7F\u7528\u9ED8\u8BA4\u76EE\u5F55\uFF09
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/book_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

# \u8BBE\u7F6E\u65E5\u5FD7\u7EA7\u522B\uFF0C\u63A7\u5236\u6253\u5370prompt\u6216\u8005llm \u8F93\u51FA\u6216\u5176\u5B83\u4FE1\u606F
os.environ["log_verbose"] = "0"

phase_name = "baseGroupPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

# round-1
query_content = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728book_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"

query = Message(
    role_name="human", role_type="user", tools=[],
    role_content=query_content, input_query=query_content, origin_query=query_content,
    )

# phase.pre_print(query) # \u8BE5\u529F\u80FD\u7528\u4E8E\u9884\u6253\u5370 Agents \u6267\u884C\u94FE\u8DEF\u7684Prompt
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:9,tocIndex:6},{value:"xAgents \u7684\u4EFB\u52A1\u62C6\u5206\u53CA\u591A\u6B65\u9AA4\u6267\u884C\u573A\u666F",paraId:10,tocIndex:7},{value:`# if you want to analyze a data.csv, please put the csv file into a jupyter_work_path (or your defined path)
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/book_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

phase_name = "baseTaskPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)
# round-1
query_content = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728book_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    role_name="human", role_type="user",
    role_content=query_content, input_query=query_content, origin_query=query_content,
    )

output_message, output_memory = phase.step(query)

print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:11,tocIndex:7},{value:"\u57FA\u4E8E React \u7684\u4EE3\u7801\u89E3\u91CA\u5668\u573A\u666F",paraId:12,tocIndex:8},{value:`# if you want to analyze a data.csv, please put the csv file into a jupyter_work_path (or your defined path)
import shutil
source_file = 'D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/jupyter_work/book_data.csv'
shutil.copy(source_file, JUPYTER_WORK_PATH)

# then, create a data analyze phase
phase_name = "codeReactPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
    jupyter_work_path=JUPYTER_WORK_PATH,
)

# round-1
query_content = "\u786E\u8BA4\u672C\u5730\u662F\u5426\u5B58\u5728book_data.csv\uFF0C\u5E76\u67E5\u770B\u5B83\u6709\u54EA\u4E9B\u5217\u548C\u6570\u636E\u7C7B\u578B;\u7136\u540E\u753B\u67F1\u72B6\u56FE"
query = Message(
    role_name="human", role_type="user",
    role_content=query_content, input_query=query_content, origin_query=query_content,
    )

output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:13,tocIndex:8},{value:"\u57FA\u4E8E React \u6A21\u677F\u7684\u5DE5\u5177\u8C03\u7528\u548C\u4EE3\u7801\u89E3\u91CA\u5668\u573A\u666F",paraId:14,tocIndex:9},{value:`TOOL_SETS = [
     "StockName", "StockInfo",
    ]
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])

# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

phase_name = "codeToolReactPhase"

phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

query_content = "\u67E5\u8BE2\u8D35\u5DDE\u8305\u53F0\u7684\u80A1\u7968\u4EE3\u7801\uFF0C\u5E76\u67E5\u8BE2\u622A\u6B62\u5230\u5F53\u524D\u65E5\u671F(2023\u5E7412\u670824\u65E5)\u7684\u6700\u8FD110\u5929\u7684\u6BCF\u65E5\u65F6\u5E8F\u6570\u636E\uFF0C\u7136\u540E\u7528\u4EE3\u7801\u753B\u51FA\u6298\u7EBF\u56FE\u5E76\u5206\u6790"

query = Message(
  role_name="human", role_type="user",
  input_query=query_content, role_content=query_content,
  origin_query=query_content, tools=tools
  )

output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:15,tocIndex:9},{value:"\u77E5\u8BC6\u5E93\u68C0\u7D22\u95EE\u7B54\u94FE\u8DEF",paraId:16,tocIndex:10},{value:`# create your knowledge base
from io import BytesIO
from pathlib import Path

from coagent.service.kb_api import create_kb, upload_doc
from coagent.service.service_factory import get_kb_details
from coagent.utils.server_utils import run_async
kb_list = {x["kb_name"]: x for x in get_kb_details(KB_ROOT_PATH)}


# create a knowledge base
kb_name = "example_test"
data = {
    "knowledge_base_name": kb_name,
    "vector_store_type": "faiss", # default
    "kb_root_path": KB_ROOT_PATH,
    "embed_model": embed_config.embed_model,
    "embed_engine": embed_config.embed_engine,
    "embed_model_path": embed_config.embed_model_path,
    "model_device": embed_config.model_device,
}
run_async(create_kb(**data))

# add doc to knowledge base
file = os.path.join("D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/sources/docs/langchain_text_10.jsonl")
files = [file]
# if embedding init failed, you can use override = True
data = [{"override": True, "file": f,
         "knowledge_base_name": kb_name, "not_refresh_vs_cache": False,
         "kb_root_path": KB_ROOT_PATH, "embed_model": embed_config.embed_model,
         "embed_engine": embed_config.embed_engine, "embed_model_path": embed_config.embed_model_path,
         "model_device": embed_config.model_device,
         }
         for f in files]

for k in data:
    file = Path(file).absolute().open("rb")
    filename = file.name

    from fastapi import UploadFile
    from tempfile import SpooledTemporaryFile

    temp_file = SpooledTemporaryFile(max_size=10 * 1024 * 1024)
    temp_file.write(file.read())
    temp_file.seek(0)

    k.update({"file": UploadFile(file=temp_file, filename=filename),})
    run_async(upload_doc(**k))


# start to chat with knowledge base
# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

# set chat phase
phase_name = "docChatPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)
# round-1
query_content = "langchain\u6709\u54EA\u4E9B\u6A21\u5757"
query = Message(
    role_name="human", role_type="user",
    origin_query=query_content,
    doc_engine_name=kb_name, score_threshold=1.0, top_k=3
    )

output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))

# round-2
query_content = "\u63D0\u793A\uFF08prompts\uFF09\u6709\u4EC0\u4E48\u7528\uFF1F"
query = Message(
    role_name="human", role_type="user",
    origin_query=query_content,
    doc_engine_name=kb_name, score_threshold=1.0, top_k=3
    )
output_message, output_memory = phase.step(query)

print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:17,tocIndex:10},{value:"metagpt \u7684\u4EE3\u7801\u6784\u9020\u94FE\u8DEF",paraId:18,tocIndex:11},{value:`# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

phase_name = "metagpt_code_devlop"
llm_config = LLMConfig(
    model_name="gpt-4", model_device="cpu",api_key=os.environ["OPENAI_API_KEY"],
    api_base_url=os.environ["API_BASE_URL"], temperature=0.3
    )
embed_config = EmbedConfig(
    embed_engine="model", embed_model="text2vec-base-chinese",
    embed_model_path="D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/embedding_models/text2vec-base-chinese"
    )

phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

query_content = "create a snake game by pygame"
query = Message(role_name="human", role_type="user", input_query=query_content, role_content=query_content, origin_query=query_content)

output_message, output_memory = phase.step(query)

print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:19,tocIndex:11},{value:"\u56FA\u5B9A\u573A\u666F\u94FE\u8DEF\uFF0C\u5148\u641C\u7D22\u540E\u57FA\u4E8E LLM \u76F4\u63A5\u56DE\u7B54",paraId:20,tocIndex:12},{value:`# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

phase_name = "searchChatPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

# round-1
query_content1 = "\u7F8E\u56FD\u5F53\u524D\u603B\u7EDF\u662F\u8C01\uFF1F"
query = Message(
    role_name="human", role_type="user",
    role_content=query_content1, input_query=query_content1, origin_query=query_content1,
    search_engine_name="duckduckgo", score_threshold=1.0, top_k=3
    )

output_message, output_memory = phase.step(query)

print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))

# round-2
query_content2 = "\u7F8E\u56FD\u4E0A\u4E00\u4EFB\u603B\u7EDF\u662F\u8C01\uFF0C\u4E24\u4E2A\u4EBA\u6709\u4EC0\u4E48\u5173\u7CFB\u6CA1\uFF1F"
query = Message(
    role_name="human", role_type="user",
    role_content=query_content2, input_query=query_content2, origin_query=query_content2,
    search_engine_name="duckduckgo", score_threshold=1.0, top_k=3
    )
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:21,tocIndex:12},{value:"\u57FA\u4E8E React \u6A21\u677F\u7684\u5DE5\u5177\u8C03\u7528\u573A\u666F",paraId:22,tocIndex:13},{value:`# log-level\uFF0Cprint prompt\u548Cllm predict
os.environ["log_verbose"] = "2"

phase_name = "toolReactPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config,
)

# round-1
tools = toLangchainTools([TOOL_DICT[i] for i in TOOL_SETS if i in TOOL_DICT])
query_content = "\u5E2E\u6211\u786E\u8BA4\u4E0B127.0.0.1\u8FD9\u4E2A\u670D\u52A1\u5668\u7684\u572810\u70B9\u662F\u5426\u5B58\u5728\u5F02\u5E38\uFF0C\u8BF7\u5E2E\u6211\u5224\u65AD\u4E00\u4E0B"
query = Message(
    role_name="human", role_type="user", tools=tools,
    role_content=query_content, input_query=query_content, origin_query=query_content
    )

# phase.pre_print(query)  # \u8BE5\u529F\u80FD\u7528\u4E8E\u9884\u6253\u5370 Agents \u6267\u884C\u94FE\u8DEF\u7684Prompt
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:23,tocIndex:13}]},59282:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"Doc Retrieval",paraId:0,tocIndex:0},{value:" \u6587\u6863\u5411\u91CF\u6570\u636E\u5E93\u662F\u5F53\u524D\u6700\u4E3B\u6D41\u7684\u77E5\u8BC6\u5E93\u6784\u5EFA\u65B9\u6CD5\uFF0C\u4F7F\u7528 Text Embedding \u6A21\u578B\u5BF9\u6587\u6863\u8FDB\u884C\u5411\u91CF\u5316\u5E76\u5728\u5411\u91CF\u6570\u636E\u5E93\u4E2D\u5B58\u50A8\u3002\u672A\u6765\u6211\u4EEC\u4E5F\u4F1A\u53BB\u652F\u6301\u57FA\u4E8E\u77E5\u8BC6\u56FE\u8C31\u67E5\u8BE2\u4EE5\u53CA\u901A\u8FC7\u5927\u6A21\u578B\u81EA\u52A8\u62BD\u53D6\u5B9E\u4F53\u548C\u5173\u7CFB\u7684\u65B9\u5F0F\uFF0C\u6765\u6316\u6398\u6570\u636E\u4E2D\u591A\u79CD\u590D\u6742\u5173\u7CFB\u3002",paraId:0,tocIndex:0},{value:"Code Retrieval",paraId:1,tocIndex:0},{value:" LLM \u5728\u4EE3\u7801\u751F\u6210\u3001\u4FEE\u590D\u4EE5\u53CA\u7EC4\u4EF6\u7406\u89E3\u7684\u4EFB\u52A1\u4E0A\uFF0C\u4F1A\u9762\u4E34\u4EE3\u7801\u8BAD\u7EC3\u6570\u636E\u6EDE\u540E\u3001\u65E0\u6CD5\u611F\u77E5\u4EE3\u7801\u4E0A\u4E0B\u6587\u4F9D\u8D56\u7ED3\u6784\u3002\u4EE5\u53CA\u5728\u5F00\u53D1\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5BF9\u73B0\u6709\u4EE3\u7801\u5E93\u548C\u4F9D\u8D56\u5305\u7684\u7406\u89E3\u3001\u68C0\u7D22\u76F8\u5173\u4EE3\u7801\u3001\u67E5\u8BE2\u5143\u4FE1\u606F\u7B49\u4F1A\u5360\u7528\u8F83\u957F\u7684\u65F6\u95F4\u3002\u4E8E\u662F\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u4EE3\u7801\u7ED3\u6784\u5206\u6790\u548C\u4EE3\u7801\u68C0\u7D22\u751F\u6210\u6765\uFF0C\u4EE5\u53CA\u4E3A LLM \u63D0\u4F9B\u77E5\u8BC6\u4F53\u7CFB\u5916\u7684\u4EE3\u7801\u3002",paraId:1,tocIndex:0},{value:"Search Retrieval",paraId:2,tocIndex:0},{value:" \u9664\u4E86\u73B0\u6210\u7684\u6587\u6863\u548C\u4EE3\u7801\u77E5\u8BC6\u5E93\u4EE5\u53CA\u4E4B\u5916\uFF0C\u5728\u65E5\u5E38\u4E2D\u5B9E\u8DF5\u4E2D\u4F1A\u53BB\u6D4F\u89C8\u5927\u91CF\u7F51\u9875\u5185\u5BB9\u83B7\u53D6\u66F4\u591A\u7684\u77E5\u8BC6\uFF0C\u5E2E\u52A9\u6211\u4EEC\u7406\u89E3\u65B0\u5174\u7684\u573A\u666F\u3001\u4E1A\u52A1\u3001\u6280\u672F\u7B49\uFF0C\u4E8E\u662F\u6211\u4EEC\u63A5\u5165\u4E86 duckduckgosearch \u8FD9\u6B3E\u5F00\u6E90\u7684\u641C\u7D22\u5DE5\u5177\uFF0C\u80FD\u591F\u4E3A LLM \u63D0\u4F9B\u77E5\u8BC6\u50A8\u5907\u4EE5\u5916\u7684\u5185\u5BB9\u3002",paraId:2,tocIndex:0},{value:"\u57FA\u672C\u7684 retrieval \u7ED3\u6784\u5B9A\u4E49",paraId:3,tocIndex:1},{value:`from muagent.base_configs.env_config import KB_ROOT_PATH
# from muagent.retrieval.base_retrieval import IMRertrieval

class IMRertrieval:

    def __init__(self,):
        '''
        init your personal attributes
        '''
        pass

    def run(self, ):
        '''
        execute interface, and can use init' attributes
        '''
        pass

class BaseDocRetrieval(IMRertrieval):

    def __init__(self, knowledge_base_name: str, search_top=5, score_threshold=1.0, embed_config: EmbedConfig=EmbedConfig(), kb_root_path: str=KB_ROOT_PATH):
        self.knowledge_base_name = knowledge_base_name
        self.search_top = search_top
        self.score_threshold = score_threshold
        self.embed_config = embed_config
        self.kb_root_path = kb_root_path

    def run(self, query: str, search_top=None, score_threshold=None, ):
        docs = DocRetrieval.run(
            query=query, knowledge_base_name=self.knowledge_base_name,
            search_top=search_top or self.search_top,
            score_threshold=score_threshold or self.score_threshold,
            embed_config=self.embed_config,
            kb_root_path=self.kb_root_path
        )
        return docs
`,paraId:4,tocIndex:1},{value:"\u51C6\u5907\u914D\u7F6E\u548C\u5BFC\u5305",paraId:5,tocIndex:2},{value:`# retrieval your customized register demo
from muagent.tools import DocRetrieval
from muagent.base_configs.env_config import JUPYTER_WORK_PATH
from muagent.connector.agents import BaseAgent, ReactAgent, ExecutorAgent, SelectorAgent
from muagent.connector.chains import BaseChain
from muagent.connector.phase import BasePhase
from muagent.connector.schema import Role, Message, ChainConfig
from muagent.llm_models.llm_config import EmbedConfig, LLMConfig
from muagent.base_configs.env_config import KB_ROOT_PATH
from muagent.retrieval.base_retrieval import IMRertrieval


# set your config
api_key = ""
api_base_url= ""
model_name = ""
embed_model = ""
embed_model_path = ""
`,paraId:6,tocIndex:2},{value:"\u81EA\u5B9A\u4E49\u68C0\u7D22\u5668",paraId:7,tocIndex:2},{value:`# retrieval your customized register demo
from muagent.tools import DocRetrieval
class BaseDocRetrieval(IMRertrieval):

    def __init__(self, knowledge_base_name: str, search_top=5, score_threshold=1.0, embed_config: EmbedConfig=EmbedConfig(), kb_root_path: str=KB_ROOT_PATH):
        self.knowledge_base_name = knowledge_base_name
        self.search_top = search_top
        self.score_threshold = score_threshold
        self.embed_config = embed_config
        self.kb_root_path = kb_root_path

    def run(self, query: str, search_top=None, score_threshold=None, ):
        docs = DocRetrieval.run(
            query=query, knowledge_base_name=self.knowledge_base_name,
            search_top=search_top or self.search_top,
            score_threshold=score_threshold or self.score_threshold,
            embed_config=self.embed_config,
            kb_root_path=self.kb_root_path
        )
        return docs
`,paraId:8,tocIndex:2},{value:"llm \u548C embedding \u914D\u7F6E",paraId:9,tocIndex:2},{value:`#
llm_config = LLMConfig(
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,
    stop="**Observation:**"
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)

`,paraId:10,tocIndex:2},{value:"\u672C\u5730\u52A0\u8F7D\u77E5\u8BC6\u5E93",paraId:11,tocIndex:2},{value:`
# create your knowledge base
from muagent.service.kb_api import create_kb, upload_files2kb
from muagent.utils.server_utils import run_async
from muagent.orm import create_tables


# use to test, don't create some directory
create_tables()
# create a knowledge base
kb_name = "example_test"
run_async(create_kb(knowledge_base_name=kb_name, vector_store_type="faiss", embed_config=embed_config, kb_root_path=KB_ROOT_PATH))
# add doc to knowledge base
file = os.path.join("D://project/gitlab/llm/external/ant_code/Codefuse-chatbot/sources/docs/langchain_text_10.jsonl")
files = [file]
upload_files2kb(files, kb_name, embed_config, kb_root_path=KB_ROOT_PATH)
`,paraId:12,tocIndex:2},{value:"\u77E5\u8BC6\u5E93\u95EE\u7B54",paraId:13,tocIndex:2},{value:`doc_retrieval = BaseDocRetrieval(knowledge_base_name=kb_name, score_threshold=1.0, search_top=3, embed_config=embed_config)


llm_config = LLMConfig(
    model_name=model_name, api_key=api_key,  api_base_url=api_base_url, temperature=0.3,
    stop="**Observation:**"
)

embed_config = EmbedConfig(
    embed_engine="model", embed_model=embed_model, embed_model_path=embed_model_path
)


# set chat phase
phase_name = "docChatPhase"
phase = BasePhase(
    phase_name, embed_config=embed_config, llm_config=llm_config, kb_root_path=KB_ROOT_PATH,
    doc_retrieval=doc_retrieval
)

# round-1
query_content = "langchain\u6709\u54EA\u4E9B\u6A21\u5757"
query = Message(
    role_name="human", role_type="user", input_query=query_content,
)
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))

# round-2
query_content = "\u63D0\u793A\uFF08prompts\uFF09\u6709\u4EC0\u4E48\u7528\uFF1F"
query = Message(
    role_name="human", role_type="user", input_query=query_content,
)
output_message, output_memory = phase.step(query)
print(output_memory.to_str_messages(return_all=True, content_key="parsed_output_list"))
`,paraId:14,tocIndex:2}]},32456:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5728 MuAgent \u4E2D\u4E5F\u652F\u6301 Agent \u5B8C\u6210 Tool \u7684\u6CE8\u518C\uFF0C\u901A\u8FC7 Python \u6CE8\u518C\u6A21\u677F BaseToolModel \u7C7B\uFF0C\u7F16\u5199",paraId:0,tocIndex:0},{value:"Tool_nam",paraId:1,tocIndex:0},{value:"Tool_descriptio",paraId:1,tocIndex:0},{value:"ToolInputArgs",paraId:1,tocIndex:0},{value:"ToolOutputArgs",paraId:1,tocIndex:0},{value:"run",paraId:1,tocIndex:0},{value:"\u7B49\u76F8\u5173\u5C5E\u6027\u548C\u65B9\u6CD5\u5373\u53EF\u5B9E\u73B0\u5DE5\u5177\u7684\u5FEB\u901F\u63A5\u5165\uFF0C\u540C\u65F6\u652F\u6301 langchain Tool \u63A5\u53E3\u7684\u76F4\u63A5\u4F7F\u7528\u3002 \u4F8B\u5982\u50CF\u4E0A\u8FF0 XXRetrieval \u7684\u529F\u80FD\u4E5F\u53EF\u4EE5\u6CE8\u518C\u4E3A Tool\uFF0C\u6700\u7EC8\u7531 LLM \u6267\u884C\u8C03\u7528\u3002",paraId:2,tocIndex:0},{value:`from langchain.agents import Tool
from pydantic import BaseModel, Field
from typing import List, Dict
import json


class BaseToolModel:
    name = "BaseToolModel"
    description = "Tool Description"

    class ToolInputArgs(BaseModel):
        """
        Input for MoveFileTool.
        Tips:
            default control Required, e.g.  key1 is not Required/key2 is Required
        """

        key1: str = Field(default=None, description="hello world!")
        key2: str = Field(..., description="hello world!!")

    class ToolOutputArgs(BaseModel):
        """
        Input for MoveFileTool.
        Tips:
            default control Required, e.g.  key1 is not Required/key2 is Required
        """

        key1: str = Field(default=None, description="hello world!")
        key2: str = Field(..., description="hello world!!")

    @classmethod
    def run(cls, tool_input_args: ToolInputArgs) -> ToolOutputArgs:
        """excute your tool!"""
        pass
`,paraId:3,tocIndex:1},{value:`from pydantic import BaseModel, Field
from typing import List, Dict
import requests
from loguru import logger

class Multiplier(BaseToolModel):
    """
    Tips:
        default control Required, e.g.  key1 is not Required/key2 is Required
    """

    name: str = "Multiplier"
    description: str = """useful for when you need to multiply two numbers together. \\
    The input to this tool should be a comma separated list of numbers of length two, representing the two numbers you want to multiply together. \\
    For example, \`1,2\` would be the input if you wanted to multiply 1 by 2."""

    class ToolInputArgs(BaseModel):
        """Input for Multiplier."""

        # key: str = Field(..., description="\u7528\u6237\u5728\u9AD8\u5FB7\u5730\u56FE\u5B98\u7F51\u7533\u8BF7web\u670D\u52A1API\u7C7B\u578BKEY")
        a: int = Field(..., description="num a")
        b: int = Field(..., description="num b")

    class ToolOutputArgs(BaseModel):
        """Output for Multiplier."""

        res: int = Field(..., description="the result of two nums")

    @staticmethod
    def run(a, b):
        return a * b
`,paraId:4,tocIndex:2},{value:`from langchain.tools import StructuredTool
from muagent.tools import (
    WeatherInfo, Multiplier, toLangchainTools,
    TOOL_DICT, TOOL_SETS
)

# \u51FD\u6570\u6267\u884C
tools =  [
    StructuredTool(
            name=Multiplier.name,
            func=Multiplier.run,
            description=Multiplier.description,
            args_schema=Multiplier.ToolInputArgs,
        ),
        StructuredTool(
            name=WeatherInfo.name,
            func=WeatherInfo.run,
            description=WeatherInfo.description,
            args_schema=WeatherInfo.ToolInputArgs,
        )
        ]

tools = toLangchainTools([TOOL_DICT["Multiplier"]])

# tool run \u6D4B\u8BD5
print(tools[0].func(1,2))
`,paraId:5,tocIndex:3}]},3800:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"DevOps-ChatBot \u662F\u7531\u8682\u8681 CodeFuse \u56E2\u961F\u5F00\u53D1\u7684\u5F00\u6E90 AI \u667A\u80FD\u52A9\u624B\uFF0C\u81F4\u529B\u4E8E\u7B80\u5316\u548C\u4F18\u5316\u8F6F\u4EF6\u5F00\u53D1\u751F\u547D\u5468\u671F\u4E2D\u7684\u5404\u4E2A\u73AF\u8282\u3002\u8BE5\u9879\u76EE\u7ED3\u5408\u4E86 Multi-Agent \u7684\u534F\u540C\u8C03\u5EA6\u673A\u5236\uFF0C\u5E76\u96C6\u6210\u4E86\u4E30\u5BCC\u7684\u5DE5\u5177\u5E93\u3001\u4EE3\u7801\u5E93\u3001\u77E5\u8BC6\u5E93\u548C\u6C99\u76D2\u73AF\u5883\uFF0C\u4F7F\u5F97 LLM \u6A21\u578B\u80FD\u591F\u5728 DevOps \u9886\u57DF\u5185\u6709\u6548\u6267\u884C\u548C\u5904\u7406\u590D\u6742\u4EFB\u52A1\u3002",paraId:0},{value:"\u{1F91D} \u4ECB\u7ECD",paraId:1,tocIndex:0},{value:"\u{1F3A5} \u6F14\u793A\u89C6\u9891",paraId:2,tocIndex:0},{value:"\u{1F9ED} \u6280\u672F\u8DEF\u7EBF",paraId:3,tocIndex:0},{value:"\u{1F4A1} \u672C\u9879\u76EE\u65E8\u5728\u901A\u8FC7\u68C0\u7D22\u589E\u5F3A\u751F\u6210\uFF08Retrieval Augmented Generation\uFF0CRAG\uFF09\u3001\u5DE5\u5177\u5B66\u4E60\uFF08Tool Learning\uFF09\u548C\u6C99\u76D2\u73AF\u5883\u6765\u6784\u5EFA\u8F6F\u4EF6\u5F00\u53D1\u5168\u751F\u547D\u5468\u671F\u7684 AI \u667A\u80FD\u52A9\u624B\uFF0C\u6DB5\u76D6\u8BBE\u8BA1\u3001\u7F16\u7801\u3001\u6D4B\u8BD5\u3001\u90E8\u7F72\u548C\u8FD0\u7EF4\u7B49\u9636\u6BB5\u3002 \u9010\u6E10\u4ECE\u5404\u5904\u8D44\u6599\u67E5\u8BE2\u3001\u72EC\u7ACB\u5206\u6563\u5E73\u53F0\u64CD\u4F5C\u7684\u4F20\u7EDF\u5F00\u53D1\u8FD0\u7EF4\u6A21\u5F0F\u8F6C\u53D8\u5230\u5927\u6A21\u578B\u95EE\u7B54\u7684\u667A\u80FD\u5316\u5F00\u53D1\u8FD0\u7EF4\u6A21\u5F0F\uFF0C\u6539\u53D8\u4EBA\u4EEC\u7684\u5F00\u53D1\u8FD0\u7EF4\u4E60\u60EF\u3002",paraId:4,tocIndex:1},{value:"\u672C\u9879\u76EE\u6838\u5FC3\u5DEE\u5F02\u6280\u672F\u3001\u529F\u80FD\u70B9\uFF1A",paraId:5,tocIndex:1},{value:"\u{1F9E0} \u667A\u80FD\u8C03\u5EA6\u6838\u5FC3\uFF1A",paraId:6,tocIndex:1},{value:" \u6784\u5EFA\u4E86\u4F53\u7CFB\u94FE\u8DEF\u5B8C\u5584\u7684\u8C03\u5EA6\u6838\u5FC3\uFF0C\u652F\u6301\u591A\u6A21\u5F0F\u4E00\u952E\u914D\u7F6E\uFF0C\u7B80\u5316\u64CD\u4F5C\u6D41\u7A0B\u3002 ",paraId:6,tocIndex:1},{value:"\u4F7F\u7528\u8BF4\u660E",paraId:7,tocIndex:1},{value:"\u{1F4BB} \u4EE3\u7801\u6574\u5E93\u5206\u6790\uFF1A",paraId:6,tocIndex:1},{value:" \u5B9E\u73B0\u4E86\u4ED3\u5E93\u7EA7\u7684\u4EE3\u7801\u6DF1\u5165\u7406\u89E3\uFF0C\u4EE5\u53CA\u9879\u76EE\u6587\u4EF6\u7EA7\u7684\u4EE3\u7801\u7F16\u5199\u4E0E\u751F\u6210\uFF0C\u63D0\u5347\u4E86\u5F00\u53D1\u6548\u7387\u3002",paraId:6,tocIndex:1},{value:"\u{1F4C4} \u6587\u6863\u5206\u6790\u589E\u5F3A\uFF1A",paraId:6,tocIndex:1},{value:" \u878D\u5408\u4E86\u6587\u6863\u77E5\u8BC6\u5E93\u4E0E\u77E5\u8BC6\u56FE\u8C31\uFF0C\u901A\u8FC7\u68C0\u7D22\u548C\u63A8\u7406\u589E\u5F3A\uFF0C\u4E3A\u6587\u6863\u5206\u6790\u63D0\u4F9B\u4E86\u66F4\u6DF1\u5C42\u6B21\u7684\u652F\u6301\u3002",paraId:6,tocIndex:1},{value:"\u{1F527} \u5782\u7C7B\u4E13\u5C5E\u77E5\u8BC6\uFF1A",paraId:6,tocIndex:1},{value:" \u4E3A DevOps \u9886\u57DF\u5B9A\u5236\u7684\u4E13\u5C5E\u77E5\u8BC6\u5E93\uFF0C\u652F\u6301\u5782\u7C7B\u77E5\u8BC6\u5E93\u7684\u81EA\u52A9\u4E00\u952E\u6784\u5EFA\uFF0C\u4FBF\u6377\u5B9E\u7528\u3002",paraId:6,tocIndex:1},{value:"\u{1F916} \u5782\u7C7B\u6A21\u578B\u517C\u5BB9\uFF1A",paraId:6,tocIndex:1},{value:" \u9488\u5BF9 DevOps \u9886\u57DF\u7684\u5C0F\u578B\u6A21\u578B\uFF0C\u4FDD\u8BC1\u4E86\u4E0E DevOps \u76F8\u5173\u5E73\u53F0\u7684\u517C\u5BB9\u6027\uFF0C\u4FC3\u8FDB\u4E86\u6280\u672F\u751F\u6001\u7684\u6574\u5408\u3002",paraId:6,tocIndex:1},{value:"\u{1F30D} \u4F9D\u6258\u4E8E\u5F00\u6E90\u7684 LLM \u4E0E Embedding \u6A21\u578B\uFF0C\u672C\u9879\u76EE\u53EF\u5B9E\u73B0\u57FA\u4E8E\u5F00\u6E90\u6A21\u578B\u7684\u79BB\u7EBF\u79C1\u6709\u90E8\u7F72\u3002\u6B64\u5916\uFF0C\u672C\u9879\u76EE\u4E5F\u652F\u6301 OpenAI API \u7684\u8C03\u7528\u3002",paraId:8,tocIndex:1},{value:"\u63A5\u5165 Demo",paraId:9,tocIndex:1},{value:"\u{1F465} \u6838\u5FC3\u7814\u53D1\u56E2\u961F\u957F\u671F\u4E13\u6CE8\u4E8E AIOps + NLP \u9886\u57DF\u7684\u7814\u7A76\u3002\u6211\u4EEC\u53D1\u8D77\u4E86 Codefuse-ai \u9879\u76EE\uFF0C\u5E0C\u671B\u5927\u5BB6\u5E7F\u6CDB\u8D21\u732E\u9AD8\u8D28\u91CF\u7684\u5F00\u53D1\u548C\u8FD0\u7EF4\u6587\u6863\uFF0C\u5171\u540C\u5B8C\u5584\u8FD9\u5957\u89E3\u51B3\u65B9\u6848\uFF0C\u4EE5\u5B9E\u73B0\u201C\u8BA9\u5929\u4E0B\u6CA1\u6709\u96BE\u505A\u7684\u5F00\u53D1\u201D\u7684\u76EE\u6807\u3002",paraId:10,tocIndex:1},{value:`
  `,paraId:11},{value:"\u4E3A\u4E86\u5E2E\u52A9\u60A8\u66F4\u76F4\u89C2\u5730\u4E86\u89E3 Codefuse-ChatBot \u7684\u529F\u80FD\u548C\u4F7F\u7528\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5F55\u5236\u4E86\u4E00\u7CFB\u5217\u6F14\u793A\u89C6\u9891\u3002\u60A8\u53EF\u4EE5\u901A\u8FC7\u89C2\u770B\u8FD9\u4E9B\u89C6\u9891\uFF0C\u5FEB\u901F\u4E86\u89E3\u672C\u9879\u76EE\u7684\u4E3B\u8981\u7279\u6027\u548C\u64CD\u4F5C\u6D41\u7A0B\u3002",paraId:12,tocIndex:2},{value:"\u77E5\u8BC6\u5E93\u5BFC\u5165\u548C\u95EE\u7B54\uFF1A",paraId:13,tocIndex:2},{value:"\u6F14\u793A\u89C6\u9891",paraId:13,tocIndex:2},{value:"\u672C\u5730\u4EE3\u7801\u5E93\u5BFC\u5165\u548C\u95EE\u7B54\uFF1A",paraId:13,tocIndex:2},{value:"\u6F14\u793A\u89C6\u9891",paraId:13,tocIndex:2},{value:`
  `,paraId:11},{value:"\u{1F9E0} ",paraId:14,tocIndex:3},{value:"Multi-Agent Schedule Core:",paraId:14,tocIndex:3},{value:" \u591A\u667A\u80FD\u4F53\u8C03\u5EA6\u6838\u5FC3\uFF0C\u7B80\u6613\u914D\u7F6E\u5373\u53EF\u6253\u9020\u4EA4\u4E92\u5F0F\u667A\u80FD\u4F53\u3002",paraId:14,tocIndex:3},{value:"\u{1F577}\uFE0F ",paraId:14,tocIndex:3},{value:"Multi Source Web Crawl:",paraId:14,tocIndex:3},{value:" \u591A\u6E90\u7F51\u7EDC\u722C\u866B\uFF0C\u63D0\u4F9B\u5BF9\u6307\u5B9A URL \u7684\u722C\u53D6\u529F\u80FD\uFF0C\u4EE5\u641C\u96C6\u6240\u9700\u4FE1\u606F\u3002",paraId:14,tocIndex:3},{value:"\u{1F5C2}\uFE0F ",paraId:14,tocIndex:3},{value:"Data Processor:",paraId:14,tocIndex:3},{value:" \u6570\u636E\u5904\u7406\u5668\uFF0C\u8F7B\u677E\u5B8C\u6210\u6587\u6863\u8F7D\u5165\u3001\u6570\u636E\u6E05\u6D17\uFF0C\u53CA\u6587\u672C\u5207\u5206\uFF0C\u6574\u5408\u4E0D\u540C\u6765\u6E90\u7684\u6570\u636E\u3002",paraId:14,tocIndex:3},{value:"\u{1F524} ",paraId:14,tocIndex:3},{value:"Text Embedding & Index:",paraId:14,tocIndex:3},{value:"\uFF1A\u6587\u672C\u5D4C\u5165\u7D22\u5F15\uFF0C\u7528\u6237\u53EF\u4EE5\u8F7B\u677E\u4E0A\u4F20\u6587\u4EF6\u8FDB\u884C\u6587\u6863\u68C0\u7D22\uFF0C\u4F18\u5316\u6587\u6863\u5206\u6790\u8FC7\u7A0B\u3002",paraId:14,tocIndex:3},{value:"\u{1F5C4}\uFE0F ",paraId:14,tocIndex:3},{value:"Vector Database & Graph Database:",paraId:14,tocIndex:3},{value:" \u5411\u91CF\u4E0E\u56FE\u6570\u636E\u5E93\uFF0C\u63D0\u4F9B\u7075\u6D3B\u5F3A\u5927\u7684\u6570\u636E\u7BA1\u7406\u89E3\u51B3\u65B9\u6848\u3002",paraId:14,tocIndex:3},{value:"\u{1F4DD} ",paraId:14,tocIndex:3},{value:"Prompt Control & Management:",paraId:14,tocIndex:3},{value:"\uFF1APrompt \u63A7\u5236\u4E0E\u7BA1\u7406\uFF0C\u7CBE\u786E\u5B9A\u4E49\u667A\u80FD\u4F53\u7684\u4E0A\u4E0B\u6587\u73AF\u5883\u3002",paraId:14,tocIndex:3},{value:"\u{1F6A7} ",paraId:14,tocIndex:3},{value:"SandBox:",paraId:14,tocIndex:3},{value:"\uFF1A\u6C99\u76D2\u73AF\u5883\uFF0C\u5B89\u5168\u5730\u6267\u884C\u4EE3\u7801\u7F16\u8BD1\u548C\u52A8\u4F5C\u3002",paraId:14,tocIndex:3},{value:"\u{1F4AC} ",paraId:14,tocIndex:3},{value:"LLM:",paraId:14,tocIndex:3},{value:"\uFF1A\u667A\u80FD\u4F53\u5927\u8111\uFF0C\u652F\u6301\u591A\u79CD\u5F00\u6E90\u6A21\u578B\u548C LLM \u63A5\u53E3\u3002",paraId:14,tocIndex:3},{value:"\u{1F6E0}\uFE0F ",paraId:14,tocIndex:3},{value:"API Management:\uFF1A",paraId:14,tocIndex:3},{value:" API \u7BA1\u7406\u5DE5\u5177\uFF0C\u5B9E\u73B0\u5BF9\u5F00\u6E90\u7EC4\u4EF6\u548C\u8FD0\u7EF4\u5E73\u53F0\u7684\u5FEB\u901F\u96C6\u6210\u3002",paraId:14,tocIndex:3},{value:"\u5177\u4F53\u5B9E\u73B0\u660E\u7EC6\u89C1\uFF1A",paraId:15,tocIndex:3},{value:"\u6280\u672F\u8DEF\u7EBF\u660E\u7EC6",paraId:16,tocIndex:3}]},61753:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u4F9D\u6258\u4E8E\u5F00\u6E90\u7684 LLM \u4E0E Embedding \u6A21\u578B\uFF0C\u672C\u9879\u76EE\u53EF\u5B9E\u73B0\u57FA\u4E8E\u5F00\u6E90\u6A21\u578B\u7684\u79BB\u7EBF\u79C1\u6709\u90E8\u7F72\u3002\u6B64\u5916\uFF0C\u672C\u9879\u76EE\u4E5F\u652F\u6301 OpenAI API \u7684\u8C03\u7528\u3002",paraId:0,tocIndex:0},{value:"\u6A21\u578B\u5730\u5740\u914D\u7F6E\u793A\u4F8B\uFF0Cmodel_config.py \u914D\u7F6E\u4FEE\u6539",paraId:1,tocIndex:1},{value:`# \u5EFA\u8BAE\uFF1A\u8D70huggingface\u63A5\u5165\uFF0C\u5C3D\u91CF\u4F7F\u7528chat\u6A21\u578B\uFF0C\u4E0D\u8981\u4F7F\u7528base\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6B63\u786E\u8F93\u51FA
# \u6CE8\u610F\uFF1A\u5F53llm_model_dict\u548CVLLM_MODEL_DICT\u540C\u65F6\u5B58\u5728\u65F6\uFF0C\u4F18\u5148\u542F\u52A8VLLM_MODEL_DICT\u4E2D\u7684\u6A21\u578B\u914D\u7F6E

# llm_model_dict \u914D\u7F6E\u63A5\u5165\u793A\u4F8B\u5982\u4E0B

# 1\u3001\u82E5\u628A\u6A21\u578B\u653E\u5230 ~/codefuse-chatbot/llm_models \u8DEF\u5F84\u4E0B
# \u82E5\u6A21\u578B\u5730\u5740\u5982\u4E0B
model_dir: ~/codefuse-chatbot/llm_models/THUDM/chatglm-6b

# \u53C2\u8003\u914D\u7F6E\u5982\u4E0B
llm_model_dict = {
    "chatglm-6b": {
        "local_model_path": "THUDM/chatglm-6b",
        "api_base_url": "http://localhost:8888/v1",  # "name"\u4FEE\u6539\u4E3Afastchat\u670D\u52A1\u4E2D\u7684"api_base_url"
        "api_key": "EMPTY"
    }
}

VLLM_MODEL_DICT = {
 'chatglm2-6b':  "THUDM/chatglm-6b",
}

# or \u82E5\u6A21\u578B\u5730\u5740\u5982\u4E0B
model_dir: ~/codefuse-chatbot/llm_models/chatglm-6b
llm_model_dict = {
    "chatglm-6b": {
        "local_model_path": "chatglm-6b",
        "api_base_url": "http://localhost:8888/v1",  # "name"\u4FEE\u6539\u4E3Afastchat\u670D\u52A1\u4E2D\u7684"api_base_url"
        "api_key": "EMPTY"
    }
}

VLLM_MODEL_DICT = {
 'chatglm2-6b':  "chatglm-6b",
}

# 2\u3001\u82E5\u4E0D\u60F3\u79FB\u52A8\u76F8\u5173\u6A21\u578B\u5230 ~/codefuse-chatbot/llm_models
# \u540C\u65F6\u5220\u9664 \`\u6A21\u578B\u8DEF\u5F84\u91CD\u7F6E\` \u4EE5\u4E0B\u7684\u76F8\u5173\u4EE3\u7801\uFF0C\u5177\u4F53\u89C1model_config.py
# \u82E5\u6A21\u578B\u5730\u5740\u5982\u4E0B
model_dir: ~/THUDM/chatglm-6b
# \u53C2\u8003\u914D\u7F6E\u5982\u4E0B
llm_model_dict = {
    "chatglm-6b": {
        "local_model_path": "your personl dir/THUDM/chatglm-6b",
        "api_base_url": "http://localhost:8888/v1",  # "name"\u4FEE\u6539\u4E3Afastchat\u670D\u52A1\u4E2D\u7684"api_base_url"
        "api_key": "EMPTY"
    }
}

VLLM_MODEL_DICT = {
 'chatglm2-6b':  "your personl dir/THUDM/chatglm-6b",
}
`,paraId:2,tocIndex:1},{value:`# 3\u3001\u6307\u5B9A\u542F\u52A8\u7684\u6A21\u578B\u670D\u52A1\uFF0C\u4E24\u8005\u4FDD\u6301\u4E00\u81F4
LLM_MODEL = "chatglm-6b"
LLM_MODELs = ["chatglm-6b"]
`,paraId:3,tocIndex:1},{value:`# server_config.py\u914D\u7F6E\u4FEE\u6539\uFF0C \u82E5LLM_MODELS\u65E0\u591A\u4E2A\u6A21\u578B\u914D\u7F6E\u4E0D\u9700\u8981\u989D\u5916\u8FDB\u884C\u8BBE\u7F6E
# \u4FEE\u6539server_config.py#FSCHAT_MODEL_WORKERS\u7684\u914D\u7F6E
"model_name": {'host': DEFAULT_BIND_HOST, 'port': 20057}
`,paraId:4,tocIndex:1},{value:"\u91CF\u5316\u6A21\u578B\u63A5\u5165",paraId:5,tocIndex:1},{value:`# \u82E5\u9700\u8981\u652F\u6491codellama-34b-int4\u6A21\u578B\uFF0C\u9700\u8981\u7ED9fastchat\u6253\u4E00\u4E2A\u8865\u4E01
cp examples/gptq.py ~/site-packages/fastchat/modules/gptq.py

# \u82E5\u9700\u8981\u652F\u6491qwen-72b-int4\u6A21\u578B\uFF0C\u9700\u8981\u7ED9fastchat\u6253\u4E00\u4E2A\u8865\u4E01
cp examples/gptq.py ~/site-packages/fastchat/modules/gptq.py
# \u91CF\u5316\u9700\u4FEE\u6539llm_api.py\u7684\u914D\u7F6E
# examples/llm_api.py#559 \u53D6\u6D88\u6CE8\u91CA kwargs["gptq_wbits"] = 4
`,paraId:6,tocIndex:1},{value:`# model_config.py\u914D\u7F6E\u4FEE\u6539
# ONLINE_LLM_MODEL
# \u5176\u5B83\u63A5\u53E3\u5F00\u53D1\u6765\u81EA\u4E8Elangchain-chatchat\u9879\u76EE\uFF0C\u7F3A\u5C11\u76F8\u5173\u8D26\u53F7\u672A\u7ECF\u6D4B\u8BD5

# \u6307\u5B9A\u542F\u52A8\u7684\u6A21\u578B\u670D\u52A1\uFF0C\u4E24\u8005\u4FDD\u6301\u4E00\u81F4
LLM_MODEL = "gpt-3.5-turbo"
LLM_MODELs = ["gpt-3.5-turbo"]
`,paraId:7,tocIndex:2},{value:"\u5916\u90E8\u5927\u6A21\u578B\u63A5\u53E3\u63A5\u5165\u793A\u4F8B",paraId:8,tocIndex:2},{value:`# 1\u3001\u5B9E\u73B0\u65B0\u7684\u6A21\u578B\u63A5\u5165\u7C7B
# \u53C2\u8003  ~/examples/model_workers/openai.py#ExampleWorker
# \u5B9E\u73B0do_chat\u51FD\u6570\u5373\u53EF\u4F7F\u7528LLM\u7684\u80FD\u529B

class XXWorker(ApiModelWorker):
    def __init__(
            self,
            *,
            controller_addr: str = None,
            worker_addr: str = None,
            model_names: List[str] = ["gpt-3.5-turbo"],
            version: str = "gpt-3.5",
            **kwargs,
    ):
        kwargs.update(model_names=model_names, controller_addr=controller_addr, worker_addr=worker_addr)
        kwargs.setdefault("context_len", 16384) #TODO 16K\u6A21\u578B\u9700\u8981\u6539\u621016384
        super().__init__(**kwargs)
        self.version = version

    def do_chat(self, params: ApiChatParams) -> Dict:
        '''
        \u6267\u884CChat\u7684\u65B9\u6CD5\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u6A21\u5757\u91CC\u9762\u7684chat\u51FD\u6570\u3002
        :params.messages : [
            {"role": "user", "content": "hello"},
            {"role": "assistant", "content": "hello"}
            ]
        :params.xx: \u8BE6\u60C5\u89C1 ApiChatParams
        \u8981\u6C42\u8FD4\u56DE\u5F62\u5F0F\uFF1A{"error_code": int, "text": str}
        '''
        return {"error_code": 500, "text": f"{self.model_names[0]}\u672A\u5B9E\u73B0chat\u529F\u80FD"}


# \u6700\u540E\u5728 ~/examples/model_workers/__init__.py \u4E2D\u5B8C\u6210\u6CE8\u518C
# from .xx import XXWorker

# 2\u3001\u901A\u8FC7\u5DF2\u6709\u6A21\u578B\u63A5\u5165\u7C7B\u5B8C\u6210\u63A5\u5165
# \u6216\u8005\u76F4\u63A5\u4F7F\u7528\u5DF2\u6709\u7684\u76F8\u5173\u5927\u6A21\u578B\u7C7B\u8FDB\u884C\u4F7F\u7528\uFF08\u7F3A\u5C11\u76F8\u5173\u8D26\u53F7\u6D4B\u8BD5\uFF0C\u6B22\u8FCE\u5927\u5BB6\u6D4B\u8BD5\u540E\u63D0PR\uFF09
`,paraId:9,tocIndex:2},{value:`# model_config.py#ONLINE_LLM_MODEL \u914D\u7F6E\u4FEE\u6539
# \u586B\u5199\u4E13\u5C5E\u6A21\u578B\u7684 version\u3001api_base_url\u3001api_key\u3001provider\uFF08\u4E0E\u4E0A\u8FF0\u7C7B\u540D\u4E00\u81F4\uFF09
ONLINE_LLM_MODEL = {
    # \u7EBF\u4E0A\u6A21\u578B\u3002\u8BF7\u5728server_config\u4E2D\u4E3A\u6BCF\u4E2A\u5728\u7EBFAPI\u8BBE\u7F6E\u4E0D\u540C\u7684\u7AEF\u53E3

    "openai-api": {
        "model_name": "gpt-3.5-turbo",
        "api_base_url": "https://api.openai.com/v1",
        "api_key": "",
        "openai_proxy": "",
    },
    "example": {
        "version": "gpt-3.5",  # \u91C7\u7528openai\u63A5\u53E3\u505A\u793A\u4F8B
        "api_base_url": "https://api.openai.com/v1",
        "api_key": "",
        "provider": "ExampleWorker",
    },
}
`,paraId:10,tocIndex:2},{value:`# start llm-service\uFF08\u53EF\u9009\uFF09  \u5355\u72EC\u542F\u52A8\u5927\u6A21\u578B\u670D\u52A1
python examples/llm_api.py
`,paraId:11,tocIndex:3},{value:`# \u542F\u52A8\u6D4B\u8BD5
import openai
# openai.api_key = "EMPTY" # Not support yet
openai.api_base = "http://127.0.0.1:8888/v1"

# \u9009\u62E9\u4F60\u542F\u52A8\u7684\u6A21\u578B
model = "example"

# create a chat completion
completion = openai.ChatCompletion.create(
    model=model,
    messages=[{"role": "user", "content": "Hello! What is your name? "}],
    max_tokens=100,
)
# print the completion
print(completion.choices[0].message.content)

# \u6B63\u786E\u8F93\u51FA\u540E\u5219\u786E\u8BA4LLM\u53EF\u6B63\u5E38\u63A5\u5165
`,paraId:12,tocIndex:3},{value:"or",paraId:13,tocIndex:3},{value:`# model_config.py#USE_FASTCHAT \u5224\u65AD\u662F\u5426\u8FDB\u884Cfastchat\u63A5\u5165\u672C\u5730\u6A21\u578B
USE_FASTCHAT = "gpt" not in LLM_MODEL
python start.py #221 \u81EA\u52A8\u6267\u884C python llm_api.py
`,paraId:14,tocIndex:3}]},25066:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5982\u9700\u4F7F\u7528\u79C1\u6709\u5316\u6A21\u578B\u90E8\u7F72\uFF0C\u8BF7\u81EA\u884C\u5B89\u88C5 nvidia \u9A71\u52A8\u7A0B\u5E8F\uFF0C\u672C\u9879\u76EE\u5DF2\u5728 Python 3.9.18\uFF0CCUDA 11.7 \u73AF\u5883\u4E0B\uFF0CWindows\u3001X86 \u67B6\u6784\u7684 macOS \u7CFB\u7EDF\u4E2D\u5B8C\u6210\u6D4B\u8BD5\u3002",paraId:0,tocIndex:0},{value:"Docker \u5B89\u88C5\u3001\u79C1\u6709\u5316 LLM \u63A5\u5165\u53CA\u76F8\u5173\u542F\u52A8\u95EE\u9898\u89C1\uFF1A",paraId:1,tocIndex:0},{value:"\u5FEB\u901F\u4F7F\u7528\u660E\u7EC6",paraId:2,tocIndex:0},{value:"1\u3001python \u73AF\u5883\u51C6\u5907",paraId:3,tocIndex:0},{value:"\u63A8\u8350\u91C7\u7528 conda \u5BF9 python \u73AF\u5883\u8FDB\u884C\u7BA1\u7406\uFF08\u53EF\u9009\uFF09",paraId:4,tocIndex:0},{value:`# \u51C6\u5907 conda \u73AF\u5883
conda create --name devopsgpt python=3.9
conda activate devopsgpt
`,paraId:5,tocIndex:0},{value:"\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56",paraId:6,tocIndex:0},{value:`cd codefuse-chatbot
# python=3.9\uFF0Cnotebook\u7528\u6700\u65B0\u5373\u53EF\uFF0Cpython=3.8\u7528notebook=6.5.6
pip install -r requirements.txt
`,paraId:7,tocIndex:0},{value:"2\u3001\u542F\u52A8\u670D\u52A1",paraId:8,tocIndex:0},{value:`# \u5B8C\u6210server_config.py\u914D\u7F6E\u540E\uFF0C\u53EF\u4E00\u952E\u542F\u52A8
cd examples
bash start.sh
# \u5F00\u59CB\u5728\u9875\u9762\u8FDB\u884C\u76F8\u5173\u914D\u7F6E\uFF0C\u7136\u540E\u6253\u5F00\`\u542F\u52A8\u5BF9\u8BDD\u670D\u52A1\`\u5373\u53EF
`,paraId:9,tocIndex:0},{value:`
  `,paraId:10},{value:"\u6216\u8005\u901A\u8FC7",paraId:11,tocIndex:0},{value:"start.py",paraId:11,tocIndex:0},{value:"\u8FDB\u884C\u542F\u52A8",paraId:11,tocIndex:0},{value:"\u8001\u7248\u542F\u52A8\u65B9\u5F0F",paraId:12,tocIndex:0},{value:`
\u66F4\u591A LLM \u63A5\u5165\u65B9\u6CD5\u89C1`,paraId:11,tocIndex:0},{value:"\u66F4\u591A\u7EC6\u8282...",paraId:13,tocIndex:0}]},17484:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`
  `,paraId:0},{value:"\u5B8C\u6574\u8DEF\u7EBF",paraId:1,tocIndex:0},{value:` Sandbox \u73AF\u5883
`,paraId:2,tocIndex:0},{value:" \u73AF\u5883\u9694\u79BB\u7684 sandbox \u73AF\u5883\u4E0E\u4EE3\u7801\u6267\u884C",paraId:3,tocIndex:0},{value:" \u4E0A\u4F20\u3001\u4E0B\u8F7D\u6587\u4EF6",paraId:3,tocIndex:0},{value:" \u652F\u6301 java \u6267\u884C\u73AF\u5883",paraId:3,tocIndex:0},{value:` Vector Database & Retrieval
`,paraId:2,tocIndex:0},{value:" task retrieval",paraId:4,tocIndex:0},{value:" tool retrieval",paraId:4,tocIndex:0},{value:" Prompt Management",paraId:2,tocIndex:0},{value:" memory Management",paraId:2,tocIndex:0},{value:` Multi Agent
`,paraId:2,tocIndex:0},{value:" PRD \u9700\u6C42\u6587\u6863\u3001\u7CFB\u5206\u3001\u63A5\u53E3\u8BBE\u8BA1",paraId:5,tocIndex:0},{value:" \u6839\u636E\u9700\u6C42\u6587\u6863\u3001\u7CFB\u5206\u3001\u63A5\u53E3\u8BBE\u8BA1\u751F\u4EA7\u4EE3\u7801",paraId:5,tocIndex:0},{value:" \u81EA\u52A8\u6D4B\u8BD5\u3001\u81EA\u52A8 debugger",paraId:5,tocIndex:0},{value:" \u8FD0\u7EF4\u6D41\u7A0B\u63A5\u5165\uFF08ToolLearning",paraId:5,tocIndex:0},{value:" \u5168\u6D41\u7A0B\u81EA\u52A8",paraId:5,tocIndex:0},{value:" \u57FA\u4E8E fastchat \u63A5\u5165 LLM",paraId:2,tocIndex:0},{value:` \u57FA\u4E8E sentencebert \u63A5\u5165 Text Embedding
`,paraId:2,tocIndex:0},{value:" \u5411\u91CF\u52A0\u8F7D\u901F\u5EA6\u63D0\u5347",paraId:6,tocIndex:0},{value:` Connector
`,paraId:2,tocIndex:0},{value:" \u57FA\u4E8E langchain \u7684 react \u6A21\u5F0F",paraId:7,tocIndex:0},{value:" \u57FA\u4E8E langchain \u5B8C\u6210 tool \u68C0\u7D22",paraId:7,tocIndex:0},{value:` Web Crawl \u901A\u7528\u80FD\u529B
`,paraId:2,tocIndex:0},{value:" \u6280\u672F\u6587\u6863: \u77E5\u4E4E\u3001csdn\u3001\u963F\u91CC\u4E91\u5F00\u53D1\u8005\u8BBA\u575B\u3001\u817E\u8BAF\u4E91\u5F00\u53D1\u8005\u8BBA\u575B\u7B49",paraId:8,tocIndex:0},{value:" issue document",paraId:8,tocIndex:0},{value:" SDK Library Document",paraId:8,tocIndex:0},{value:"v0.0",paraId:9,tocIndex:0},{value:` Sandbox \u73AF\u5883
`,paraId:9,tocIndex:0},{value:" \u73AF\u5883\u9694\u79BB\u7684 sandbox \u73AF\u5883\u4E0E\u4EE3\u7801\u6267\u884C",paraId:10,tocIndex:0},{value:" \u57FA\u4E8E fastchat \u63A5\u5165 LLM",paraId:9,tocIndex:0},{value:" \u57FA\u4E8E sentencebert \u63A5\u5165 Text Embedding",paraId:9,tocIndex:0},{value:` Web Crawl \u901A\u7528\u80FD\u529B\uFF1A\u6280\u672F\u6587\u6863: \u77E5\u4E4E\u3001csdn\u3001\u963F\u91CC\u4E91\u5F00\u53D1\u8005\u8BBA\u575B\u3001\u817E\u8BAF\u4E91\u5F00\u53D1\u8005\u8BBA\u575B\u7B49
`,paraId:9,tocIndex:0},{value:"v0.1",paraId:9,tocIndex:0},{value:" Sandbox \u73AF\u5883: \u4E0A\u4F20\u3001\u4E0B\u8F7D\u6587\u4EF6",paraId:9,tocIndex:0},{value:` Vector Database & Retrieval
`,paraId:9,tocIndex:0},{value:" task retrieval",paraId:11,tocIndex:0},{value:" tool retrieval",paraId:11,tocIndex:0},{value:` Connector
`,paraId:9,tocIndex:0},{value:" \u57FA\u4E8E langchain \u7684 react \u6A21\u5F0F",paraId:12,tocIndex:0},{value:" \u57FA\u4E8E sentencebert \u63A5\u5165 Text Embedding: \u5411\u91CF\u52A0\u8F7D\u901F\u5EA6\u63D0\u5347",paraId:9,tocIndex:0},{value:`Done
`,paraId:13,tocIndex:0},{value:"v0.2",paraId:14,tocIndex:0},{value:" Prompt Management",paraId:14,tocIndex:0},{value:" memory Management",paraId:14,tocIndex:0},{value:" Vector Database & Retrieval",paraId:14,tocIndex:0},{value:`DDL\uFF1A 2024.01.31
`,paraId:15,tocIndex:0},{value:"v0.3",paraId:16,tocIndex:0},{value:` Sandbox \u73AF\u5883
`,paraId:16,tocIndex:0},{value:" \u652F\u6301 java \u6267\u884C\u73AF\u5883",paraId:17,tocIndex:0},{value:` Multi Agent Framework
`,paraId:16,tocIndex:0},{value:" PRD \u9700\u6C42\u6587\u6863\u3001\u7CFB\u5206\u3001\u63A5\u53E3\u8BBE\u8BA1",paraId:18,tocIndex:0},{value:" \u6839\u636E\u9700\u6C42\u6587\u6863\u3001\u7CFB\u5206\u3001\u63A5\u53E3\u8BBE\u8BA1\u751F\u4EA7\u4EE3\u7801",paraId:18,tocIndex:0},{value:" \u81EA\u52A8\u6D4B\u8BD5\u3001\u81EA\u52A8 debugger",paraId:18,tocIndex:0},{value:" \u8FD0\u7EF4\u6D41\u7A0B\u63A5\u5165\uFF08ToolLearning\uFF09",paraId:18,tocIndex:0},{value:" \u5168\u6D41\u7A0B\u81EA\u52A8",paraId:18,tocIndex:0},{value:` Web Crawl \u901A\u7528\u80FD\u529B
`,paraId:16,tocIndex:0},{value:" issue document",paraId:19,tocIndex:0},{value:" SDK Library Document",paraId:19,tocIndex:0},{value:`DDL\uFF1A 2024.12.31
`,paraId:20,tocIndex:0}]},84738:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5982\u9700\u4F7F\u7528\u79C1\u6709\u5316\u6A21\u578B\u90E8\u7F72\uFF0C\u8BF7\u81EA\u884C\u5B89\u88C5 nvidia \u9A71\u52A8\u7A0B\u5E8F\u3002",paraId:0},{value:"\u63A8\u8350\u91C7\u7528 conda \u5BF9 python \u73AF\u5883\u8FDB\u884C\u7BA1\u7406\uFF08\u53EF\u9009\uFF09",paraId:1,tocIndex:0},{value:`# \u51C6\u5907 conda \u73AF\u5883
conda create --name devopsgpt python=3.9
conda activate devopsgpt
`,paraId:2,tocIndex:0},{value:"\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56",paraId:3,tocIndex:0},{value:`cd codefuse-chatbot
# python=3.9\uFF0Cnotebook\u7528\u6700\u65B0\u5373\u53EF\uFF0Cpython=3.8\u7528notebook=6.5.6
pip install -r requirements.txt
`,paraId:4,tocIndex:0},{value:`windows Docker \u5B89\u88C5\uFF1A
`,paraId:5,tocIndex:1},{value:"Docker Desktop for Windows",paraId:5,tocIndex:1},{value:" \u652F\u6301 64 \u4F4D\u7248\u672C\u7684 Windows 10 Pro\uFF0C\u4E14\u5FC5\u987B\u5F00\u542F Hyper-V\uFF08\u82E5\u7248\u672C\u4E3A v1903 \u53CA\u4EE5\u4E0A\u5219\u65E0\u9700\u5F00\u542F Hyper-V\uFF09\uFF0C\u6216\u8005 64 \u4F4D\u7248\u672C\u7684 Windows 10 Home v1903 \u53CA\u4EE5\u4E0A\u7248\u672C\u3002",paraId:5,tocIndex:1},{value:"\u3010\u5168\u9762\u8BE6\u7EC6\u3011Windows10 Docker \u5B89\u88C5\u8BE6\u7EC6\u6559\u7A0B",paraId:6,tocIndex:1},{value:"Docker \u4ECE\u5165\u95E8\u5230\u5B9E\u8DF5",paraId:6,tocIndex:1},{value:"Docker Desktop requires the Server service to be enabled \u5904\u7406",paraId:6,tocIndex:1},{value:"\u5B89\u88C5 wsl \u6216\u8005\u7B49\u62A5\u9519\u63D0\u793A",paraId:6,tocIndex:1},{value:`Linux Docker \u5B89\u88C5\uFF1A
Linux \u5B89\u88C5\u76F8\u5BF9\u6BD4\u8F83\u7B80\u5355\uFF0C\u8BF7\u81EA\u884C baidu/google \u76F8\u5173\u5B89\u88C5`,paraId:7,tocIndex:1},{value:"Mac Docker \u5B89\u88C5",paraId:8,tocIndex:1},{value:"Docker \u4ECE\u5165\u95E8\u5230\u5B9E\u8DF5",paraId:9,tocIndex:1},{value:`# \u6784\u5EFA\u6C99\u76D2\u73AF\u5883\u7684\u955C\u50CF\uFF0Cnotebook\u7248\u672C\u95EE\u9898\u89C1\u4E0A\u8FF0
bash docker_build.sh
`,paraId:10,tocIndex:1},{value:`\u5982\u9700\u4F7F\u7528\u5F00\u6E90 LLM \u4E0E Embedding \u6A21\u578B\u53EF\u4EE5\u4ECE HuggingFace \u4E0B\u8F7D\u3002
\u6B64\u5904\u4EE5 THUDM/chatglm2-6bm \u548C text2vec-base-chinese \u4E3A\u4F8B\uFF1A`,paraId:11,tocIndex:2},{value:`# install git-lfs
git lfs install

# install LLM-model
git lfs clone https://huggingface.co/THUDM/chatglm2-6b
cp ~/THUDM/chatglm2-6b ~/codefuse-chatbot/llm_models/

# install Embedding-model
git lfs clone https://huggingface.co/shibing624/text2vec-base-chinese
cp ~/shibing624/text2vec-base-chinese ~/codefuse-chatbot/embedding_models/
`,paraId:12,tocIndex:2},{value:`# \u4FEE\u6539\u670D\u52A1\u542F\u52A8\u7684\u57FA\u7840\u914D\u7F6E
cd configs
cp model_config.py.example model_config.py
cp server_config.py.example server_config.py

# model_config#11~12 \u82E5\u9700\u8981\u4F7F\u7528openai\u63A5\u53E3\uFF0Copenai\u63A5\u53E3key
os.environ["OPENAI_API_KEY"] = "sk-xxx"
# \u53EF\u81EA\u884C\u66FF\u6362\u81EA\u5DF1\u9700\u8981\u7684api_base_url
os.environ["API_BASE_URL"] = "https://api.openai.com/v1"

# vi model_config#LLM_MODEL \u4F60\u9700\u8981\u9009\u62E9\u7684\u8BED\u8A00\u6A21\u578B
LLM_MODEL = "gpt-3.5-turbo"
LLM_MODELs = ["gpt-3.5-turbo"]

# vi model_config#EMBEDDING_MODEL \u4F60\u9700\u8981\u9009\u62E9\u7684\u79C1\u6709\u5316\u5411\u91CF\u6A21\u578B
EMBEDDING_ENGINE = 'model'
EMBEDDING_MODEL = "text2vec-base"

# \u5411\u91CF\u6A21\u578B\u63A5\u5165\u793A\u4F8B\uFF0C\u4FEE\u6539 model_config#embedding_model_dict
# \u82E5\u6A21\u578B\u5730\u5740\u4E3A\uFF1A
model_dir: ~/codefuse-chatbot/embedding_models/shibing624/text2vec-base-chinese
# \u914D\u7F6E\u5982\u4E0B
"text2vec-base": "shibing624/text2vec-base-chinese"

# vi server_config#8~14, \u63A8\u8350\u91C7\u7528\u5BB9\u5668\u542F\u52A8\u670D\u52A1
DOCKER_SERVICE = True
# \u662F\u5426\u91C7\u7528\u5BB9\u5668\u6C99\u7BB1
SANDBOX_DO_REMOTE = True
`,paraId:13,tocIndex:3},{value:"\u9ED8\u8BA4\u53EA\u542F\u52A8 webui \u76F8\u5173\u670D\u52A1\uFF0C\u672A\u542F\u52A8 fastchat\uFF08\u53EF\u9009\uFF09\u3002",paraId:14,tocIndex:4},{value:`# \u82E5\u9700\u8981\u652F\u6491codellama-34b-int4\u6A21\u578B\uFF0C\u9700\u8981\u7ED9fastchat\u6253\u4E00\u4E2A\u8865\u4E01
# cp examples/gptq.py ~/site-packages/fastchat/modules/gptq.py
# examples/llm_api.py#258 \u4FEE\u6539\u4E3A kwargs={"gptq_wbits": 4},

# start llm-service\uFF08\u53EF\u9009\uFF09
python examples/llm_api.py
`,paraId:15,tocIndex:4},{value:"\u66F4\u591A LLM \u63A5\u5165\u65B9\u6CD5\u89C1",paraId:16,tocIndex:4},{value:"\u8BE6\u60C5...",paraId:17,tocIndex:4},{value:`# \u5B8C\u6210server_config.py\u914D\u7F6E\u540E\uFF0C\u53EF\u4E00\u952E\u542F\u52A8
cd examples
python start.py
`,paraId:18,tocIndex:4}]},66987:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:" ",paraId:0},{value:"       ",paraId:0},{value:"DevOps-Eval \u662F\u4E00\u4E2A\u4E13\u95E8\u4E3A DevOps \u9886\u57DF\u5927\u6A21\u578B\u8BBE\u8BA1\u7684\u7EFC\u5408\u8BC4\u4F30\u6570\u636E\u96C6\u3002\u6211\u4EEC\u5E0C\u671B DevOps-Eval \u80FD\u591F\u5E2E\u52A9\u5F00\u53D1\u8005\uFF0C\u5C24\u5176\u662F DevOps \u9886\u57DF\u7684\u5F00\u53D1\u8005\uFF0C\u8FFD\u8E2A\u8FDB\u5C55\u5E76\u5206\u6790\u4ED6\u4EEC\u62E5\u6709\u7684 DevOps \u5927\u6A21\u578B\u7684\u4F18\u52BF\u548C\u4E0D\u8DB3\u4E4B\u5904\u3002",paraId:1},{value:"\u{1F4DA} \u8BE5\u4ED3\u5E93\u5305\u542B\u4E0E DevOps \u548C AIOps \u76F8\u5173\u7684\u95EE\u9898\u548C\u7EC3\u4E60, \u8FD8\u6DFB\u52A0\u4E86\u5173\u4E8E ToolLearning \u76F8\u5173\u7684\u6837\u672C\u3002",paraId:2},{value:"\u{1F4A5} \u76EE\u524D\u6709 ",paraId:3},{value:"7486",paraId:3},{value:" \u4E2A\u591A\u9879\u9009\u62E9\u9898\uFF0C\u6839\u636E DevOps \u7684\u901A\u7528\u6D41\u7A0B\u5C06\u5176\u5F52\u7EB3\u672A 8 \u4E2A\u6A21\u5757\uFF0C\u5982",paraId:3},{value:"\u4E0B\u56FE",paraId:3},{value:"\u6240\u793A\u3002",paraId:3},{value:"\u{1F525} AIOps \u6837\u672C\u603B\u8BA1 ",paraId:4},{value:"2840",paraId:4},{value:" \u4E2A\uFF0C\u8986\u76D6\u7684\u573A\u666F\u5305\u62EC",paraId:4},{value:"\u65E5\u5FD7\u89E3\u6790",paraId:4},{value:"\u3001",paraId:4},{value:"\u65F6\u5E8F\u5F02\u5E38\u68C0\u6D4B",paraId:4},{value:"\u3001",paraId:4},{value:"\u65F6\u5E8F\u5206\u7C7B",paraId:4},{value:"\u3001",paraId:4},{value:"\u65F6\u5E8F\u9884\u6D4B",paraId:4},{value:"\u548C",paraId:4},{value:"\u6839\u56E0\u5206\u6790",paraId:4},{value:"\u3002",paraId:4},{value:"\u{1F527} ToolLearning \u6837\u672C ",paraId:5},{value:"1509",paraId:5},{value:" \u4E2A\uFF0C\u6DB5\u76D6 59 \u4E2A\u9886\u57DF\uFF0C\u603B\u8BA1 239 \u79CD\u5DE5\u5177\u7C7B\u522B\u3002",paraId:5},{value:" ",paraId:6},{value:" ",paraId:6},{value:"\u4EE5\u4E0B\u662F\u6211\u4EEC\u83B7\u5F97\u7684\u521D\u7248\u8BC4\u6D4B\u7ED3\u679C\uFF0C\u5305\u62EC\u591A\u4E2A\u5F00\u6E90\u6A21\u578B\u7684 zero-shot \u548C five-shot \u51C6\u786E\u7387\u3002\u6211\u4EEC\u6CE8\u610F\u5230\uFF0C\u5BF9\u4E8E\u5927\u591A\u6570\u6307\u4EE4\u6A21\u578B\u6765\u8BF4\uFF0Cfive-shot \u7684\u51C6\u786E\u7387\u8981\u4F18\u4E8E zero-shot\u3002",paraId:7,tocIndex:0},{value:"\u6A21\u578B",paraId:8,tocIndex:2},{value:"plan",paraId:8,tocIndex:2},{value:"code",paraId:8,tocIndex:2},{value:"build",paraId:8,tocIndex:2},{value:"test",paraId:8,tocIndex:2},{value:"release",paraId:8,tocIndex:2},{value:"deploy",paraId:8,tocIndex:2},{value:"operate",paraId:8,tocIndex:2},{value:"monitor",paraId:8,tocIndex:2},{value:"\u5E73\u5747\u5206",paraId:8,tocIndex:2},{value:"DevOpsPal-14B-Chat",paraId:8,tocIndex:2},{value:"60.61",paraId:8,tocIndex:2},{value:"78.35",paraId:8,tocIndex:2},{value:"84.86",paraId:8,tocIndex:2},{value:"84.65",paraId:8,tocIndex:2},{value:"87.26",paraId:8,tocIndex:2},{value:"82.75",paraId:8,tocIndex:2},{value:"69.89",paraId:8,tocIndex:2},{value:"79.17",paraId:8,tocIndex:2},{value:"78.23",paraId:8,tocIndex:2},{value:"DevOpsPal-14B-Base",paraId:8,tocIndex:2},{value:"54.55",paraId:8,tocIndex:2},{value:"77.82",paraId:8,tocIndex:2},{value:"83.49",paraId:8,tocIndex:2},{value:"85.96",paraId:8,tocIndex:2},{value:"86.32",paraId:8,tocIndex:2},{value:"81.96",paraId:8,tocIndex:2},{value:"71.18",paraId:8,tocIndex:2},{value:"82.41",paraId:8,tocIndex:2},{value:"78.23",paraId:8,tocIndex:2},{value:"Qwen-14B-Chat",paraId:8,tocIndex:2},{value:"60.61",paraId:8,tocIndex:2},{value:"75.4",paraId:8,tocIndex:2},{value:"85.32",paraId:8,tocIndex:2},{value:"84.21",paraId:8,tocIndex:2},{value:"89.62",paraId:8,tocIndex:2},{value:"82.75",paraId:8,tocIndex:2},{value:"69.57",paraId:8,tocIndex:2},{value:"80.56",paraId:8,tocIndex:2},{value:"77.18",paraId:8,tocIndex:2},{value:"Qwen-14B-Base",paraId:8,tocIndex:2},{value:"57.58",paraId:8,tocIndex:2},{value:"73.81",paraId:8,tocIndex:2},{value:"84.4",paraId:8,tocIndex:2},{value:"85.53",paraId:8,tocIndex:2},{value:"86.32",paraId:8,tocIndex:2},{value:"81.18",paraId:8,tocIndex:2},{value:"70.05",paraId:8,tocIndex:2},{value:"80.09",paraId:8,tocIndex:2},{value:"76.19",paraId:8,tocIndex:2},{value:"Baichuan2-13B-Base",paraId:8,tocIndex:2},{value:"60.61",paraId:8,tocIndex:2},{value:"69.42",paraId:8,tocIndex:2},{value:"79.82",paraId:8,tocIndex:2},{value:"79.82",paraId:8,tocIndex:2},{value:"82.55",paraId:8,tocIndex:2},{value:"81.18",paraId:8,tocIndex:2},{value:"70.37",paraId:8,tocIndex:2},{value:"83.8",paraId:8,tocIndex:2},{value:"73.73",paraId:8,tocIndex:2},{value:"Baichuan2-13B-Chat",paraId:8,tocIndex:2},{value:"60.61",paraId:8,tocIndex:2},{value:"68.43",paraId:8,tocIndex:2},{value:"77.98",paraId:8,tocIndex:2},{value:"80.7",paraId:8,tocIndex:2},{value:"81.6",paraId:8,tocIndex:2},{value:"83.53",paraId:8,tocIndex:2},{value:"67.63",paraId:8,tocIndex:2},{value:"84.72",paraId:8,tocIndex:2},{value:"72.9",paraId:8,tocIndex:2},{value:"DevOpsPal-7B-Chat",paraId:8,tocIndex:2},{value:"54.55",paraId:8,tocIndex:2},{value:"69.11",paraId:8,tocIndex:2},{value:"83.94",paraId:8,tocIndex:2},{value:"82.02",paraId:8,tocIndex:2},{value:"76.89",paraId:8,tocIndex:2},{value:"80",paraId:8,tocIndex:2},{value:"64.73",paraId:8,tocIndex:2},{value:"77.78",paraId:8,tocIndex:2},{value:"71.92",paraId:8,tocIndex:2},{value:"DevOpsPal-7B-Base",paraId:8,tocIndex:2},{value:"54.55",paraId:8,tocIndex:2},{value:"68.96",paraId:8,tocIndex:2},{value:"82.11",paraId:8,tocIndex:2},{value:"78.95",paraId:8,tocIndex:2},{value:"80.66",paraId:8,tocIndex:2},{value:"76.47",paraId:8,tocIndex:2},{value:"65.54",paraId:8,tocIndex:2},{value:"78.7",paraId:8,tocIndex:2},{value:"71.69",paraId:8,tocIndex:2},{value:"Qwen-7B-Base",paraId:8,tocIndex:2},{value:"53.03",paraId:8,tocIndex:2},{value:"68.13",paraId:8,tocIndex:2},{value:"78.9",paraId:8,tocIndex:2},{value:"75.44",paraId:8,tocIndex:2},{value:"80.19",paraId:8,tocIndex:2},{value:"80",paraId:8,tocIndex:2},{value:"65.06",paraId:8,tocIndex:2},{value:"80.09",paraId:8,tocIndex:2},{value:"71.09",paraId:8,tocIndex:2},{value:"Qwen-7B-Chat",paraId:8,tocIndex:2},{value:"57.58",paraId:8,tocIndex:2},{value:"66.01",paraId:8,tocIndex:2},{value:"80.28",paraId:8,tocIndex:2},{value:"79.82",paraId:8,tocIndex:2},{value:"76.89",paraId:8,tocIndex:2},{value:"77.65",paraId:8,tocIndex:2},{value:"62.64",paraId:8,tocIndex:2},{value:"79.17",paraId:8,tocIndex:2},{value:"69.75",paraId:8,tocIndex:2},{value:"Baichuan2-7B-Chat",paraId:8,tocIndex:2},{value:"54.55",paraId:8,tocIndex:2},{value:"63.66",paraId:8,tocIndex:2},{value:"77.98",paraId:8,tocIndex:2},{value:"76.32",paraId:8,tocIndex:2},{value:"71.7",paraId:8,tocIndex:2},{value:"73.33",paraId:8,tocIndex:2},{value:"59.42",paraId:8,tocIndex:2},{value:"79.63",paraId:8,tocIndex:2},{value:"66.97",paraId:8,tocIndex:2},{value:"Internlm-7B-Chat",paraId:8,tocIndex:2},{value:"60.61",paraId:8,tocIndex:2},{value:"62.15",paraId:8,tocIndex:2},{value:"77.06",paraId:8,tocIndex:2},{value:"76.32",paraId:8,tocIndex:2},{value:"66.98",paraId:8,tocIndex:2},{value:"74.51",paraId:8,tocIndex:2},{value:"60.39",paraId:8,tocIndex:2},{value:"78.24",paraId:8,tocIndex:2},{value:"66.27",paraId:8,tocIndex:2},{value:"Baichuan2-7B-Base",paraId:8,tocIndex:2},{value:"56.06",paraId:8,tocIndex:2},{value:"62.45",paraId:8,tocIndex:2},{value:"75.69",paraId:8,tocIndex:2},{value:"70.61",paraId:8,tocIndex:2},{value:"74.06",paraId:8,tocIndex:2},{value:"69.8",paraId:8,tocIndex:2},{value:"61.67",paraId:8,tocIndex:2},{value:"75.93",paraId:8,tocIndex:2},{value:"66.21",paraId:8,tocIndex:2},{value:"Internlm-7B-Base",paraId:8,tocIndex:2},{value:"54.55",paraId:8,tocIndex:2},{value:"58.29",paraId:8,tocIndex:2},{value:"79.36",paraId:8,tocIndex:2},{value:"78.95",paraId:8,tocIndex:2},{value:"77.83",paraId:8,tocIndex:2},{value:"70.59",paraId:8,tocIndex:2},{value:"65.86",paraId:8,tocIndex:2},{value:"75.93",paraId:8,tocIndex:2},{value:"65.99",paraId:8,tocIndex:2},{value:"\u6A21\u578B",paraId:9,tocIndex:3},{value:"plan",paraId:9,tocIndex:3},{value:"code",paraId:9,tocIndex:3},{value:"build",paraId:9,tocIndex:3},{value:"test",paraId:9,tocIndex:3},{value:"release",paraId:9,tocIndex:3},{value:"deploy",paraId:9,tocIndex:3},{value:"operate",paraId:9,tocIndex:3},{value:"monitor",paraId:9,tocIndex:3},{value:"\u5E73\u5747\u5206",paraId:9,tocIndex:3},{value:"DevOpsPal-14B-Chat",paraId:9,tocIndex:3},{value:"63.64",paraId:9,tocIndex:3},{value:"79.49",paraId:9,tocIndex:3},{value:"81.65",paraId:9,tocIndex:3},{value:"85.96",paraId:9,tocIndex:3},{value:"86.79",paraId:9,tocIndex:3},{value:"86.67",paraId:9,tocIndex:3},{value:"72.95",paraId:9,tocIndex:3},{value:"81.48",paraId:9,tocIndex:3},{value:"79.69",paraId:9,tocIndex:3},{value:"DevOpsPal-14B-Base",paraId:9,tocIndex:3},{value:"62.12",paraId:9,tocIndex:3},{value:"80.55",paraId:9,tocIndex:3},{value:"82.57",paraId:9,tocIndex:3},{value:"85.53",paraId:9,tocIndex:3},{value:"85.85",paraId:9,tocIndex:3},{value:"84.71",paraId:9,tocIndex:3},{value:"71.98",paraId:9,tocIndex:3},{value:"80.09",paraId:9,tocIndex:3},{value:"79.63",paraId:9,tocIndex:3},{value:"Qwen-14B-Chat",paraId:9,tocIndex:3},{value:"65.15",paraId:9,tocIndex:3},{value:"76",paraId:9,tocIndex:3},{value:"82.57",paraId:9,tocIndex:3},{value:"85.53",paraId:9,tocIndex:3},{value:"84.91",paraId:9,tocIndex:3},{value:"84.31",paraId:9,tocIndex:3},{value:"70.85",paraId:9,tocIndex:3},{value:"81.48",paraId:9,tocIndex:3},{value:"77.81",paraId:9,tocIndex:3},{value:"Qwen-14B-Base",paraId:9,tocIndex:3},{value:"66.67",paraId:9,tocIndex:3},{value:"76.15",paraId:9,tocIndex:3},{value:"84.4",paraId:9,tocIndex:3},{value:"85.53",paraId:9,tocIndex:3},{value:"86.32",paraId:9,tocIndex:3},{value:"80.39",paraId:9,tocIndex:3},{value:"72.46",paraId:9,tocIndex:3},{value:"80.56",paraId:9,tocIndex:3},{value:"77.56",paraId:9,tocIndex:3},{value:"Baichuan2-13B-Base",paraId:9,tocIndex:3},{value:"63.64",paraId:9,tocIndex:3},{value:"71.39",paraId:9,tocIndex:3},{value:"80.73",paraId:9,tocIndex:3},{value:"82.46",paraId:9,tocIndex:3},{value:"81.13",paraId:9,tocIndex:3},{value:"84.31",paraId:9,tocIndex:3},{value:"73.75",paraId:9,tocIndex:3},{value:"85.19",paraId:9,tocIndex:3},{value:"75.8",paraId:9,tocIndex:3},{value:"Qwen-7B-Base",paraId:9,tocIndex:3},{value:"75.76",paraId:9,tocIndex:3},{value:"72.52",paraId:9,tocIndex:3},{value:"78.9",paraId:9,tocIndex:3},{value:"81.14",paraId:9,tocIndex:3},{value:"83.96",paraId:9,tocIndex:3},{value:"81.18",paraId:9,tocIndex:3},{value:"70.37",paraId:9,tocIndex:3},{value:"81.94",paraId:9,tocIndex:3},{value:"75.36",paraId:9,tocIndex:3},{value:"Baichuan2-13B-Chat",paraId:9,tocIndex:3},{value:"62.12",paraId:9,tocIndex:3},{value:"69.95",paraId:9,tocIndex:3},{value:"76.61",paraId:9,tocIndex:3},{value:"84.21",paraId:9,tocIndex:3},{value:"83.49",paraId:9,tocIndex:3},{value:"79.61",paraId:9,tocIndex:3},{value:"71.98",paraId:9,tocIndex:3},{value:"80.56",paraId:9,tocIndex:3},{value:"74.12",paraId:9,tocIndex:3},{value:"DevOpsPal-7B-Chat",paraId:9,tocIndex:3},{value:"66.67",paraId:9,tocIndex:3},{value:"69.95",paraId:9,tocIndex:3},{value:"83.94",paraId:9,tocIndex:3},{value:"81.14",paraId:9,tocIndex:3},{value:"80.19",paraId:9,tocIndex:3},{value:"82.75",paraId:9,tocIndex:3},{value:"68.6",paraId:9,tocIndex:3},{value:"76.85",paraId:9,tocIndex:3},{value:"73.61",paraId:9,tocIndex:3},{value:"DevOpsPal-7B-Base",paraId:9,tocIndex:3},{value:"69.7",paraId:9,tocIndex:3},{value:"69.49",paraId:9,tocIndex:3},{value:"82.11",paraId:9,tocIndex:3},{value:"81.14",paraId:9,tocIndex:3},{value:"82.55",paraId:9,tocIndex:3},{value:"82.35",paraId:9,tocIndex:3},{value:"67.15",paraId:9,tocIndex:3},{value:"79.17",paraId:9,tocIndex:3},{value:"73.35",paraId:9,tocIndex:3},{value:"Qwen-7B-Chat",paraId:9,tocIndex:3},{value:"65.15",paraId:9,tocIndex:3},{value:"66.54",paraId:9,tocIndex:3},{value:"82.57",paraId:9,tocIndex:3},{value:"81.58",paraId:9,tocIndex:3},{value:"81.6",paraId:9,tocIndex:3},{value:"81.18",paraId:9,tocIndex:3},{value:"65.38",paraId:9,tocIndex:3},{value:"81.02",paraId:9,tocIndex:3},{value:"71.69",paraId:9,tocIndex:3},{value:"Baichuan2-7B-Base",paraId:9,tocIndex:3},{value:"60.61",paraId:9,tocIndex:3},{value:"67.22",paraId:9,tocIndex:3},{value:"76.61",paraId:9,tocIndex:3},{value:"75",paraId:9,tocIndex:3},{value:"77.83",paraId:9,tocIndex:3},{value:"78.43",paraId:9,tocIndex:3},{value:"67.31",paraId:9,tocIndex:3},{value:"79.63",paraId:9,tocIndex:3},{value:"70.8",paraId:9,tocIndex:3},{value:"Internlm-7B-Chat",paraId:9,tocIndex:3},{value:"60.61",paraId:9,tocIndex:3},{value:"63.06",paraId:9,tocIndex:3},{value:"79.82",paraId:9,tocIndex:3},{value:"80.26",paraId:9,tocIndex:3},{value:"67.92",paraId:9,tocIndex:3},{value:"75.69",paraId:9,tocIndex:3},{value:"60.06",paraId:9,tocIndex:3},{value:"77.31",paraId:9,tocIndex:3},{value:"69.21",paraId:9,tocIndex:3},{value:"Baichuan2-7B-Chat",paraId:9,tocIndex:3},{value:"60.61",paraId:9,tocIndex:3},{value:"64.95",paraId:9,tocIndex:3},{value:"81.19",paraId:9,tocIndex:3},{value:"75.88",paraId:9,tocIndex:3},{value:"71.23",paraId:9,tocIndex:3},{value:"75.69",paraId:9,tocIndex:3},{value:"64.9",paraId:9,tocIndex:3},{value:"79.17",paraId:9,tocIndex:3},{value:"69.05",paraId:9,tocIndex:3},{value:"Internlm-7B-Base",paraId:9,tocIndex:3},{value:"62.12",paraId:9,tocIndex:3},{value:"65.25",paraId:9,tocIndex:3},{value:"77.52",paraId:9,tocIndex:3},{value:"80.7",paraId:9,tocIndex:3},{value:"74.06",paraId:9,tocIndex:3},{value:"78.82",paraId:9,tocIndex:3},{value:"63.45",paraId:9,tocIndex:3},{value:"75.46",paraId:9,tocIndex:3},{value:"67.17",paraId:9,tocIndex:3},{value:"\u6A21\u578B",paraId:10,tocIndex:5},{value:"\u65E5\u5FD7\u89E3\u6790",paraId:10,tocIndex:5},{value:"\u6839\u56E0\u5206\u6790",paraId:10,tocIndex:5},{value:"\u65F6\u5E8F\u5F02\u5E38\u68C0\u6D4B",paraId:10,tocIndex:5},{value:"\u65F6\u5E8F\u5206\u7C7B",paraId:10,tocIndex:5},{value:"\u65F6\u5E8F\u9884\u6D4B",paraId:10,tocIndex:5},{value:"\u5E73\u5747\u5206",paraId:10,tocIndex:5},{value:"Qwen-14B-Base",paraId:10,tocIndex:5},{value:"66.29",paraId:10,tocIndex:5},{value:"58.8",paraId:10,tocIndex:5},{value:"25.33",paraId:10,tocIndex:5},{value:"43.5",paraId:10,tocIndex:5},{value:"62.5",paraId:10,tocIndex:5},{value:"52.25",paraId:10,tocIndex:5},{value:"DevOpsPal-14B\u2014Base",paraId:10,tocIndex:5},{value:"63.14",paraId:10,tocIndex:5},{value:"53.6",paraId:10,tocIndex:5},{value:"23.33",paraId:10,tocIndex:5},{value:"43.5",paraId:10,tocIndex:5},{value:"64.06",paraId:10,tocIndex:5},{value:"50.49",paraId:10,tocIndex:5},{value:"Qwen-14B-Chat",paraId:10,tocIndex:5},{value:"64.57",paraId:10,tocIndex:5},{value:"51.6",paraId:10,tocIndex:5},{value:"22.67",paraId:10,tocIndex:5},{value:"36",paraId:10,tocIndex:5},{value:"62.5",paraId:10,tocIndex:5},{value:"48.94",paraId:10,tocIndex:5},{value:"DevOpsPal-14B\u2014Chat",paraId:10,tocIndex:5},{value:"60",paraId:10,tocIndex:5},{value:"56",paraId:10,tocIndex:5},{value:"24",paraId:10,tocIndex:5},{value:"43",paraId:10,tocIndex:5},{value:"57.81",paraId:10,tocIndex:5},{value:"48.8",paraId:10,tocIndex:5},{value:"Qwen-7B-Base",paraId:10,tocIndex:5},{value:"50",paraId:10,tocIndex:5},{value:"39.2",paraId:10,tocIndex:5},{value:"22.67",paraId:10,tocIndex:5},{value:"54",paraId:10,tocIndex:5},{value:"43.75",paraId:10,tocIndex:5},{value:"41.48",paraId:10,tocIndex:5},{value:"DevOpsPal-7B\u2014Chat",paraId:10,tocIndex:5},{value:"56.57",paraId:10,tocIndex:5},{value:"30.4",paraId:10,tocIndex:5},{value:"25.33",paraId:10,tocIndex:5},{value:"45",paraId:10,tocIndex:5},{value:"44.06",paraId:10,tocIndex:5},{value:"40.92",paraId:10,tocIndex:5},{value:"Baichuan2-13B-Chat",paraId:10,tocIndex:5},{value:"64",paraId:10,tocIndex:5},{value:"18",paraId:10,tocIndex:5},{value:"21.33",paraId:10,tocIndex:5},{value:"37.5",paraId:10,tocIndex:5},{value:"46.88",paraId:10,tocIndex:5},{value:"39.3",paraId:10,tocIndex:5},{value:"Qwen-7B-Chat",paraId:10,tocIndex:5},{value:"57.43",paraId:10,tocIndex:5},{value:"38.8",paraId:10,tocIndex:5},{value:"22.33",paraId:10,tocIndex:5},{value:"39.5",paraId:10,tocIndex:5},{value:"25.31",paraId:10,tocIndex:5},{value:"36.97",paraId:10,tocIndex:5},{value:"Internlm-7B\u2014Chat",paraId:10,tocIndex:5},{value:"58.86",paraId:10,tocIndex:5},{value:"8.8",paraId:10,tocIndex:5},{value:"22.33",paraId:10,tocIndex:5},{value:"28.5",paraId:10,tocIndex:5},{value:"51.25",paraId:10,tocIndex:5},{value:"36.34",paraId:10,tocIndex:5},{value:"Baichuan2-7B-Chat",paraId:10,tocIndex:5},{value:"60.86",paraId:10,tocIndex:5},{value:"10",paraId:10,tocIndex:5},{value:"28",paraId:10,tocIndex:5},{value:"34.5",paraId:10,tocIndex:5},{value:"39.06",paraId:10,tocIndex:5},{value:"36.34",paraId:10,tocIndex:5},{value:"Baichuan2-7B-Base",paraId:10,tocIndex:5},{value:"53.43",paraId:10,tocIndex:5},{value:"12.8",paraId:10,tocIndex:5},{value:"27.67",paraId:10,tocIndex:5},{value:"36.5",paraId:10,tocIndex:5},{value:"40.31",paraId:10,tocIndex:5},{value:"35.49",paraId:10,tocIndex:5},{value:"Baichuan2-13B-Base",paraId:10,tocIndex:5},{value:"54",paraId:10,tocIndex:5},{value:"12.4",paraId:10,tocIndex:5},{value:"23",paraId:10,tocIndex:5},{value:"34.5",paraId:10,tocIndex:5},{value:"42.81",paraId:10,tocIndex:5},{value:"34.86",paraId:10,tocIndex:5},{value:"DevOpsPal-7B\u2014Base",paraId:10,tocIndex:5},{value:"46.57",paraId:10,tocIndex:5},{value:"20.8",paraId:10,tocIndex:5},{value:"25",paraId:10,tocIndex:5},{value:"34",paraId:10,tocIndex:5},{value:"38.75",paraId:10,tocIndex:5},{value:"33.94",paraId:10,tocIndex:5},{value:"Internlm-7B\u2014Base",paraId:10,tocIndex:5},{value:"48.57",paraId:10,tocIndex:5},{value:"18.8",paraId:10,tocIndex:5},{value:"23.33",paraId:10,tocIndex:5},{value:"37.5",paraId:10,tocIndex:5},{value:"33.75",paraId:10,tocIndex:5},{value:"33.1",paraId:10,tocIndex:5},{value:"\u6A21\u578B",paraId:11,tocIndex:6},{value:"\u65E5\u5FD7\u89E3\u6790",paraId:11,tocIndex:6},{value:"\u6839\u56E0\u5206\u6790",paraId:11,tocIndex:6},{value:"\u65F6\u5E8F\u5F02\u5E38\u68C0\u6D4B",paraId:11,tocIndex:6},{value:"\u65F6\u5E8F\u5206\u7C7B",paraId:11,tocIndex:6},{value:"\u65F6\u5E8F\u9884\u6D4B",paraId:11,tocIndex:6},{value:"\u5E73\u5747\u5206",paraId:11,tocIndex:6},{value:"DevOpsPal-14B\u2014Chat",paraId:11,tocIndex:6},{value:"66.29",paraId:11,tocIndex:6},{value:"80.8",paraId:11,tocIndex:6},{value:"23.33",paraId:11,tocIndex:6},{value:"44.5",paraId:11,tocIndex:6},{value:"56.25",paraId:11,tocIndex:6},{value:"54.44",paraId:11,tocIndex:6},{value:"DevOpsPal-14B\u2014Base",paraId:11,tocIndex:6},{value:"60",paraId:11,tocIndex:6},{value:"74",paraId:11,tocIndex:6},{value:"25.33",paraId:11,tocIndex:6},{value:"43.5",paraId:11,tocIndex:6},{value:"52.5",paraId:11,tocIndex:6},{value:"51.13",paraId:11,tocIndex:6},{value:"Qwen-14B-Base",paraId:11,tocIndex:6},{value:"64.29",paraId:11,tocIndex:6},{value:"74.4",paraId:11,tocIndex:6},{value:"28",paraId:11,tocIndex:6},{value:"48.5",paraId:11,tocIndex:6},{value:"40.31",paraId:11,tocIndex:6},{value:"50.77",paraId:11,tocIndex:6},{value:"Qwen-7B-Base",paraId:11,tocIndex:6},{value:"56",paraId:11,tocIndex:6},{value:"60.8",paraId:11,tocIndex:6},{value:"27.67",paraId:11,tocIndex:6},{value:"44",paraId:11,tocIndex:6},{value:"57.19",paraId:11,tocIndex:6},{value:"49.44",paraId:11,tocIndex:6},{value:"Qwen-14B-Chat",paraId:11,tocIndex:6},{value:"49.71",paraId:11,tocIndex:6},{value:"65.6",paraId:11,tocIndex:6},{value:"28.67",paraId:11,tocIndex:6},{value:"48",paraId:11,tocIndex:6},{value:"42.19",paraId:11,tocIndex:6},{value:"46.13",paraId:11,tocIndex:6},{value:"Baichuan2-13B-Base",paraId:11,tocIndex:6},{value:"56",paraId:11,tocIndex:6},{value:"43.2",paraId:11,tocIndex:6},{value:"24.33",paraId:11,tocIndex:6},{value:"41",paraId:11,tocIndex:6},{value:"46.88",paraId:11,tocIndex:6},{value:"42.89",paraId:11,tocIndex:6},{value:"Baichuan2-7B-Chat",paraId:11,tocIndex:6},{value:"58.57",paraId:11,tocIndex:6},{value:"31.6",paraId:11,tocIndex:6},{value:"27",paraId:11,tocIndex:6},{value:"31.5",paraId:11,tocIndex:6},{value:"51.88",paraId:11,tocIndex:6},{value:"41.83",paraId:11,tocIndex:6},{value:"DevOpsPal-7B\u2014Base",paraId:11,tocIndex:6},{value:"52.86",paraId:11,tocIndex:6},{value:"44.4",paraId:11,tocIndex:6},{value:"28",paraId:11,tocIndex:6},{value:"44.5",paraId:11,tocIndex:6},{value:"36.25",paraId:11,tocIndex:6},{value:"41.2",paraId:11,tocIndex:6},{value:"Baichuan2-7B-Base",paraId:11,tocIndex:6},{value:"48.29",paraId:11,tocIndex:6},{value:"40.4",paraId:11,tocIndex:6},{value:"27",paraId:11,tocIndex:6},{value:"42",paraId:11,tocIndex:6},{value:"40.94",paraId:11,tocIndex:6},{value:"39.86",paraId:11,tocIndex:6},{value:"Qwen-7B-Chat",paraId:11,tocIndex:6},{value:"54.57",paraId:11,tocIndex:6},{value:"52",paraId:11,tocIndex:6},{value:"29.67",paraId:11,tocIndex:6},{value:"26.5",paraId:11,tocIndex:6},{value:"27.19",paraId:11,tocIndex:6},{value:"38.73",paraId:11,tocIndex:6},{value:"Baichuan2-13B-Chat",paraId:11,tocIndex:6},{value:"57.43",paraId:11,tocIndex:6},{value:"44.4",paraId:11,tocIndex:6},{value:"25",paraId:11,tocIndex:6},{value:"25.5",paraId:11,tocIndex:6},{value:"30.63",paraId:11,tocIndex:6},{value:"37.75",paraId:11,tocIndex:6},{value:"DevOpsPal-7B\u2014Chat",paraId:11,tocIndex:6},{value:"56.57",paraId:11,tocIndex:6},{value:"27.2",paraId:11,tocIndex:6},{value:"25.33",paraId:11,tocIndex:6},{value:"41.5",paraId:11,tocIndex:6},{value:"33.44",paraId:11,tocIndex:6},{value:"37.46",paraId:11,tocIndex:6},{value:"Internlm-7B\u2014Chat",paraId:11,tocIndex:6},{value:"62.57",paraId:11,tocIndex:6},{value:"12.8",paraId:11,tocIndex:6},{value:"22.33",paraId:11,tocIndex:6},{value:"21",paraId:11,tocIndex:6},{value:"50.31",paraId:11,tocIndex:6},{value:"36.69",paraId:11,tocIndex:6},{value:"Internlm-7B\u2014Base",paraId:11,tocIndex:6},{value:"48",paraId:11,tocIndex:6},{value:"33.2",paraId:11,tocIndex:6},{value:"29",paraId:11,tocIndex:6},{value:"35",paraId:11,tocIndex:6},{value:"31.56",paraId:11,tocIndex:6},{value:"35.85",paraId:11,tocIndex:6},{value:"FuncCall-Filler",paraId:12,tocIndex:7},{value:"dataset_name",paraId:12,tocIndex:7},{value:"fccr",paraId:12,tocIndex:7},{value:"1-fcffr",paraId:12,tocIndex:7},{value:"1-fcfnr",paraId:12,tocIndex:7},{value:"1-fcfpr",paraId:12,tocIndex:7},{value:"1-fcfnir",paraId:12,tocIndex:7},{value:"aar",paraId:12,tocIndex:7},{value:"Qwen-14b-chat",paraId:12,tocIndex:7},{value:"luban",paraId:12,tocIndex:7},{value:"61",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"97.68",paraId:12,tocIndex:7},{value:"63.32",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"69.46",paraId:12,tocIndex:7},{value:"Qwen-7b-chat",paraId:12,tocIndex:7},{value:"luban",paraId:12,tocIndex:7},{value:"50.58",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"98.07",paraId:12,tocIndex:7},{value:"52.51",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"63.59",paraId:12,tocIndex:7},{value:"Baichuan-7b-chat",paraId:12,tocIndex:7},{value:"luban",paraId:12,tocIndex:7},{value:"60.23",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"97.3",paraId:12,tocIndex:7},{value:"62.93",paraId:12,tocIndex:7},{value:"99.61",paraId:12,tocIndex:7},{value:"61.12",paraId:12,tocIndex:7},{value:"Internlm-chat-7b",paraId:12,tocIndex:7},{value:"luban",paraId:12,tocIndex:7},{value:"47.88",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"96.14",paraId:12,tocIndex:7},{value:"51.74",paraId:12,tocIndex:7},{value:"99.61",paraId:12,tocIndex:7},{value:"61.85",paraId:12,tocIndex:7},{value:"Qwen-14b-chat",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"98.37",paraId:12,tocIndex:7},{value:"99.73",paraId:12,tocIndex:7},{value:"99.86",paraId:12,tocIndex:7},{value:"98.78",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"81.58",paraId:12,tocIndex:7},{value:"Qwen-7b-chat",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"99.46",paraId:12,tocIndex:7},{value:"99.86",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"99.59",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"79.25",paraId:12,tocIndex:7},{value:"Baichuan-7b-chat",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"97.96",paraId:12,tocIndex:7},{value:"99.32",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"98.64",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"89.53",paraId:12,tocIndex:7},{value:"Internlm-chat-7b",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"94.29",paraId:12,tocIndex:7},{value:"95.78",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"98.5",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"88.19",paraId:12,tocIndex:7},{value:"CodeLLaMa-7b",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"98.78",paraId:12,tocIndex:7},{value:"99.73",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"99.05",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"94.7",paraId:12,tocIndex:7},{value:"CodeLLaMa-7b-16",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"98.1",paraId:12,tocIndex:7},{value:"99.87",paraId:12,tocIndex:7},{value:"99.73",paraId:12,tocIndex:7},{value:"98.5",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"93.14",paraId:12,tocIndex:7},{value:"CodeFuse-7b-4k",paraId:12,tocIndex:7},{value:"fc_data",paraId:12,tocIndex:7},{value:"98.91",paraId:12,tocIndex:7},{value:"99.87",paraId:12,tocIndex:7},{value:"99.87",paraId:12,tocIndex:7},{value:"99.18",paraId:12,tocIndex:7},{value:"100",paraId:12,tocIndex:7},{value:"89.5",paraId:12,tocIndex:7}]},66834:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u65B9\u6CD5\u4E00\uFF1A\u4E0B\u8F7D zip \u538B\u7F29\u6587\u4EF6\uFF08\u4F60\u4E5F\u53EF\u4EE5\u76F4\u63A5\u7528\u6D4F\u89C8\u5668\u6253\u5F00\u4E0B\u9762\u7684\u94FE\u63A5\uFF09\uFF1A",paraId:0,tocIndex:1},{value:`wget https://huggingface.co/datasets/codefuse-admin/devopseval-exam/resolve/main/devopseval-exam.zip
`,paraId:1,tocIndex:1},{value:"\u7136\u540E\u53EF\u4EE5\u4F7F\u7528 pandas \u52A0\u8F7D\u6570\u636E\uFF1A",paraId:2,tocIndex:1},{value:`import os
import pandas as pd

File_Dir="devopseval-exam"
test_df=pd.read_csv(os.path.join(File_Dir,"test","UnitTesting.csv"))
`,paraId:3,tocIndex:1},{value:"\u65B9\u6CD5\u4E8C\uFF1A\u4F7F\u7528",paraId:4,tocIndex:1},{value:"Hugging Face datasets",paraId:4,tocIndex:1},{value:"\u76F4\u63A5\u52A0\u8F7D\u6570\u636E\u96C6\u3002\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:4,tocIndex:1},{value:`from datasets import load_dataset
dataset=load_dataset(r"DevOps-Eval/devopseval-exam",name="UnitTesting")

print(dataset['val'][0])
# {"id": 1, "question": "\u5355\u5143\u6D4B\u8BD5\u5E94\u8BE5\u8986\u76D6\u4EE5\u4E0B\u54EA\u4E9B\u65B9\u9762\uFF1F", "A": "\u6B63\u5E38\u8DEF\u5F84", "B": "\u5F02\u5E38\u8DEF\u5F84", "C": "\u8FB9\u754C\u503C\u6761\u4EF6"\uFF0C"D": \u6240\u6709\u4EE5\u4E0A\uFF0C"answer": "D", "explanation": ""}  \`\`\`

`,paraId:5,tocIndex:1},{value:"\u65B9\u6CD5\u4E09\uFF1A\u4F7F\u7528",paraId:6,tocIndex:1},{value:"modelscope",paraId:6,tocIndex:1},{value:"\u4E0B\u8F7D\u76F8\u5173\u6240\u6709\u6570\u636E\u3002\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:6,tocIndex:1},{value:"from modelscope.msdatasets import MsDataset\nMsDataset.clone_meta(dataset_work_dir='./xxx', dataset_id='codefuse-ai/devopseval-exam')```\n\n",paraId:7,tocIndex:1},{value:"\u4E3A\u4E86\u65B9\u4FBF\u4F7F\u7528\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u6574\u7406\u51FA\u4E86 55 \u4E2A\u7EC6\u5206\u7C7B\u522B\u4EE5\u53CA\u5B83\u4EEC\u7684\u4E2D\u82F1\u6587\u540D\u79F0\u3002\u5177\u4F53\u7EC6\u8282\u8BF7\u67E5\u770B ",paraId:8,tocIndex:2},{value:"category_mapping.json",paraId:9,tocIndex:2},{value:" \u3002\u683C\u5F0F\u5982\u4E0B\uFF1A",paraId:8,tocIndex:2},{value:`{
  "UnitTesting.csv": [
    "unit testing",
    "\u5355\u5143\u6D4B\u8BD5",
    {"dev": 5, "test": 32}
    "TEST"
  ],
  ...
  "file_name":[
  "\u82F1\u6587\u540D\u79F0",
  "\u4E2D\u6587\u540D\u79F0",
  "\u6837\u672C\u6570\u91CF",
  "\u7C7B\u522B(PLAN,CODE,BUILD,TEST,RELEASE,DEPOLY,OPERATE,MONITOR\u516B\u9009\u4E00)"
  ]
}
`,paraId:10,tocIndex:2},{value:"\u6BCF\u4E2A\u7EC6\u5206\u7C7B\u522B\u7531\u4E24\u4E2A\u90E8\u5206\u7EC4\u6210\uFF1Adev \u548C test\u3002\u6BCF\u4E2A\u7EC6\u5206\u7C7B\u522B\u7684 dev \u96C6\u5305\u542B\u4E94\u4E2A\u793A\u8303\u5B9E\u4F8B\u4EE5\u53CA\u4E3A few-shot \u8BC4\u4F30\u63D0\u4F9B\u7684\u89E3\u91CA\u3002\u800C test \u96C6\u5219\u7528\u4E8E\u6A21\u578B\u8BC4\u4F30\uFF0C\u5E76\u4E14 test \u6570\u636E\u5DF2\u5305\u542B\u51C6\u786E\u6807\u7B7E\u3002",paraId:11,tocIndex:2},{value:'\u4E0B\u9762\u662F dev \u6570\u636E\u7684\u793A\u4F8B\uFF0C\u6765\u81EA"\u7248\u672C\u63A7\u5236"\u7EC6\u5206\u7C7B\u522B\uFF1A',paraId:12,tocIndex:2},{value:`id: 4
question: \u5982\u4F55\u627E\u5230Git\u7279\u5B9A\u63D0\u4EA4\u4E2D\u5DF2\u66F4\u6539\u7684\u6587\u4EF6\u5217\u8868\uFF1F
A: \u4F7F\u7528\u547D\u4EE4 \`git diff --name-only SHA\`
B: \u4F7F\u7528\u547D\u4EE4 \`git log --name-only SHA\`
C: \u4F7F\u7528\u547D\u4EE4 \`git commit --name-only SHA\`
D: \u4F7F\u7528\u547D\u4EE4 \`git clone --name-only SHA\`
answer: A
explanation:
\u5206\u6790\u539F\u56E0\uFF1A
git diff --name-only SHA\u547D\u4EE4\u4F1A\u663E\u793A\u4E0ESHA\u53C2\u6570\u5BF9\u5E94\u7684\u63D0\u4EA4\u4E2D\u5DF2\u4FEE\u6539\u7684\u6587\u4EF6\u5217\u8868\u3002\u53C2\u6570--name-only\u8BA9\u547D\u4EE4\u53EA\u8F93\u51FA\u6587\u4EF6\u540D\uFF0C\u800C\u5FFD\u7565\u5176\u4ED6\u4FE1\u606F\u3002\u5176\u5B83\u9009\u9879\u4E2D\u7684\u547D\u4EE4\u5E76\u4E0D\u80FD\u5B9E\u73B0\u6B64\u529F\u80FD\u3002
`,paraId:13,tocIndex:2},{value:"\u{1F440} \u{1F440} \u6B64\u5904\u4EE5\u65E5\u5FD7\u89E3\u6790\u548C\u65F6\u5E8F\u5F02\u5E38\u68C0\u6D4B\u4E3A\u4F8B\uFF0C\u5BF9 AIOps \u6837\u672C\u505A\u4E00\u4E9B\u7B80\u8981\u7684\u5C55\u793A:",paraId:14,tocIndex:3},{value:"\u65E5\u5FD7\u89E3\u6790",paraId:15,tocIndex:3},{value:`id: 0
question:
\u4E0B\u9762\u662F\u4E00\u4E9B\u8FD0\u884C\u65E5\u5FD7
 0 04:21:15,429 WARN Cannot open channel to 2 at election address /10.10.34.12:3888
 1 19:18:56,377 WARN ******* GOODBYE /10.10.34.11:52703 ********
 2 19:13:46,128 WARN ******* GOODBYE /10.10.34.11:52308 ********
 3 19:16:26,268 WARN ******* GOODBYE /10.10.34.11:52502 ********
 4 09:11:16,012 WARN Cannot open channel to 3 at election address /10.10.34.13:3888
 5 16:37:13,837 WARN Cannot open channel to 2 at election address /10.10.34.12:3888
 6 09:09:16,008 WARN Cannot open channel to 3 at election address /10.10.34.13:3888
 7 15:27:03,681 WARN Cannot open channel to 3 at election address /10.10.34.13:3888
\u65E5\u5FD7\u6700\u524D\u9762\u4E09\u90E8\u5206\u522B\u4E3A\u5E8F\u53F7\u3001\u65F6\u95F4\u6233\u548C\u65E5\u5FD7Level\uFF0C\u5728\u4E0D\u8003\u8651\u8FD9\u4E09\u90E8\u5206\u5185\u5BB9\u7684\u60C5\u51B5\u4E0B\uFF0C\u6B64\u5904\u6211\u4EEC\u8BBE\u5B9A\u65E5\u5FD7\u7684\u53D8\u91CF\u7528'<*>'\u4EE3\u66FF\uFF0Ctoken\u4E0Etoken\u4E4B\u95F4\u7528\u7A7A\u683C\u5206\u9694\uFF0C\u90A3\u4E48\u8BF7\u95EE\u4E0A\u8FF0\u65E5\u5FD7\u7684\u65E5\u5FD7\u6A21\u7248\u5177\u4F53\u662F\u4EC0\u4E48\uFF1F
A: Notification time out: <*> \u548C Connection broken for id <*>, my id = <*>, error =
B: Send worker leaving thread \u548C Connection broken for id <*>, my id = <*>, error =
C: Received connection request /<*>:<*> \u548C Interrupting SendWorker
D: Cannot open channel to <*> at election address /<*>:<*> \u548C ******* GOODBYE /<*>:<*> ********
answer: D
explanation: \u6839\u636E\u65E5\u5FD7\u4E2D\u7684\u5185\u5BB9\uFF0C\u9009\u9879D\u662F\u6700\u7B26\u5408\u65E5\u5FD7\u6A21\u677F\u7684\u3002\u65E5\u5FD7\u4E2D\u5305\u542B\u4E86"Cannot open channel to &lt;*&gt; at election address /&lt;*&gt;:&lt;*&gt;"\u548C"******* GOODBYE /&lt;*&gt;:&lt;*&gt; ********"\u8FD9\u4E24\u4E2A\u56FA\u5B9A\u7684\u6A21\u677F\u7247\u6BB5\uFF0C\u5B83\u4EEC\u90FD\u5728\u9009\u9879D\u4E2D\u51FA\u73B0\u4E86\u3002\u540C\u65F6\uFF0C\u5176\u4ED6\u9009\u9879\u4E2D\u7684\u6A21\u677F\u7247\u6BB5\u4E0E\u65E5\u5FD7\u4E2D\u7684\u5185\u5BB9\u4E0D\u5339\u914D\u3002\u56E0\u6B64\uFF0C\u9009\u9879D\u662F\u6700\u7B26\u5408\u65E5\u5FD7\u6A21\u677F\u7684\u3002
`,paraId:16,tocIndex:3},{value:"\u65F6\u5E8F\u5F02\u5E38\u68C0\u6D4B",paraId:17,tocIndex:3},{value:`id: 0
question:
\u5206\u6790\u5982\u4E0B\u65F6\u95F4\u5E8F\u5217
[50,62,74,84,92,97,99,98,94,87,77,65,265,40,28,17,8,3,0,0,4,10,20,31,43,56,68,79,89,95,99,99,96,91,82,71,59,46,34,22,12,5,1,0,2,7,15,25,37,49]
\u8BF7\u627E\u51FA\u5176\u4E2D\u660E\u663E\u5F02\u5E38\u70B9\u7684\u4E0B\u6807\u3002\u6240\u8C13\u7684\u5F02\u5E38\u70B9\u4E00\u822C\u6307\u7684\u662F\u660E\u663E\u4E0E\u6570\u636E\u6574\u4F53\u8D8B\u52BF\u4E0D\u7B26\u7684\u70B9\u3002
A: 46
B: 0
C: 37
D: 12
answer: D
explanation: \u6839\u636E\u5206\u6790\uFF0C\u9898\u76EE\u4E2D\u7684\u65F6\u95F4\u5E8F\u5217\u572812\u70B9\u51FA\u7684\u503C265\u8981\u660E\u663E\u5927\u4E8E\u5468\u56F4\u6570\u636E\uFF0C\u5B58\u5728\u7740\u7A81\u589E\u73B0\u8C61\uFF0C\u56E0\u6B64\u9009\u62E9D\u662F\u6B63\u786E\u7684\u3002
`,paraId:18,tocIndex:3},{value:`\u5DE5\u5177\u5B66\u4E60\u6837\u672C\u7684\u6570\u636E\u683C\u5F0F\u4E0E OpenAI \u7684\u51FD\u6570\u8C03\u7528\u683C\u5F0F\u517C\u5BB9\u3002
\u8BE6\u60C5\u8BF7\u53C2\u9605`,paraId:19,tocIndex:4},{value:"tool_learning_info_zh.md",paraId:20,tocIndex:4},{value:`\u3002
\u5DE5\u5177\u5B66\u4E60\u8BC4\u6D4B\u8FC7\u7A0B\uFF0C\u8BE6\u60C5\u8BF7\u53C2\u9605\u89C1 `,paraId:19,tocIndex:4},{value:"tool_learning_evalution.md",paraId:21,tocIndex:4},{value:`\u3002
`,paraId:19,tocIndex:4}]},94917:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5982\u679C\u9700\u8981\u5728\u81EA\u5DF1\u7684 HuggingFace \u683C\u5F0F\u7684\u6A21\u578B\u4E0A\u8FDB\u884C\u6D4B\u8BD5\u7684\u8BDD\uFF0C\u603B\u7684\u6B65\u9AA4\u5206\u4E3A\u5982\u4E0B\u51E0\u6B65:",paraId:0,tocIndex:0},{value:"\u7F16\u5199 Model \u7684 loader \u51FD\u6570",paraId:1,tocIndex:0},{value:"\u7F16\u5199 Model \u7684 context_builder \u51FD\u6570",paraId:1,tocIndex:0},{value:"\u6CE8\u518C\u6A21\u578B\u5230\u914D\u7F6E\u6587\u4EF6\u4E2D",paraId:1,tocIndex:0},{value:`\u6267\u884C\u6D4B\u8BD5\u811A\u672C
\u5982\u679C\u6A21\u578B\u5728\u52A0\u8F7D\u8FDB\u6765\u540E\u4E0D\u9700\u8981\u7279\u6B8A\u7684\u5904\u7406\uFF0C\u800C\u4E14\u8F93\u5165\u4E5F\u4E0D\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u8BF7\u76F4\u63A5\u8DF3\u8F6C\u5230\u7B2C\u56DB\u6B65\u76F4\u63A5\u53D1\u8D77\u6D4B\u8BD5\u3002`,paraId:1,tocIndex:0},{value:"\u6A21\u578B\u52A0\u8F7D\u65F6\u8FD8\u9700\u8981\u505A\u4E00\u4E9B\u989D\u5916\u7684\u5904\u7406\uFF08e.g. tokenizer \u8C03\u6574\uFF09\uFF0C\u9700\u8981\u7EE7\u627F ",paraId:2,tocIndex:1},{value:"ModelAndTokenizerLoader",paraId:2,tocIndex:1},{value:" \u7C7B\u6765\u8986\u5199\u5BF9\u5E94\u7684 ",paraId:2,tocIndex:1},{value:"load_model",paraId:2,tocIndex:1},{value:" \u548C ",paraId:2,tocIndex:1},{value:"load_tokenizer",paraId:2,tocIndex:1},{value:" \u51FD\u6570\uFF0C \u5982\u4E0B\u6240\u793A\uFF1A",paraId:2,tocIndex:1},{value:`class QwenModelAndTokenizerLoader(ModelAndTokenizerLoader):
    def __init__(self):
        super().__init__()
        pass

    @override
    def load_model(self, model_path: str):
    # Implementation of the method
        pass

    @override
    def load_tokenizer(self, model_path: str):
    # Implementation of the method
        pass
`,paraId:3,tocIndex:1},{value:"\u5982\u679C\u8F93\u5165\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u5219\u9700\u8981\u7EE7\u627F ContextBuilder \u7C7B\u6765\u8986\u5199 make_context \u51FD\u6570\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A",paraId:4,tocIndex:2},{value:`class QwenChatContextBuilder(ContextBuilder):
    def __init__(self):
        super().__init__()

    @override
    def make_context(self, model, tokenizer, query: str, system: str = "hello\uFF01"):
    # Implementation of the method
        pass
`,paraId:5,tocIndex:2},{value:"\u53BB conf \u4E2D\u7684 ",paraId:6,tocIndex:3},{value:"model_conf.json",paraId:6,tocIndex:3},{value:"\uFF0C\u6CE8\u518C\u5BF9\u5E94\u7684\u6A21\u578B\u540D\u548C\u8FD9\u4E2A\u6A21\u578B\u5C06\u8981\u4F7F\u7528\u7684 loader \u548C context_builder\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:6,tocIndex:3},{value:`{
  "Qwen-Chat": {
    "loader": "QwenModelAndTokenizerLoader",
    "context_builder": "QwenChatContextBuilder"
  }
}
`,paraId:7,tocIndex:3},{value:"\u76F4\u63A5\u8FD0\u884C\u4EE5\u4E0B\u4EE3\u7801\u53D1\u8D77\u6D4B\u8BD5",paraId:8,tocIndex:4},{value:`python src/run_eval.py \\
--model_path path_to_model \\
--model_name model_name_in_conf \\
--model_conf_path path_to_model_conf \\
--eval_dataset_list all \\
--eval_dataset_fp_conf_path path_to_dataset_conf \\
--eval_dataset_type test \\
--data_path path_to_downloaded_devops_eval_data \\
--k_shot 0
`,paraId:9,tocIndex:4},{value:"\u{1F440} \u{1F440} \u5177\u4F53\u8BC4\u6D4B\u6D41\u7A0B\u89C1 \u{1F4D6} ",paraId:10,tocIndex:4},{value:"\u6570\u636E\u96C6\u8BC4\u6D4B\u6559\u7A0B",paraId:11,tocIndex:4}]},12337:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5982\u679C\u9700\u8981\u5728\u81EA\u5DF1\u7684 huggingface \u683C\u5F0F\u7684\u6A21\u578B\u4E0A\u8FDB\u884C\u6D4B\u8BD5\u7684\u8BDD\uFF0C\u603B\u7684\u6B65\u9AA4\u5206\u4E3A\u5982\u4E0B\u51E0\u6B65:",paraId:0,tocIndex:1},{value:"\u7F16\u5199 ~/evals/FuncCallEvalution \u7684 create_prompts \u51FD\u6570",paraId:1,tocIndex:1},{value:"\u7F16\u5199 ~/models/base_model \u7684 \u76F8\u5173\u51FD\u6570",paraId:1,tocIndex:1},{value:"\u6CE8\u518C\u6A21\u578B\u548C\u8BC4\u4F30\u51FD\u6570",paraId:1,tocIndex:1},{value:`\u6267\u884C\u6D4B\u8BD5\u811A\u672C
\u5982\u679C\u6A21\u578B\u5728\u52A0\u8F7D\u8FDB\u6765\u540E\u4E0D\u9700\u8981\u7279\u6B8A\u7684\u5904\u7406\uFF0C\u800C\u4E14\u8F93\u5165\u4E5F\u4E0D\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u8BF7\u76F4\u63A5\u8DF3\u8F6C\u5230\u7B2C\u56DB\u6B65\u76F4\u63A5\u53D1\u8D77\u6D4B\u8BD5\u3002`,paraId:1,tocIndex:1},{value:"\u5982\u679C\u6A21\u578B\u5728\u52A0\u8F7D\u8FDB\u6765\u8FD8\u9700\u8981\u505A\u4E00\u4E9B\u989D\u5916\u7684\u5904\u7406\uFF08e.g. tokenizer \u8C03\u6574\uFF09\uFF0C\u9700\u8981\u53BB ",paraId:2,tocIndex:2},{value:"src.context_builder.context_builder_family.py",paraId:2,tocIndex:2},{value:" \u4E2D\u7EE7\u627F ",paraId:2,tocIndex:2},{value:"ModelAndTokenizerLoader",paraId:2,tocIndex:2},{value:" \u7C7B\u6765\u8986\u5199\u5BF9\u5E94\u7684 ",paraId:2,tocIndex:2},{value:"load_model",paraId:2,tocIndex:2},{value:" \u548C ",paraId:2,tocIndex:2},{value:"load_tokenizer",paraId:2,tocIndex:2},{value:" \u51FD\u6570\uFF0C\u5177\u4F53\u53EF\u4EE5\u53C2\u7167\u4EE5\u4E0B\u793A\u4F8B\uFF1A",paraId:2,tocIndex:2},{value:`class FuncCallEvalution(ToolEvalution):

    def create_prompts(self, func_call_datas):
        '''
        datas: [
            {
                "instruction": history[his_idx],
                "input": "",
                "output": output,
                "history": [(human_content, ai_content), (), ()],
                "functions": tools
            }
        ]
        '''
        system_content = '''CodeFuse\u662F\u4E00\u4E2A\u9762\u5411\u7814\u53D1\u9886\u57DF\u7684\u667A\u80FD\u52A9\u624B\uFF0C\u65E8\u5728\u4E2D\u7ACB\u7684\u3001\u65E0\u5BB3\u7684\u5E2E\u52A9\u7528\u6237\u89E3\u51B3\u5F00\u53D1\u76F8\u5173\u7684\u95EE\u9898\uFF0C\u6240\u6709\u7684\u56DE\u7B54\u5747\u4F7F\u7528Markdown\u683C\u5F0F\u8FD4\u56DE\u3002
        \u4F60\u80FD\u5229\u7528\u8BB8\u591A\u5DE5\u5177\u548C\u529F\u80FD\u6765\u5B8C\u6210\u7ED9\u5B9A\u7684\u4EFB\u52A1\uFF0C\u5728\u6BCF\u4E00\u6B65\u4E2D\uFF0C\u4F60\u9700\u8981\u5206\u6790\u5F53\u524D\u72B6\u6001\uFF0C\u5E76\u901A\u8FC7\u6267\u884C\u51FD\u6570\u8C03\u7528\u6765\u786E\u5B9A\u4E0B\u4E00\u6B65\u7684\u884C\u52A8\u65B9\u5411\u3002\u4F60\u53EF\u4EE5\u8FDB\u884C\u591A\u6B21\u5C1D\u8BD5\u3002\u5982\u679C\u4F60\u8BA1\u5212\u8FDE\u7EED\u5C1D\u8BD5\u4E0D\u540C\u7684\u6761\u4EF6\uFF0C\u8BF7\u6BCF\u6B21\u5C1D\u8BD5\u4E00\u79CD\u6761\u4EF6\u3002\u82E5\u7ED9\u5B9A\u4E86Finish\u51FD\u6570,\u5219\u4EE5Finish\u8C03\u7528\u7ED3\u675F\uFF0C\u82E5\u6CA1\u63D0\u4F9BFinish\u51FD\u6570\uFF0C\u5219\u4EE5\u4E0D\u5E26function_call\u7684\u5BF9\u8BDD\u7ED3\u675F\u3002'''
        function_format = '''You are ToolGPT, you have access to the following APIs:\\n{tools}'''

        func_call_train_datas = []
        history_error_cnt = 0
        funccall_error_cnt = 0

        for data in func_call_datas:
            tools = data["functions"]
            chatrounds = data["chatrounds"]

            function_content = ""
            if len(tools) > 0:
                function_content = function_format.format(tools=json.dumps(tools, ensure_ascii=False, sort_keys=True))

            history = []
            for i in chatrounds:
                if i["role"]=="system":
                    continue

                if i["role"]=="user":
                    history.append(("user", i["content"]))

                if i["role"] == "assistant":
                    if "function_call" in i:
                        if not isinstance(i["function_call"], dict):
                            funccall_error_cnt+=1
                            continue
                        content  = "#function" + json.dumps({**{"content": i["content"]}, **i["function_call"]}, ensure_ascii=False)
                    else:
                        content = i["content"]
                    history.append(("assistant", content))


                if i["role"] == "function":
                    content  = json.dumps({**{"content": i["content"]}, **{"name": i["name"]}}, ensure_ascii=False)
                    history.append(("user", content))


            history = [i[1] for i in history]
            history[0] = "\\n".join([system_content,function_content, history[0]])

            for his_idx in range(0, len(history), 2):
                output = history[his_idx+1]

                if "#function" in output:
                    output = output.split("#function")[-1]

                try:
                    output = json.loads(output)
                except:
                    output = {"content": output}


                func_call_train_datas.append(
                    {
                        "instruction": history[his_idx],
                        "input": "",
                        "output": output,
                        "history": [history[:his_idx+2][i:i+2] for i in range(0, len(history[:his_idx]), 2)],
                        "functions": tools
                    },
                )
        return func_call_train_datas
`,paraId:3,tocIndex:2},{value:"\u5982\u679C\u8F93\u5165\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u5219\u9700\u8981\u53BB ",paraId:4,tocIndex:3},{value:"src.context_builder.context_builder_family",paraId:4,tocIndex:3},{value:" \u4E2D\u7EE7\u627F ContextBuilder \u7C7B\u6765\u8986\u5199 make_context \u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u662F\u7528\u6765\u5C06\u8F93\u5165\u8F6C\u6362\u683C\u5F0F\u4E3A\u5BF9\u5E94\u9700\u8981\u7684\u8F93\u51FA\u7684\uFF0C\u4E00\u4E2A\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:4,tocIndex:3},{value:`class ToolModel:
    def __init__(self, model_path: str, template: str, trust_remote_code=True, tensor_parallel_size=1, gpu_memory_utilization=0.25):
        self.model_path = model_path
        self.trust_remote_code = trust_remote_code
        self.tensor_parallel_size = tensor_parallel_size
        self.gpu_memory_utilization = gpu_memory_utilization
        self.load_model(self.model_path, self.trust_remote_code, self.tensor_parallel_size, self.gpu_memory_utilization)

    def generate(self, prompts: str, template: str = None, generate_configs: GenerateConfigs = None) -> list:
        '''\u4EA7\u51FA\u5BF9\u5E94\u7ED3\u679C'''
        pass

    def generate_params(
        self, generate_configs: GenerateConfigs,
    ):
        '''generate param'''
        kargs = generate_configs.dict()
        return kargs

    def load_model(self, model_path, trust_remote_code=True, tensor_parallel_size=1, gpu_memory_utilization=0.25):
        '''\u52A0\u8F7D\u6A21\u578B'''
        self.tokenizer = AutoTokenizer.from_pretrained(self.model_path, trust_remote_code=trust_remote_code)
        self.model = AutoModelForCausalLM.from_pretrained(self.model_path, device_map="auto", trust_remote_code=trust_remote_code).eval()

        # self.model = LLM(model=model_path, trust_remote_code=trust_remote_code, tensor_parallel_size=tensor_parallel_size, gpu_memory_utilization=gpu_memory_utilization)
`,paraId:5,tocIndex:3},{value:"\u5728 ~/models/",paraId:6,tocIndex:4},{value:"init",paraId:6,tocIndex:4},{value:".py \u4E2D\u6CE8\u518C\u5373\u53EF",paraId:6,tocIndex:4},{value:`from .base_model import ToolModel

__all__ = [
    "ToolModel",
]
`,paraId:7,tocIndex:4},{value:"\u5728 ~/evasl/",paraId:8,tocIndex:4},{value:"init",paraId:8,tocIndex:4},{value:".py \u4E2D\u6CE8\u518C\u5373\u53EF",paraId:8,tocIndex:4},{value:`from .base_evalution import ToolEvalution
from .toolfill_evalution import ToolFillEvalution
from .toolparser_evalution import ToolParserEvalution
from .toolsummary_evalution import ToolSummaryEvalution
from .func_call_evalution import FuncCallEvalution


__all__ = [
    "ToolEvalution", "ToolFillEvalution", "ToolParserEvalution", "ToolSummaryEvalution", "FuncCallEvalution"
]
`,paraId:9,tocIndex:4},{value:"\u4FEE\u6539 ~/src/qwen_eval_main.py# datainfos \u548C model_infos",paraId:10,tocIndex:5},{value:`model_infos = [
    {"model_name": "", "template": "chatml", "model_path": "",
     "peft_path": "", "model_class": QwenModel}]

datainfos = [
    {"dataset_path": "~/fcdata_luban_zh_test.jsonl", "dataset_name": "fcdata_luban_zh", "tool_task": "func_call"},
    {"dataset_path": "~/test_datas/fcdata_zh_test_v1.jsonl", "dataset_name": "fcdata_zh", "tool_task": "func_call"},
]
`,paraId:11,tocIndex:5},{value:"\u8FD0\u884C\u4E0B\u8FF0\u547D\u4EE4\u5373\u53EF",paraId:12,tocIndex:5},{value:`python qwen_eval_main.py
`,paraId:13,tocIndex:5},{value:"\u5982\u679C\u9700\u8981\u5728\u81EA\u5DF1\u7684 huggingface \u683C\u5F0F\u7684\u6A21\u578B\u4E0A\u8FDB\u884C\u6D4B\u8BD5\u7684\u8BDD\uFF0C\u603B\u7684\u6B65\u9AA4\u5206\u4E3A\u5982\u4E0B\u51E0\u6B65:",paraId:14,tocIndex:6},{value:"\u7F16\u5199 ~/getAssistantAns.py \u76F8\u5173\u4EE3\u7801",paraId:15,tocIndex:6},{value:"\u6267\u884C\u6D4B\u8BD5\u811A\u672C",paraId:15,tocIndex:6},{value:`class GetAssistantAns():
    # \u6309\u7167\u81EA\u5DF1\u63A8\u7406\u9700\u6C42\u81EA\u5DF1\u4FEE\u6539\u4EE3\u7801

    def __init__(self, gpu_num=1):
        model = AutoModelForCausalLM.from_pretrained(model_name)
        device_list = []
        for gpu_idx in range(gpu_num):
            device_list.append(torch.device("cuda:0"))

        # \u5C06\u6A21\u578B\u79FB\u52A8\u5230\u6307\u5B9A\u7684GPU\u8BBE\u5907
        model.to(device)


    def gen_answer(self, chat_dict, gpu_index):
        # \u8FD9\u91CC\u5B9E\u9645\u6839\u636E\u81EA\u5DF1\u63A8\u7406\u903B\u8F91 \u7136\u540E\u8F6C\u4E3A\u6807\u51C6\u683C\u5F0F\u8FD4\u56DE
        # \u4EE5\u4E0B\u4EC5\u4EC5\u662F\u6837\u4F8B
        import time
        print(os.environ["CUDA_VISIBLE_DEVICES"])
        time.sleep(1)
        rtn_dict1 = {
                "role": "assistant",
                "content": None,
                "function_call":
                {
                    "name": "get_fudan_university_scoreline",
                    "arguments": "{\\n  \\"year\\": \\"2020\\"\\n}"
                }
            }

        rtn_dict2 =  {
                "role": "assistant",
                "content": "2020\u5E74\u590D\u65E6\u5927\u5B66\u7684\u5206\u6570\u7EBF\u5982\u4E0B\uFF1A\\n\\n- \u6587\u79D1\u4E00\u6279\uFF1A630\u5206\\n- \u6587\u79D1\u4E8C\u6279\uFF1A610\u5206\\n- \u7406\u79D1\u4E00\u6279\uFF1A650\u5206\\n- \u7406\u79D1\u4E8C\u6279\uFF1A630\u5206"
            }

        return random.choice([rtn_dict1, rtn_dict2])
`,paraId:16,tocIndex:7},{value:"\u4FEE\u6539 ~/src/opensource_functioncall_evalution.py # test_ans_file_list",paraId:17,tocIndex:8},{value:`test_ans_file_list = [
        "fcdata_zh_test.jsonl"
        ]
`,paraId:18,tocIndex:8},{value:"\u8FD0\u884C\u4E0B\u8FF0\u547D\u4EE4\u5373\u53EF",paraId:19,tocIndex:8},{value:`python opensource_functioncall_evalution.py
`,paraId:20,tocIndex:8}]},59319:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5728\u6570\u636E\u4E0A\u6211\u4EEC\u5B8C\u5168\u517C\u5BB9\u4E86 OpenAI Function Calling\uFF0C\u5177\u4F53\u683C\u5F0F\u5982\u4E0B\uFF1A",paraId:0,tocIndex:0},{value:"Function Call \u7684\u6570\u636E\u683C\u5F0F",paraId:1,tocIndex:0},{value:"Input Key",paraId:2,tocIndex:0},{value:"Input Type",paraId:2,tocIndex:0},{value:"Input Description",paraId:2,tocIndex:0},{value:"functions",paraId:2,tocIndex:0},{value:"List[Swagger]",paraId:2,tocIndex:0},{value:"\u5DE5\u5177\u96C6\u5408",paraId:2,tocIndex:0},{value:"chatrounds",paraId:2,tocIndex:0},{value:"List[chatround]",paraId:2,tocIndex:0},{value:"\u591A\u8F6E\u5BF9\u8BDD\u6570\u636E",paraId:2,tocIndex:0},{value:"chatrounds \u7684\u6570\u636E\u683C\u5F0F",paraId:3,tocIndex:0},{value:"Input Key",paraId:4,tocIndex:0},{value:"Input Type",paraId:4,tocIndex:0},{value:"Input Description",paraId:4,tocIndex:0},{value:"role",paraId:4,tocIndex:0},{value:"string",paraId:4,tocIndex:0},{value:"\u89D2\u8272\u540D\u79F0\uFF0C\u5305\u542B\u4E09\u79CD\u7C7B\u522B\uFF0Cuser\u3001assistant\u3001function",paraId:4,tocIndex:0},{value:"name",paraId:4,tocIndex:0},{value:"string",paraId:4,tocIndex:0},{value:"\u82E5 role \u4E3A function\uFF0C\u5219\u5B58\u5728 name \u5B57\u6BB5\uFF0C\u4E3A function \u7684\u540D\u79F0",paraId:4,tocIndex:0},{value:"content",paraId:4,tocIndex:0},{value:"string",paraId:4,tocIndex:0},{value:"role \u7684\u8FD4\u56DE\u5185\u5BB9",paraId:4,tocIndex:0},{value:"function_call",paraId:4,tocIndex:0},{value:"dict",paraId:4,tocIndex:0},{value:"\u5DE5\u5177\u8C03\u7528",paraId:4,tocIndex:0},{value:`{
    "functions":
    [
        {
            "name": "get_fudan_university_scoreline",
            "description": "\u67E5\u8BE2\u590D\u65E6\u5927\u5B66\u5F80\u5E74\u5206\u6570\u7EBF\uFF0C\u4F8B\u5982\uFF1A\u67E5\u8BE22020\u5E74\u590D\u65E6\u5927\u5B66\u7684\u5206\u6570\u7EBF",
            "parameters":
            {
                "type": "object",
                "properties":
                {
                    "year":
                    {
                        "type": "string",
                        "description": "\u5E74\u4EFD\uFF0C\u4F8B\u5982\uFF1A2020\uFF0C2019\uFF0C2018"
                    }
                },
                "required":
                [
                    "year"
                ]
            }
        }
    ],
    "chatrounds":
    [
        {
            "role": "system",
            "content": "CodeFuse\u662F\u4E00\u4E2A\u9762\u5411\u7814\u53D1\u9886\u57DF\u7684\u667A\u80FD\u52A9\u624B\uFF0C\u65E8\u5728\u4E2D\u7ACB\u7684\u3001\u65E0\u5BB3\u7684\u5E2E\u52A9\u7528\u6237\u89E3\u51B3\u5F00\u53D1\u76F8\u5173\u7684\u95EE\u9898\uFF0C\u6240\u6709\u7684\u56DE\u7B54\u5747\u4F7F\u7528Markdown\u683C\u5F0F\u8FD4\u56DE\u3002\\n\u4F60\u80FD\u5229\u7528\u8BB8\u591A\u5DE5\u5177\u548C\u529F\u80FD\u6765\u5B8C\u6210\u7ED9\u5B9A\u7684\u4EFB\u52A1\uFF0C\u5728\u6BCF\u4E00\u6B65\u4E2D\uFF0C\u4F60\u9700\u8981\u5206\u6790\u5F53\u524D\u72B6\u6001\uFF0C\u5E76\u901A\u8FC7\u6267\u884C\u51FD\u6570\u8C03\u7528\u6765\u786E\u5B9A\u4E0B\u4E00\u6B65\u7684\u884C\u52A8\u65B9\u5411\u3002\u4F60\u53EF\u4EE5\u8FDB\u884C\u591A\u6B21\u5C1D\u8BD5\u3002\u5982\u679C\u4F60\u8BA1\u5212\u8FDE\u7EED\u5C1D\u8BD5\u4E0D\u540C\u7684\u6761\u4EF6\uFF0C\u8BF7\u6BCF\u6B21\u5C1D\u8BD5\u4E00\u79CD\u6761\u4EF6\u3002\u82E5\u7ED9\u5B9A\u4E86Finish\u51FD\u6570,\u5219\u4EE5Finish\u8C03\u7528\u7ED3\u675F\uFF0C\u82E5\u6CA1\u63D0\u4F9BFinish\u51FD\u6570\uFF0C\u5219\u4EE5\u4E0D\u5E26function_call\u7684\u5BF9\u8BDD\u7ED3\u675F\u3002"
        },
        {
            "role": "user",
            "content": "\u67E5\u8BE22020\u5E74\u590D\u65E6\u5927\u5B66\u7684\u5206\u6570\u7EBF"
        },
        {
            "role": "assistant",
            "content": null,
            "function_call":
            {
                "name": "get_fudan_university_scoreline",
                "arguments": "{\\n  \\"year\\": \\"2020\\"\\n}"
            }
        },
        {
            "role": "function",
            "name": "get_fudan_university_scoreline",
            "content": "{\\n    \\"scoreline\\":{\\n        \\"\u6587\u79D1\u4E00\u6279\\": 630,    \\n        \\"\u6587\u79D1\u4E8C\u6279\\": 610,  \\n        \\"\u7406\u79D1\u4E00\u6279\\": 650,  \\n        \\"\u7406\u79D1\u4E8C\u6279\\": 630  \\n    }\\n}"
        },
        {
            "role": "assistant",
            "content": "2020\u5E74\u590D\u65E6\u5927\u5B66\u7684\u5206\u6570\u7EBF\u5982\u4E0B\uFF1A\\n\\n- \u6587\u79D1\u4E00\u6279\uFF1A630\u5206\\n- \u6587\u79D1\u4E8C\u6279\uFF1A610\u5206\\n- \u7406\u79D1\u4E00\u6279\uFF1A650\u5206\\n- \u7406\u79D1\u4E8C\u6279\uFF1A630\u5206"
        }
    ]
}
`,paraId:5,tocIndex:0},{value:"\u4E0A\u8FF0 Function Call \u7684\u6570\u636E\u6837\u4F8B\u4E3A\u7ED9\u5B9A\u7279\u5B9A\u5DE5\u5177\u96C6\u540E\uFF0C\u7528\u4E8E\u56DE\u7B54\u7528\u6237\u67E5\u8BE2\u67D0\u9AD8\u6821\u5F55\u53D6\u5206\u6570\u7EBF\u7684\u95EE\u9898\u3002",paraId:6,tocIndex:0},{value:"\u7531\u4E8E\u4E00\u822C\u901A\u7528\u6A21\u578B\u65E0\u6CD5\u5177\u5907\u5DE5\u5177\u8C03\u7528\u7684\u80FD\u529B\uFF0C\u56E0\u6B64\u5728\u8FDB\u884C Tool Learn-Eval \u8BC4\u6D4B\u4E4B\u524D\u9700\u8981\u5BF9\u901A\u7528\u6A21\u578B\u8FDB\u884C\u5FAE\u8C03\uFF0C\u5148\u8BA9\u6A21\u578B\u5B66\u4F1A\u5DE5\u5177\u4F7F\u7528\u7684\u57FA\u672C\u8303\u5F0F",paraId:7,tocIndex:1},{value:"\u4E0B\u9762\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E86\u51E0\u79CD\u8BC4\u4F30\u5DE5\u5177\u4F7F\u7528\u7684\u6307\u6807\uFF1A",paraId:8,tocIndex:1},{value:"\u2461\u2462\u2463\u2464 \u7684\u548C\u4E3A 1\uFF0C\u4EE3\u8868\u5DE5\u5177\u8C03\u7528\u5931\u8D25\u7684\u603B\u6570\uFF0C\u2464 \u5DE5\u5177\u5E7B\u89C9\u662F\u5DE5\u5177\u540D\u8BC6\u522B\u5931\u8D25\u7684\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5",paraId:9,tocIndex:1}]},25539:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5982\u679C\u9700\u8981\u5728\u81EA\u5DF1\u7684 huggingface \u683C\u5F0F\u7684\u6A21\u578B\u4E0A\u8FDB\u884C\u6D4B\u8BD5\u7684\u8BDD\uFF0C\u603B\u7684\u6B65\u9AA4\u5206\u4E3A\u5982\u4E0B\u51E0\u6B65:",paraId:0,tocIndex:1},{value:"\u7F16\u5199 Model \u7684 loader \u51FD\u6570",paraId:1,tocIndex:1},{value:"\u7F16\u5199 Model \u7684 context_builder \u51FD\u6570",paraId:1,tocIndex:1},{value:"\u6CE8\u518C\u6A21\u578B\u5230\u914D\u7F6E\u6587\u4EF6\u4E2D",paraId:1,tocIndex:1},{value:`\u6267\u884C\u6D4B\u8BD5\u811A\u672C
\u5982\u679C\u6A21\u578B\u5728\u52A0\u8F7D\u8FDB\u6765\u540E\u4E0D\u9700\u8981\u7279\u6B8A\u7684\u5904\u7406\uFF0C\u800C\u4E14\u8F93\u5165\u4E5F\u4E0D\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u8BF7\u76F4\u63A5\u8DF3\u8F6C\u5230\u7B2C\u56DB\u6B65\u76F4\u63A5\u53D1\u8D77\u6D4B\u8BD5\u3002`,paraId:1,tocIndex:1},{value:"\u5982\u679C\u6A21\u578B\u5728\u52A0\u8F7D\u8FDB\u6765\u8FD8\u9700\u8981\u505A\u4E00\u4E9B\u989D\u5916\u7684\u5904\u7406\uFF08e.g. tokenizer \u8C03\u6574\uFF09\uFF0C\u9700\u8981\u53BB ",paraId:2,tocIndex:2},{value:"src.context_builder.context_builder_family.py",paraId:2,tocIndex:2},{value:" \u4E2D\u7EE7\u627F ",paraId:2,tocIndex:2},{value:"ModelAndTokenizerLoader",paraId:2,tocIndex:2},{value:" \u7C7B\u6765\u8986\u5199\u5BF9\u5E94\u7684 ",paraId:2,tocIndex:2},{value:"load_model",paraId:2,tocIndex:2},{value:" \u548C ",paraId:2,tocIndex:2},{value:"load_tokenizer",paraId:2,tocIndex:2},{value:" \u51FD\u6570\uFF0C\u5177\u4F53\u53EF\u4EE5\u53C2\u7167\u4EE5\u4E0B\u793A\u4F8B\uFF1A",paraId:2,tocIndex:2},{value:`class QwenModelAndTokenizerLoader(ModelAndTokenizerLoader):
    def __init__(self):
        super().__init__()
        pass

    def load_model(self, model_path: str):
        model = super().load_model(model_path)
        model.generation_config = GenerationConfig.from_pretrained(model_path)
        return model

    def load_tokenizer(self, model_path: str):
        tokenizer = super().load_tokenizer(model_path)

        # read generation config
        with open(model_path + '/generation_config.json', 'r') as f:
        generation_config = json.load(f)
        tokenizer.pad_token_id = generation_config['pad_token_id']
        tokenizer.eos_token_id = generation_config['eos_token_id']
        return tokenizer
`,paraId:3,tocIndex:2},{value:"\u5982\u679C\u8F93\u5165\u9700\u8981\u8F6C\u6362\u4E3A\u7279\u5B9A\u7684\u683C\u5F0F\uFF08e.g. chatml \u683C\u5F0F\u6216\u8005\u5176\u4ED6\u7684 human-bot \u683C\u5F0F\uFF09\uFF0C\u5219\u9700\u8981\u53BB ",paraId:4,tocIndex:3},{value:"src.context_builder.context_builder_family",paraId:4,tocIndex:3},{value:" \u4E2D\u7EE7\u627F ContextBuilder \u7C7B\u6765\u8986\u5199 make_context \u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u662F\u7528\u6765\u5C06\u8F93\u5165\u8F6C\u6362\u683C\u5F0F\u4E3A\u5BF9\u5E94\u9700\u8981\u7684\u8F93\u51FA\u7684\uFF0C\u4E00\u4E2A\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:4,tocIndex:3},{value:`class QwenChatContextBuilder(ContextBuilder):
    def __init__(self):
        super().__init__()

    def make_context(
        self,
        model,
        tokenizer,
        query: str,
        system: str = "you are a helpful assistant"
    ):
      '''
  model: PretrainedModel
  tokenizer: PretrainedTokenzier
  query: Input string
  system: System prompt if needed
  '''
        im_start, im_end = "<|im_start|>", "<|im_end|>"
        im_start_tokens = [tokenizer.im_start_id]
        im_end_tokens = [tokenizer.im_end_id]
        nl_tokens = tokenizer.encode("\\n")

        def _tokenize_str(role, content):
            return f"{role}\\n{content}", tokenizer.encode(
                role, allowed_special=set()
            ) + nl_tokens + tokenizer.encode(content, allowed_special=set())

        system_text, system_tokens_part = _tokenize_str("system", system)
        system_tokens = im_start_tokens + system_tokens_part + im_end_tokens

        raw_text = ""
        context_tokens = []

        context_tokens = system_tokens + context_tokens
        raw_text = f"{im_start}{system_text}{im_end}" + raw_text
        context_tokens += (
            nl_tokens
            + im_start_tokens
            + _tokenize_str("user", query)[1]
            + im_end_tokens
            + nl_tokens
            + im_start_tokens
            + tokenizer.encode("assistant")
            + nl_tokens
        )
        raw_text += f"\\n{im_start}user\\n{query}{im_end}\\n{im_start}assistant\\n"
        return raw_text, context_tokens
`,paraId:5,tocIndex:3},{value:"\u53BB conf \u4E2D\u7684 ",paraId:6,tocIndex:4},{value:"model_conf.json",paraId:6,tocIndex:4},{value:"\uFF0C\u6CE8\u518C\u5BF9\u5E94\u7684\u6A21\u578B\u540D\u548C\u8FD9\u4E2A\u6A21\u578B\u5C06\u8981\u4F7F\u7528\u7684 loader \u548C context_builder\uFF0C\u5176\u4E2D loader \u548C context_builder \u5199\u7B2C\u4E00\u6B65\u548C\u7B2C\u4E8C\u6B65\u4E2D\u81EA\u5B9A\u4E49\u7684\u7C7B\u540D\u5C31\u53EF\u4EE5\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A",paraId:6,tocIndex:4},{value:`{
  "Qwen-Chat": {
    "loader": "QwenModelAndTokenizerLoader",
    "context_builder": "QwenChatContextBuilder"
  }
}
`,paraId:7,tocIndex:4},{value:"\u76F4\u63A5\u8FD0\u884C\u4EE5\u4E0B\u4EE3\u7801\u53D1\u8D77\u6D4B\u8BD5",paraId:8,tocIndex:5},{value:`# model_path: \u8981\u6D4B\u8BD5\u7684\u6A21\u578B\u8DEF\u5F84
# model_name: \u6A21\u578B\u914D\u7F6E\u6587\u4EF6\u5BF9\u5E94\u7684\u6A21\u578B\u547D\u540D\uFF0C\u9ED8\u8BA4\u4E3A Default \uFF0C\u4EE3\u8868\u8D70\u9ED8\u8BA4\u7684 loader \u548C context_builder
# model_conf_path: \u6A21\u578B\u914D\u7F6E\u6587\u4EF6\u7684\u5730\u5740\uFF0C\u4E00\u822C\u5C31\u4E3A conf \u8DEF\u5F84\u4E0B\u7684 devopseval_dataset_fp.json
# eval_dataset_list: \u8981\u6D4B\u8BD5\u7684\u6570\u636E\u96C6\u540D\u79F0\uFF0C\u9ED8\u8BA4 all\uFF0C\u5168\u90E8\u6D4B\u8BD5\uFF0C\u5982\u679C\u9700\u8981\u6D4B\u8BD5\u5355\u4E2A\u6216\u8005\u591A\u4E2A\uFF0C\u7528 # \u7B26\u53F7\u94FE\u63A5\uFF0C\u793A\u4F8B\uFF1Adataset1#dataset2
# eval_dataset_fp_conf_path: \u6570\u636E\u96C6\u914D\u7F6E\u5730\u5740
# eval_dataset_type: \u6D4B\u8BD5\u54EA\u79CD\u7C7B\u578B\uFF0C\u53EA\u652F\u6301\u9ED8\u8BA4 test \u7C7B\u578B\u7684\u6D4B\u8BD5\u96C6
# data_path: \u8BC4\u6D4B\u6570\u636E\u96C6\u5730\u5740\uFF0C\u586B\u5199\u4E0B\u8F7D\u6570\u636E\u96C6\u540E\u7684\u5730\u5740\u5C31\u53EF\u4EE5
# k_shot: \u652F\u6301 0-5\uFF0C\u4EE3\u8868 few-shot \u4F1A\u7ED9\u6A21\u578B\u524D\u7F00\u52A0\u7684\u793A\u4F8B\u6570\u91CF


python src/run_eval.py \\
--model_path path_to_model \\
--model_name model_name_in_conf \\
--model_conf_path path_to_model_conf \\
--eval_dataset_list all \\
--eval_dataset_fp_conf_path path_to_dataset_conf \\
--eval_dataset_type test \\
--data_path path_to_downloaded_devops_eval_data \\
--k_shot 0
`,paraId:9,tocIndex:5},{value:"\u4E3E\u4E2A \u{1F330}\uFF1A\u6BD4\u5982\u8BC4\u6D4B\u6570\u636E\u96C6\u4E0B\u8F7D\u5230\u4E86 ",paraId:10,tocIndex:5},{value:"folder1",paraId:10,tocIndex:5},{value:"\uFF0C\u4EE3\u7801\u653E\u5728\u4E86 ",paraId:10,tocIndex:5},{value:"folder2",paraId:10,tocIndex:5},{value:"\uFF0C\u6A21\u578B\u5728 ",paraId:10,tocIndex:5},{value:"folder3",paraId:10,tocIndex:5},{value:"\uFF0C\u6A21\u578B\u4E0D\u9700\u8981\u81EA\u5B9A\u4E49 loader \u548C context_builder\uFF0C\u9700\u8981\u6D4B\u8BD5\u6240\u6709\u7684\u6570\u636E\u96C6\u7684 zero-shot \u5F97\u5206\uFF0C\u90A3\u53EF\u4EE5\u6309\u7167\u4EE5\u4E0B\u811A\u672C\u53D1\u8D77\u6D4B\u8BD5\uFF1A",paraId:10,tocIndex:5},{value:`python folder2/src/run_eval.py \\
--model_path folder3 \\
--model_name Default \\
--model_conf_path folder1/conf/model_conf.json \\
--eval_dataset_list all \\
--eval_dataset_fp_conf_path folder1/conf/devopseval_dataset_fp.json \\
--eval_dataset_type test \\
--data_path folder2 \\
--k_shot 0
`,paraId:11,tocIndex:5}]},27111:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"DevOps-Model \u662F\u8682\u8681\u96C6\u56E2\u8054\u5408\u5317\u4EAC\u5927\u5B66\u53D1\u5E03\u9762\u5411\u4E2D\u6587 DevOps \u9886\u57DF\u7684\u5927\u8BED\u8A00\u6A21\u578B\uFF0C\u901A\u8FC7\u6536\u96C6 DevOps \u9886\u57DF\u76F8\u5173\u7684\u4E13\u4E1A\u6570\u636E\uFF0C\u518D\u9488\u5BF9\u6A21\u578B\u8FDB\u884C\u8BED\u8A00\u6A21\u578B\u7684\u52A0\u8BAD\u548C\u5BF9\u9F50\u8BAD\u7EC3\uFF0C\u4EA7\u51FA\u53EF\u4EE5\u5E2E\u52A9\u5DE5\u7A0B\u5E08\u5728\u6574\u4E2A\u5F00\u53D1\u8FD0\u7EF4\u751F\u547D\u5468\u671F\u63D0\u6548\u7684\u5927\u6A21\u578B\u3002\u5F25\u8865\u5F53\u524D\u5927\u6A21\u578B\u5728 DevOps \u9886\u57DF\u7684\u7F3A\u5931\uFF0C\u65E8\u5728\u505A\u5230\u6709\u95EE\u9898\uFF0C\u95EE DevOps-Model !",paraId:0,tocIndex:0},{value:"\u5F53\u524D\u6211\u4EEC\u5DF2\u7ECF\u5F00\u6E90\u4E86 7B \u548C 14B \u4E24\u79CD\u89C4\u683C\u7684\u7ECF\u8FC7\u52A0\u8BAD\u5F97 Base \u6A21\u578B\u548C\u7ECF\u8FC7\u5BF9\u9F50\u540E\u7684 Chat \u6A21\u578B\uFF0C\u540C\u65F6\u8FD8\u5F00\u6E90\u4E86\u5BF9\u5E94\u7684\u8BAD\u7EC3\u4EE3\u7801\uFF0C\u6B22\u8FCE\u5927\u5BB6\u4E00\u8D77\u5408\u4F5C\u5EFA\u8BBE\uFF01",paraId:1,tocIndex:0},{value:"Github \u5730\u5740\uFF1A",paraId:2,tocIndex:1},{value:"https://github.com/codefuse-ai/CodeFuse-DevOps-Model/tree/main",paraId:2,tocIndex:1},{value:"ModelScope \u5730\u5740\uFF1A",paraId:3,tocIndex:1},{value:"DevOps-Model-7B-Base\uFF1A",paraId:4,tocIndex:1},{value:"https://modelscope.cn/models/codefuse-ai/CodeFuse-DevOps-Model-7B-Base/summary",paraId:4,tocIndex:1},{value:"DevOps-Model-7B-Chat\uFF1A",paraId:4,tocIndex:1},{value:"https://modelscope.cn/models/codefuse-ai/CodeFuse-DevOps-Model-7B-Chat/summary",paraId:4,tocIndex:1},{value:"DevOps-Model-14B-Base\uFF1A",paraId:4,tocIndex:1},{value:"https://modelscope.cn/models/codefuse-ai/CodeFuse-DevOps-Model-14B-Base/summary",paraId:4,tocIndex:1},{value:"DevOps-Model-14B-Chat\uFF1A",paraId:4,tocIndex:1},{value:"https://modelscope.cn/models/codefuse-ai/CodeFuse-DevOps-Model-14B-Chat/summary",paraId:4,tocIndex:1},{value:"\u9488\u5BF9\u6A21\u578B\u8BC4\u6D4B\uFF0C\u6700\u521D\u5E76\u6CA1\u6709\u8FD9\u6837\u7684\u4E00\u4E2A benchmark \u7528\u6765 DevOps \u9886\u57DF\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u6240\u4EE5\u6211\u4EEC\u9996\u5148\u9009\u7528\u4E86\u4E00\u4E9B\u901A\u7528\u5F00\u6E90\u6D4B\u8BD5\u4E2D\u548C DevOps \u9886\u57DF\u76F8\u5173\u7684\u9009\u62E9\u9898\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u5177\u4F53\u6D4B\u8BD5\u6570\u636E\u5982\u4E0B\uFF1A",paraId:5,tocIndex:2},{value:"\u6570\u636E\u96C6",paraId:6,tocIndex:2},{value:"\u8003\u8BD5\u79D1\u76EE",paraId:6,tocIndex:2},{value:"\u9898\u76EE\u603B\u6570",paraId:6,tocIndex:2},{value:"CMMLU",paraId:6,tocIndex:2},{value:"Computer science 204",paraId:6,tocIndex:2},{value:"Computer",paraId:6,tocIndex:2},{value:"security",paraId:6,tocIndex:2},{value:"171",paraId:6,tocIndex:2},{value:"Machine",paraId:6,tocIndex:2},{value:"learning",paraId:6,tocIndex:2},{value:"122",paraId:6,tocIndex:2},{value:"CEval",paraId:6,tocIndex:2},{value:"college programming",paraId:6,tocIndex:2},{value:"37",paraId:6,tocIndex:2},{value:"CEval",paraId:6,tocIndex:2},{value:"computer_architecture",paraId:6,tocIndex:2},{value:"21",paraId:6,tocIndex:2},{value:"CEval",paraId:6,tocIndex:2},{value:"computer_network",paraId:6,tocIndex:2},{value:"19",paraId:6,tocIndex:2},{value:"\u603B\u8BA1",paraId:6,tocIndex:2},{value:"\u603B\u8BA1\u9898\u76EE\u6570",paraId:6,tocIndex:2},{value:"574",paraId:6,tocIndex:2},{value:"\u7531\u4E8E\u90FD\u662F\u5355\u9009\u9898,\u6211\u4EEC\u91C7\u7528\u7684\u662F\u9009\u53D6\u6A21\u578B\u4EA7\u51FA\u7684\u7B2C\u4E00\u4E2A Token \u4E2D\u56DB\u4E2A\u9009\u9879 Token \u4E2D\u5F97\u5206\u6700\u9AD8\u7684\u4F5C\u4E3A\u6A21\u578B\u5BF9\u4E8E\u95EE\u9898\u7684\u56DE\u7B54\u3002\u540C\u65F6\u6211\u4EEC\u8FD8\u6D4B\u8BD5\u4E86 Zero-shot \u548C Five-shot \u7684\u7ED3\u679C\u3002",paraId:7,tocIndex:3},{value:"\u5177\u4F53\u7684\u5F97\u5206\u5982\u4E0B\u8868\u6240\u793A\uFF1A",paraId:8,tocIndex:4},{value:"\u53C2\u6570\u91CF\u7EA7",paraId:9,tocIndex:4},{value:"\u6A21\u578B",paraId:9,tocIndex:4},{value:"\u6A21\u578B\u5927\u5C0F",paraId:9,tocIndex:4},{value:"Zero-shot \u5F97\u5206",paraId:9,tocIndex:4},{value:"Five-shot \u5F97\u5206",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"DevOps-Model-14B-Base",paraId:9,tocIndex:4},{value:"14B",paraId:9,tocIndex:4},{value:"70.73",paraId:9,tocIndex:4},{value:"73.00",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"Qwen-14B-Base",paraId:9,tocIndex:4},{value:"14B",paraId:9,tocIndex:4},{value:"69.16",paraId:9,tocIndex:4},{value:"71.25",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"Baichuan2-13B-Base",paraId:9,tocIndex:4},{value:"13B",paraId:9,tocIndex:4},{value:"55.75",paraId:9,tocIndex:4},{value:"61.15",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"DevOps-Model-14B-Chat",paraId:9,tocIndex:4},{value:"14B",paraId:9,tocIndex:4},{value:"74.04",paraId:9,tocIndex:4},{value:"75.96",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"Qwen-14B-Chat",paraId:9,tocIndex:4},{value:"14B",paraId:9,tocIndex:4},{value:"69.16",paraId:9,tocIndex:4},{value:"70.03",paraId:9,tocIndex:4},{value:"10+ B",paraId:9,tocIndex:4},{value:"Baichuan2-13B-Chat",paraId:9,tocIndex:4},{value:"13B",paraId:9,tocIndex:4},{value:"52.79",paraId:9,tocIndex:4},{value:"55.23",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"DevOps-Model-7B-Base",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"62.72",paraId:9,tocIndex:4},{value:"62.02",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Qwen-7B-Base",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"55.75",paraId:9,tocIndex:4},{value:"56.0",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Baichuan2-7B-Base",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"49.30",paraId:9,tocIndex:4},{value:"55.4",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Internlm-7B-Base",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"47.56",paraId:9,tocIndex:4},{value:"52.6",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"DevOps-Model-7B-Chat",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"62.20",paraId:9,tocIndex:4},{value:"64.11",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Qwen-7B-Chat",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"46.00",paraId:9,tocIndex:4},{value:"52.44",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Baichuan2-7B-Chat",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"52.26",paraId:9,tocIndex:4},{value:"54.46",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"Internlm-7B-Chat",paraId:9,tocIndex:4},{value:"7B",paraId:9,tocIndex:4},{value:"52.61",paraId:9,tocIndex:4},{value:"55.75",paraId:9,tocIndex:4}]},89800:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\u9700\u8981\u5148 PIP \u5B89\u88C5\u4E00\u4E0B Github \u5730\u5740\u4E0B\u7684 requirement.txt \u4E2D\u7684\u5305\uFF0C\u53EF\u4EE5\u53C2\u8003\u4E00\u4E0B\u4EE3\u7801
pip install -r requirements.txt`,paraId:0,tocIndex:0},{value:`\u6A21\u578B\u4E0B\u8F7D\u76F8\u5173\u4FE1\u606F\u5982\u4E0B\uFF1A
\u{1F917} Huggingface \u5730\u5740`,paraId:1,tocIndex:1},{value:"-",paraId:2,tocIndex:1},{value:"\u57FA\u5EA7\u6A21\u578B",paraId:2,tocIndex:1},{value:"\u5BF9\u9F50\u6A21\u578B",paraId:2,tocIndex:1},{value:"7B",paraId:2,tocIndex:1},{value:"DevOps-Model-7B-Base",paraId:2,tocIndex:1},{value:"DevOps-Model-7B-Chat",paraId:2,tocIndex:1},{value:"14B",paraId:2,tocIndex:1},{value:"DevOps-Model-14B-Base",paraId:2,tocIndex:1},{value:"DevOps-Model-14B-Chat",paraId:2,tocIndex:1},{value:"\u{1F916} ModelScope \u5730\u5740",paraId:3,tocIndex:1},{value:"-",paraId:4,tocIndex:1},{value:"\u57FA\u5EA7\u6A21\u578B",paraId:4,tocIndex:1},{value:"\u5BF9\u9F50\u6A21\u578B",paraId:4,tocIndex:1},{value:"7B",paraId:4,tocIndex:1},{value:"DevOps-Model-7B-Base",paraId:4,tocIndex:1},{value:"DevOps-Model-7B-Chat",paraId:4,tocIndex:1},{value:"14B",paraId:4,tocIndex:1},{value:"DevOps-Model-14B-Base",paraId:4,tocIndex:1},{value:"DevOps-Model-14B-Chat",paraId:4,tocIndex:1},{value:"\u627E\u5230\u81EA\u5DF1\u60F3\u8981\u4E0B\u8F7D\u7684 Chat \u6A21\u578B\u7248\u672C\uFF0C\u5F53\u524D\u63D0\u4F9B\u4E86 7B \u548C 14B \u7684\u6A21\u578B",paraId:5,tocIndex:1},{value:"\u6839\u636E\u4EE5\u4E0B\u4EE3\u7801\u6765\u548C Chat \u6A21\u578B\u8FDB\u884C\u4EA4\u4E92",paraId:6,tocIndex:2},{value:`from transformers import AutoModelForCausalLM, AutoTokenizer
from transformers.generation import GenerationConfig

tokenizer = AutoTokenizer.from_pretrained("path_to_DevOps-Model-Chat", trust_remote_code=True)

model = AutoModelForCausalLM.from_pretrained("path_to_DevOps-Model-Chat", device_map="auto", trust_remote_code=True, bf16=True).eval()

# \u6307\u5B9A generation_config
model.generation_config = GenerationConfig.from_pretrained("path_to_DevOps-Model-Chat", trust_remote_code=True)

# \u7B2C\u4E00\u8F6E\u5BF9\u8BDD
resp, hist = model.chat(query='\u4F60\u662F\u8C01', tokenizer=tokenizer, history=None)
print(resp)
# \u6211\u662F DevOps-Model\uFF0C\u4E00\u4E2A\u7531\u8682\u8681\u96C6\u56E2\u5E73\u53F0\u6280\u672F\u4E8B\u4E1A\u7FA4\u98CE\u9669\u667A\u80FD\u56E2\u961F\u548C\u5317\u4EAC\u5927\u5B66\u8054\u5408\u7814\u53D1\u7684\u4EBA\u5DE5\u667A\u80FD\u673A\u5668\u4EBA\uFF0C\u53EF\u4EE5\u4E0E\u7528\u6237\u8FDB\u884C\u81EA\u7136\u8BED\u8A00\u4EA4\u4E92\uFF0C\u5E76\u534F\u52A9\u89E3\u7B54 DevOps \u5168\u751F\u547D\u5468\u671F\u4E2D\u7684\u5404\u79CD\u95EE\u9898\u3002\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u9700\u8981\u534F\u52A9\u7684\u95EE\u9898\u6216\u8005\u60F3\u8981\u8FDB\u884C\u95F2\u804A\uFF0C\u90FD\u53EF\u4EE5\u548C\u6211\u4EA4\u6D41\u54E6\u3002

# \u7B2C\u4E8C\u8F6E\u5BF9\u8BDD
resp2, hist2 = model.chat(query='Java \u4E2D HashMap \u548C Hashtable \u6709\u4EC0\u4E48\u533A\u522B', tokenizer=tokenizer, history=hist)
print(resp2)
# HashMap \u548C Hashtable \u90FD\u662F Java \u4E2D\u5E38\u7528\u7684\u54C8\u5E0C\u8868\u5B9E\u73B0\uFF0C\u5B83\u4EEC\u7684\u4E3B\u8981\u533A\u522B\u5728\u4E8E\uFF1A
# 1. Hashtable \u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u800C HashMap \u4E0D\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u56E0\u6B64\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E0B\uFF0CHashtable \u7684\u6027\u80FD\u66F4\u7A33\u5B9A\u3002
# 2. Hashtable \u4E2D\u7684\u65B9\u6CD5\u90FD\u662F\u540C\u6B65\u7684\uFF0C\u800C HashMap \u7684\u65B9\u6CD5\u4E0D\u662F\u540C\u6B65\u7684\uFF0C\u56E0\u6B64\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E0B\uFF0CHashtable \u7684\u6027\u80FD\u66F4\u597D\u3002
# 3. Hashtable \u4E2D\u7684 key \u548C value \u90FD\u5FC5\u987B\u5B9E\u73B0 Serializable \u63A5\u53E3\uFF0C\u800C HashMap \u4E2D\u7684 key \u548C value \u53EF\u4EE5\u662F\u4EFB\u4F55\u5BF9\u8C61\uFF0C\u5305\u62EC\u57FA\u672C\u6570\u636E\u7C7B\u578B\u3002
# 4. Hashtable \u7684\u521D\u59CB\u5BB9\u91CF\u662F 11\uFF0C\u800C HashMap \u7684\u521D\u59CB\u5BB9\u91CF\u662F 16\u3002
# \u603B\u4E4B\uFF0C\u5982\u679C\u9700\u8981\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E0B\u4F7F\u7528\u54C8\u5E0C\u8868\uFF0C\u5E76\u4E14\u9700\u8981\u4FDD\u8BC1\u7EBF\u7A0B\u5B89\u5168\uFF0C\u90A3\u4E48\u5E94\u8BE5\u4F7F\u7528 Hashtable\uFF1B\u5982\u679C\u4E0D\u9700\u8981\u8003\u8651\u7EBF\u7A0B\u5B89\u5168\uFF0C\u6216\u8005\u9700\u8981\u5FEB\u901F\u5730\u8FDB\u884C\u54C8\u5E0C\u8868\u64CD\u4F5C\uFF0C\u90A3\u4E48\u5E94\u8BE5\u4F7F\u7528 HashMap\u3002

# \u7B2C\u4E09\u8F6E\u5BF9\u8BDD
resp3, hist3 = model.chat(query='\u7EBF\u7A0B\u5B89\u5168\u4EE3\u8868\u4EC0\u4E48', tokenizer=tokenizer, history=hist2)
print(resp3)
# \u7EBF\u7A0B\u5B89\u5168\u662F\u6307\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E0B\uFF0C\u7A0B\u5E8F\u80FD\u591F\u6B63\u786E\u5730\u5904\u7406\u5E76\u53D1\u8BBF\u95EE\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u51FA\u73B0\u6570\u636E\u7ADE\u4E89\u3001\u6B7B\u9501\u3001\u9965\u997F\u7B49\u5F02\u5E38\u60C5\u51B5\u3002\u7EBF\u7A0B\u5B89\u5168\u7684\u7A0B\u5E8F\u53EF\u4EE5\u4FDD\u8BC1\u5728\u4E0D\u540C\u7684\u7EBF\u7A0B\u4E4B\u95F4\u5171\u4EAB\u540C\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u65F6\uFF0C\u6570\u636E\u7684\u6B63\u786E\u6027\u548C\u4E00\u81F4\u6027\u3002\u7EBF\u7A0B\u5B89\u5168\u7684\u5B9E\u73B0\u901A\u5E38\u9700\u8981\u4F7F\u7528\u540C\u6B65\u673A\u5236\uFF0C\u5982\u9501\u3001\u539F\u5B50\u64CD\u4F5C\u7B49\uFF0C\u6765\u4FDD\u8BC1\u5BF9\u5171\u4EAB\u6570\u636E\u7684\u8BBF\u95EE\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\u3002\u5728 Java \u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7 synchronized \u5173\u952E\u5B57\u3001Lock \u63A5\u53E3\u7B49\u673A\u5236\u6765\u5B9E\u73B0\u7EBF\u7A0B\u5B89\u5168\u3002
`,paraId:7,tocIndex:2}]},38217:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\u6839\u636E\u67E5\u9605\u6587\u732E\u53EF\u77E5\uFF0C\u5927\u90E8\u5206\u9886\u57DF\u6A21\u578B\u90FD\u662F\u5728\u5BF9\u8BDD\u6A21\u578B\u7684\u57FA\u7840\u4E0A\uFF0C\u901A\u8FC7 SFT \u5FAE\u8C03\u6765\u8FDB\u884C\u77E5\u8BC6\u6CE8\u5165\u3002\u800C SFT \u5FAE\u8C03\u6240\u9700\u8981 QA \u9884\u6599\u57FA\u672C\u90FD\u6765\u81EA\u4E8E ChatGPT \u751F\u6210\u3002\u7136\u800C\uFF0C\u8BE5\u65B9\u6848\u53EF\u80FD\u5B58\u5728 QA \u8BED\u6599\u65E0\u6CD5\u5B8C\u5168\u8986\u76D6\u9886\u57DF\u77E5\u8BC6\u7684\u60C5\u51B5\u3002
\u56E0\u6B64\uFF0CDevOps-Model \u91C7\u7528\u7684\u662F\u9884\u8BAD\u7EC3\u52A0\u8BAD + SFT \u5FAE\u8C03\u7684\u65B9\u6848\uFF0C\u5982\u56FE 2.1 \u6240\u793A\u3002\u6211\u4EEC\u8BA4\u4E3A\u9488\u5BF9\u9886\u57DF\u5927\u6A21\u578B\uFF0C\u9884\u8BAD\u7EC3\u7684\u52A0\u8BAD\u662F\u5FC5\u8981\u7684\uFF0C\u56E0\u4E3A\u5176\u53EF\u4EE5\u5C06\u9886\u57DF\u5185\u7684\u4E00\u4E9B\u77E5\u8BC6\u5728\u9884\u8BAD\u7EC3\u9636\u6BB5\u6CE8\u5165\u5230\u5927\u6A21\u578B\uFF0C\u5982\u679C\u8FD9\u4E9B\u77E5\u8BC6\u5728\u901A\u7528\u5927\u6A21\u578B\u9884\u8BAD\u7EC3\u65F6\u6CA1\u6709\u51FA\u73B0\u8FC7\uFF0C\u90A3\u4F1A\u8BA9\u5927\u6A21\u578B\u5B66\u4E60\u5230\u65B0\u7684\u77E5\u8BC6\uFF1B\u5982\u679C\u51FA\u73B0\u8FC7\uFF0C\u5C31\u53EF\u4EE5\u8BA9\u5927\u6A21\u578B\u8FDB\u4E00\u6B65\u52A0\u6DF1\u5370\u8C61\u3002\u7B2C\u4E8C\u6B65\u5219\u662F\u5927\u6A21\u578B\u5BF9\u9F50\uFF0C\u76EE\u7684\u662F\u8BA9\u5927\u6A21\u578B\u53EF\u4EE5\u6839\u636E\u95EE\u9898\u6765\u56DE\u7B54\u6700\u5408\u9002\u7684\u5185\u5BB9\u3002`,paraId:0,tocIndex:0},{value:"\u6A21\u578B\u7684\u5B9A\u4F4D\u662F\u4E2D\u6587 DevOps \u9886\u57DF\u5927\u6A21\u578B\uFF0C\u56E0\u6B64\u6536\u96C6\u4E0E\u4E2D\u6587 DevOps \u76F8\u5173\u7684\u9884\u8BAD\u7EC3\u6570\u636E\u548C QA \u6570\u636E\u3002",paraId:1,tocIndex:2},{value:"\u9884\u8BAD\u7EC3\u6570\u636E\u4E3B\u8981\u6765\u81EA\u4E92\u8054\u7F51\u6280\u672F\u535A\u5BA2\u3001\u6280\u672F\u6587\u6863\u3001\u6280\u672F\u4E66\u7C4D\u7B49\uFF0C\u6700\u7EC8\u6536\u96C6\u5230\u4E86 50G+ \u7684\u9884\u8BAD\u7EC3\u8BED\u6599\u6570\u636E\uFF1B",paraId:2,tocIndex:2},{value:"\u9488\u5BF9 QA \u6570\u636E\uFF0C\u6211\u4EEC\u7684\u76EE\u7684\u662F\u60F3\u8BA9\u6A21\u578B\u4E0D\u4F46\u5BF9\u9F50\u5230\u901A\u7528\u7684\u95EE\u7B54\u80FD\u529B\uFF0C\u800C\u4E14\u9488\u5BF9 DevOps \u9886\u57DF\u4E5F\u53EF\u4EE5\u5B66\u4F1A\u5982\u4F55\u66F4\u597D\u7684\u56DE\u7B54\u95EE\u9898\uFF0C\u56E0\u6B64\u4E0D\u4F46\u6536\u96C6\u4E86\u901A\u7528\u9886\u57DF\u7684\u5355\u8F6E\u548C\u591A\u8F6E\u5BF9\u8BDD\u6570\u636E\uFF0C\u8FD8\u9488\u5BF9 DevOps \u9886\u57DF\uFF0C\u901A\u8FC7\u722C\u53D6\u548C ChatGPT \u751F\u6210\u7684\u65B9\u5F0F\u4EA7\u51FA\u4E86\u5C5E\u4E8E DevOps \u9886\u57DF\u7684\u95EE\u7B54\u6570\u636E\u3002\u6700\u7EC8\u6211\u4EEC\u7CBE\u5FC3\u7B5B\u9009\u4E86\u7EA6 200K \u7684 QA \u6570\u636E\u8FDB\u884C SFT \u5FAE\u8C03\u8BAD\u7EC3\uFF0C\u5177\u4F53\u6570\u636E\u91CF\u5982\u4E0B\u8868\u6240\u793A\u3002",paraId:2,tocIndex:2},{value:"\u6570\u636E\u7C7B\u578B",paraId:3,tocIndex:2},{value:"\u6570\u636E\u91CF\u7EA7",paraId:3,tocIndex:2},{value:"\u901A\u7528\u5355\u8F6E QA",paraId:3,tocIndex:2},{value:"50K",paraId:3,tocIndex:2},{value:"\u901A\u7528\u591A\u8F6E QA",paraId:3,tocIndex:2},{value:"20K",paraId:3,tocIndex:2},{value:"DevOps \u9886\u57DF QA",paraId:3,tocIndex:2},{value:"130K",paraId:3,tocIndex:2},{value:"\u7531\u4E8E\u9884\u8BAD\u7EC3\u6570\u636E\u5927\u90E8\u5206\u662F\u4ECE\u4E92\u8054\u7F51\u4E0A\u6536\u96C6\u7684\u6570\u636E\uFF0C\u8D28\u91CF\u4F1A\u53C2\u5DEE\u4E0D\u9F50\uFF0C\u800C\u5927\u6A21\u578B\u8BAD\u7EC3\u4E2D\u6570\u636E\u662F\u6700\u91CD\u8981\u7684\u4E00\u73AF\uFF0C\u6211\u4EEC\u5EFA\u7ACB\u4E86\u5982\u4E0A\u56FE\u6240\u793A\u7684\u6E05\u6D17 Pipeline\uFF0C\u6765\u9488\u5BF9\u6536\u96C6\u5230\u7684\u6570\u636E\u8FDB\u884C\u8D28\u91CF\u7684\u5168\u9762\u8FC7\u6EE4\u3002",paraId:4,tocIndex:3},{value:"\u9996\u5148\uFF0C\u7531\u4E13\u5BB6\u7ECF\u9A8C\u548C\u4EBA\u5DE5\u7B5B\u9009\uFF0C\u603B\u7ED3\u51FA\u6765\u4E86\u4E00\u6279\u6587\u6863\u7EA7\u522B\u7684 Heuristic \u8FC7\u6EE4\u89C4\u5219\uFF0C\u8FD9\u4E00\u6B65\u4E3B\u8981\u7528\u6765\u8FC7\u6EE4\u6389\u90A3\u4E9B\u8D28\u91CF\u975E\u5E38\u5DEE\u7684\u6587\u6863\uFF1B",paraId:5,tocIndex:3},{value:"\u7136\u540E\uFF0C\u5373\u4FBF\u662F\u4E00\u7BC7\u8D28\u91CF\u7A0D\u5DEE\u7684\u6587\u7AE0\u4E2D\uFF0C\u4E5F\u6709\u53EF\u80FD\u8FD8\u662F\u542B\u6709\u4E00\u4E9B\u6709\u4EF7\u503C\u7684\u9886\u57DF\u77E5\u8BC6\uFF0C\u6211\u4EEC\u4E5F\u9700\u8981\u5C3D\u53EF\u80FD\u7684\u8FDB\u884C\u6536\u96C6\u3002\u6B64\u5904\uFF0C\u6211\u4EEC\u5BF9\u6587\u7AE0\u8FDB\u884C\u6BB5\u843D\u62C6\u5206\uFF0C\u5C06\u6587\u7AE0\u62C6\u5206\u6210\u4E00\u4E2A\u4E2A\u6BB5\u843D\uFF1B",paraId:5,tocIndex:3},{value:"\u7136\u540E\uFF0C\u6211\u4EEC\u5C06\u62C6\u5206\u540E\u7684\u6BB5\u843D\u4F1A\u518D\u6B21\u901A\u8FC7\u6B65\u9AA4 1 \u8FDB\u884C\u8FC7\u6EE4\uFF0C\u4FBF\u5F97\u5230\u4E86\u4E00\u6279\u7ECF\u8FC7\u89C4\u5219\u8FC7\u6EE4\u540E\u7684\u6BB5\u843D\uFF1B",paraId:5,tocIndex:3},{value:"\u7136\u540E\uFF0C\u6211\u4EEC\u6458\u53D6\u4E86\u5176\u4E2D 1000 \u4E2A\u6BB5\u843D\uFF0C\u7531\u7ECF\u9A8C\u4E30\u5BCC\u7684\u4E13\u4E1A\u5F00\u53D1\u4EBA\u5458\u6765\u8FDB\u884C\u6253\u6807\uFF0C\u83B7\u5F97\u9AD8\u8D28\u91CF\u7684\u6253\u6807\u6570\u636E\uFF1B",paraId:5,tocIndex:3},{value:`\u6700\u540E\uFF0C\u6211\u4EEC\u6839\u636E\u6253\u6807\u540E\u7684\u7ED3\u679C\u6765\u8BAD\u7EC3\u4E86\u4E00\u4E2A\u6253\u5206\u6A21\u578B\u6765\u9488\u5BF9\u6BB5\u843D\u8FDB\u884C\u8D28\u91CF\u7684\u6253\u5206\uFF0C\u6BB5\u843D\u7684\u5411\u91CF\u6A21\u578B\u9009\u7528\u4E86\u9884\u8BAD\u7EC3\u597D\u7684\u4E2D\u6587\u7248\u672C\u7684 Sentence-Bert\uFF0C\u6253\u5206\u7B97\u6CD5\u9009\u7528\u4E86\u903B\u8F91\u56DE\u5F52\uFF0C\u4E3A\u4E86\u907F\u514D\u6253\u5206\u6A21\u578B\u7684\u8BEF\u5DEE\uFF0C\u4F1A\u518D\u901A\u8FC7\u5E15\u7D2F\u6258\u5206\u5E03\u6765\u6839\u636E\u6BB5\u843D\u7684\u8D28\u91CF\u6253\u5206\u8FDB\u884C\u91C7\u6837\u6765\u51B3\u5B9A\u8981\u4E0D\u8981\u8FC7\u6EE4\u8FD9\u4E2A\u6BB5\u843D\u3002
\u7ECF\u8FC7\u8FD9\u4E2A Pipeline \u540E\uFF0C\u6211\u4EEC\u6700\u7EC8\u6C89\u6DC0\u4E0B 15G \u5DE6\u53F3\u7684\u6570\u636E\u6765\u8FDB\u884C\u5927\u6A21\u578B\u7684\u9884\u8BAD\u7EC3\u52A0\u8BAD\u3002`,paraId:5,tocIndex:3}]},97811:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\xA0
`,paraId:0},{value:"\u{1F525} MFTCoder supports fine-tuning of the GPTNeoX model under the Atorch framework.",paraId:1,tocIndex:0},{value:"\u{1F525} MFTCoder supports both fully supervised fine-tuning.",paraId:2,tocIndex:0},{value:"\u{1F525} MFTCoder supports LoRA using the Atorch Framework.",paraId:3,tocIndex:0},{value:'The training data is in a uniformed JSONL format, in which each line of data has the following JSON format. The "chat_rounds" field is required, and other fields can be added or removed based on the specific need.',paraId:4,tocIndex:2},{value:`{
  "id": 0,
  "data_name": "code-helper",
  "chat_rounds": [
    {
      "role": "system",
      "content": "You are a expert in coding and help answer code questions",
      "chat_round_id": 0
    },
    {
      "role": "human",
      "content": "Write a python function of quick sort",
      "chat_round_id": 1
    },
    {
      "role": "bot",
      "content": "Below is the function of quick sort: ...",
      "chat_round_id": 1
    },
    {
      "role": "human",
      "content": "Explain the code",
      "chat_round_id": 2
    },
    {
      "role": "bot",
      "content": "OK, this code ...",
      "chat_round_id": 2
    }
  ]
}
`,paraId:5,tocIndex:2},{value:`The inference data contains strings concatenated by conversation data(system, human and bot contents) in the training data format.
It is used as the data "seen"(before tokenization) by the model in training process.
It is used as input during the inference process as well.
Here is an example format of the concatenated string:`,paraId:6,tocIndex:3},{value:`"""
<|role_start|>system<|role_end|>System instruction
<|role_start|>human<|role_end|>Human 1st round input
<|role_start|>bot<|role_end|>Bot 1st round output</s>
<|role_start|>human<|role_end|>Human 2nd round input
<|role_start|>bot<|role_end|>Bot 2nd round output</s>
...
...
...
<|role_start|>human<|role_end|>Human nth round input
<|role_start|>bot<|role_end|>{Bot output to be genreated}</s>
"""
`,paraId:7,tocIndex:3},{value:'When applying inference, you always make your input string end with "<|role_start|>bot<|role_end|>" to request the model generating answers.',paraId:8,tocIndex:3},{value:'Currently, the "MFTCoder/mft_atorch" code repository supports fully instruction fine-tuning, and LoRA instruction fine-tuning. Only the training of the GPTNeoX model is supported. In theory, the pretrained weights of the GPTNeoX model available on HuggingFace can be used for training within this project.',paraId:9,tocIndex:4},{value:"We have extracted various components used in training to facilitate future extension and optimization. Please refer to the implementation in the main directory for more details. The entry directory for fine-tuning training is ",paraId:10,tocIndex:4},{value:"train/",paraId:10,tocIndex:4},{value:", and the entry file for training is ",paraId:10,tocIndex:4},{value:"train/run_train.py",paraId:10,tocIndex:4},{value:". The parameter configurations are stored in the launch scripts such as ",paraId:10,tocIndex:4},{value:"train/run_gpt_*.sh",paraId:10,tocIndex:4},{value:", making it easier to manage and modify them uniformly.",paraId:10,tocIndex:4},{value:`During training, we concatenate multi-turn dialogues into the following format (also known as the inference data format mentioned earlier) and then tokenize it. In this format, <|role_start|>human<|role_end|> represents the human input (i.e., prompt), <|role_start|>bot<|role_end|> represents the bot output, and  represents the eos_token.
You can modify and replace the eos_token based on different models' requirements.`,paraId:11,tocIndex:5},{value:"Here is an example of the concatenated format with prompts:",paraId:12,tocIndex:5},{value:`"<|role_start|>human<|role_end|>input1</s>target1</s>input2</s>target2</s>...
`,paraId:13,tocIndex:5},{value:"During the calculation of loss, we use a ",paraId:14,tocIndex:5},{value:"loss mask",paraId:14,tocIndex:5},{value:" to ensure that the loss from the input part does not contribute to the parameter updates. Only the loss from the ",paraId:14,tocIndex:5},{value:"target</s>",paraId:14,tocIndex:5},{value:` part is used for updating parameters.
This approach takes full advantage of the benefits of model parallelism, making training more efficient. It also leverages the characteristic of decoder-only models with left-to-right attention.
By including all target parts from multiple turns in a single training iteration, the training process becomes more efficient.`,paraId:14,tocIndex:5},{value:"To perform fully SFT, you can execute the following command:",paraId:15,tocIndex:6},{value:`sh run_gpt_mft.sh 10 1 8 5
`,paraId:16,tocIndex:6},{value:"Please note that the four parameters after the launch script have the following meanings:",paraId:17,tocIndex:6},{value:"The first parameter is the per GPU batch size.",paraId:18,tocIndex:6},{value:"The second parameter is the number of tensor parallelism (currently only supports 1).",paraId:18,tocIndex:6},{value:"The third parameter is the number of data parallelism, which should match the number of GPUs used.",paraId:18,tocIndex:6},{value:"The fourth parameter is the number of training epochs.",paraId:18,tocIndex:6},{value:"For other training modes, the same four parameters need to be configured in the launch script.",paraId:19,tocIndex:6},{value:"To perform LoRA SFT, you can execute the following command:",paraId:20,tocIndex:7},{value:`sh run_gpt_mft_peft.sh 10 1 8 5
`,paraId:21,tocIndex:7},{value:"The main parameter explanations for the ",paraId:22,tocIndex:8},{value:"train/run_gpt_*.sh",paraId:22,tocIndex:8},{value:" are as follows. You can modify these parameters according to your needs:",paraId:22,tocIndex:8},{value:"tokenize_mode",paraId:23,tocIndex:8},{value:": Need to be 'sft' at present.",paraId:23,tocIndex:8},{value:"train_mode",paraId:24,tocIndex:8},{value:": Need to be 'sft' at present.",paraId:24,tocIndex:8},{value:"load_raw_dataset",paraId:25,tocIndex:8},{value:": Need to be 'True' at present. Only JSONL format is supported.",paraId:25,tocIndex:8},{value:"data_paths",paraId:26,tocIndex:8},{value:': "[path1,path2,path3]" Input data addresses, a string enclosed in [], with different paths separated by commas (,). Each path is a directory where the last level of the directory name is considered as the task name. Each task directory contains 1 to multiple jsonl data files.',paraId:26,tocIndex:8},{value:"output_dir",paraId:27,tocIndex:8},{value:": Training output directory to store checkpoints, lora_adaptor checkpoints, etc.",paraId:27,tocIndex:8},{value:"tensorboard_dir",paraId:28,tocIndex:8},{value:": Can be temporarily ignored, as the actual tensorboard is stored in the runs directory under output_dir.",paraId:28,tocIndex:8},{value:"model_type",paraId:29,tocIndex:8},{value:": Currently only supports gpt_neox.",paraId:29,tocIndex:8},{value:"peft_type",paraId:30,tocIndex:8},{value:": Currently only supports lora.",paraId:30,tocIndex:8},{value:"pretrained_model_path",paraId:31,tocIndex:8},{value:": Local directory of the pre-trained model.",paraId:31,tocIndex:8},{value:"total_train_batch_size",paraId:32,tocIndex:8},{value:": The total batch size for training across all GPUs, calculated automatically based on per gpu batch size entered in the script.",paraId:32,tocIndex:8},{value:"per_device_valid_batch_size",paraId:33,tocIndex:8},{value:": The batch size for evaluation on each GPU, calculated automatically based on per gpu batch size entered in the script.",paraId:33,tocIndex:8},{value:"gradient_accumulation_steps",paraId:34,tocIndex:8},{value:": Number of gradient accumulation steps. Global batch size = num",paraId:34,tocIndex:8},{value:"gpus * per",paraId:34,tocIndex:8},{value:"device_train_batch_size * gradient_accumulation_steps.",paraId:34,tocIndex:8},{value:"checkpoint_activations",paraId:35,tocIndex:8},{value:": Enable if running out of GPU memory. Trades time for space by not caching activation states, resulting in two forward passes to save memory.",paraId:35,tocIndex:8},{value:"learning_rate",paraId:36,tocIndex:8},{value:": Learning rate. When fine-tuning the entire model, it is recommended to use a smaller value, such as 1e-5 or 5e-6. For lora, a larger learning rate is generally used, such as 1e-4 or 2e-4.",paraId:36,tocIndex:8},{value:"min_lr",paraId:37,tocIndex:8},{value:": Minimum learning rate, usually one-tenth of the learning_rate.",paraId:37,tocIndex:8},{value:"seq_length",paraId:38,tocIndex:8},{value:": Maximum length during training. Set according to your device, longer lengths require more memory.",paraId:38,tocIndex:8},{value:"log_interval",paraId:39,tocIndex:8},{value:": Frequency of logging training loss.",paraId:39,tocIndex:8},{value:"checkpointing_steps",paraId:40,tocIndex:8},{value:": Frequency of saving a model checkpoint.",paraId:40,tocIndex:8},{value:"evalation_steps",paraId:41,tocIndex:8},{value:": Frequency of evaluating on the validation set.",paraId:41,tocIndex:8},{value:"early_stopping_patience",paraId:42,tocIndex:8},{value:": Number of consecutive eval points without further convergence to stop training.",paraId:42,tocIndex:8},{value:"lr_scheduler_type",paraId:43,tocIndex:8},{value:": Learning rate changing strategy.",paraId:43,tocIndex:8},{value:"num_warmup_steps",paraId:44,tocIndex:8},{value:": Number of warm-up steps for the learning rate to increase to the specified value.",paraId:44,tocIndex:8},{value:"seed",paraId:45,tocIndex:8},{value:": Random seed used for reproducibility of experimental results.",paraId:45,tocIndex:8},{value:"train_iters",paraId:46,tocIndex:8},{value:": Can be temporarily set to a small value, such as 10, which does not affect the actual number of training steps, kept for future expansion to support reading datasets in other formats.",paraId:46,tocIndex:8},{value:"valid_iters",paraId:47,tocIndex:8},{value:": Can be temporarily set to a small value, such as 10, which does not affect the actual number of training steps, kept for future expansion to support reading datasets in other formats.",paraId:47,tocIndex:8},{value:"evaluation_strategy",paraId:48,tocIndex:8},{value:': Evaluation strategy during training. "steps" means to evaluate every "valid_interval" steps, "epoch" means to evaluate every epoch. Both can be enabled simultaneously.',paraId:48,tocIndex:8},{value:"save_strategy",paraId:49,tocIndex:8},{value:': Strategy for saving model weights during training. "steps" means to save every "checkpointing_steps" steps.',paraId:49,tocIndex:8},{value:"extra_save_by_epoch",paraId:50,tocIndex:8},{value:": Whether to save an epoch-level checkpoint every epoch.",paraId:50,tocIndex:8},{value:"save_total_limit",paraId:51,tocIndex:8},{value:": Maximum number of model checkpoints to keep. Generally set to 2, retaining the checkpoint with the lowest valid loss and the latest checkpoint. Note that epoch-level checkpoints will always be retained and are not subject to this limit.",paraId:51,tocIndex:8},{value:"weighted_loss_mode",paraId:52,tocIndex:8},{value:": Loss weighting method for multi-task training.",paraId:52,tocIndex:8},{value:`Using LoRA or QLoRA for training, this project only saves the weights and configuration files of the adapters.
To merge the adapter weights with the base model, see `,paraId:53,tocIndex:10},{value:"src/pefts/merge_base_and_lora_to_hf.py",paraId:53,tocIndex:10},{value:"Here is the script for inference on our trained models, which is compatible with most Hugging Face models:",paraId:54,tocIndex:11},{value:`from transformers import (
    AutoTokenizer,
    AutoModelForCausalLM,
)
tokenizer = AutoTokenizer.from_pretrained(mode_name_or_path, trust_remote_code=True, use_fast=False, legacy=False)
tokenizer.padding_side = "left"
tokenizer.pad_token_id = tokenizer.convert_tokens_to_ids("<unk>")
tokenizer.eos_token_id = tokenizer.convert_tokens_to_ids("</s>")
model = AutoModelForCausalLM.from_pretrained(mode_name_or_path, trust_remote_code=True)

HUMAN_ROLE_START_TAG = "<|role_start|>human<|role_end|>"
BOT_ROLE_START_TAG = "<|role_start|>bot<|role_end|>"
texts = ["write a python function of quick sort."]
texts = [f"{HUMAN_ROLE_START_TAG}{text}{BOT_ROLE_START_TAG}" for text in texts]

inputs = tokenizer(texts, return_tensors='pt', padding=True, add_special_tokens=False).to("cuda")
outputs = model.generate(
        inputs=inputs["input_ids"],
        attention_mask=inputs["attention_mask"],
        max_new_tokens=512,
        top_p=0.95,
        temperature=0.1,
        do_sample=True,
        eos_token_id=tokenizer.eos_token_id,
        pad_token_id=tokenizer.pad_token_id
    )
gen_text = tokenizer.batch_decode(outputs[:, inputs["input_ids"].shape[1]:], skip_special_tokens=True)
print(gen_text)
`,paraId:55,tocIndex:11},{value:`Indeed, the parameters top_p, temperature, repetition_penalty, do_sample, etc., have a significant impact on the model's generation output.
You can modify these parameters based on your specific use case.`,paraId:56,tocIndex:11},{value:"In code generation scenarios, if you are using the sampling mode (do_sample=True), the following parameter settings can yield good results for the Pass@1 metric:",paraId:57,tocIndex:11},{value:"top_p: Set a higher value, such as 0.95, to retain highly probable generated words. This helps ensure more accurate and fluent generation results.",paraId:58,tocIndex:11},{value:"temperature: Set a lower value, such as 0.1, to reduce randomness. Lower temperature values make the generation output more deterministic.",paraId:59,tocIndex:11},{value:"These parameter combinations can control the diversity of the generated outputs while maintaining naturalness. Additionally, you can adjust other related parameters, such as repetition_penalty, to reduce repetition in the generated results.",paraId:60,tocIndex:11},{value:"If you choose the non-sampling mode (do_sample=False), you can consider the following parameter settings:",paraId:61,tocIndex:11},{value:"beam_num: Set a smaller value such as 1 or 3. ",paraId:62,tocIndex:11},{value:"beam_num=1",paraId:62,tocIndex:11},{value:" represents greedy decoding, which selects the most probable single generated word. ",paraId:62,tocIndex:11},{value:"beam_num=3",paraId:62,tocIndex:11},{value:" represents beam search mode, which considers multiple potential generation paths and chooses the best path among them.",paraId:62,tocIndex:11},{value:"If OOM (Out of Memory) occurs, you can mitigate it by reducing parameters such as per GPU batch size (the first argument when starting the training script) and seq_length. You can also set gradient_checkpointing=true, which significantly reduces memory usage but may slow down the training speed.",paraId:63,tocIndex:13}]},85329:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"Install",paraId:0,tocIndex:0},{value:"Datasets",paraId:1,tocIndex:0},{value:"Multimodal Alignment",paraId:2,tocIndex:0},{value:"Visual Instruction Tuning",paraId:3,tocIndex:0},{value:"Evaluation",paraId:4,tocIndex:0},{value:"\u8BF7\u6267\u884C sh init_env.sh",paraId:5,tocIndex:1},{value:"\u4F7F\u7528\u4E86\u4EE5\u4E0B\u6570\u636E\u96C6\u8BAD\u7EC3\u6A21\u578B:",paraId:6,tocIndex:2},{value:"\u6570\u636E\u96C6",paraId:7,tocIndex:2},{value:"\u4EFB\u52A1\u79CD\u7C7B",paraId:7,tocIndex:2},{value:"\u6837\u672C\u91CF",paraId:7,tocIndex:2},{value:"synthdog-en",paraId:7,tocIndex:2},{value:"OCR",paraId:7,tocIndex:2},{value:"800,000",paraId:7,tocIndex:2},{value:"synthdog-zh",paraId:7,tocIndex:2},{value:"OCR",paraId:7,tocIndex:2},{value:"800,000",paraId:7,tocIndex:2},{value:"cc3m(downsampled)",paraId:7,tocIndex:2},{value:"Image Caption",paraId:7,tocIndex:2},{value:"600,000",paraId:7,tocIndex:2},{value:"cc3m(downsampled)",paraId:7,tocIndex:2},{value:"Image Caption",paraId:7,tocIndex:2},{value:"600,000",paraId:7,tocIndex:2},{value:"SBU",paraId:7,tocIndex:2},{value:"Image Caption",paraId:7,tocIndex:2},{value:"850,000",paraId:7,tocIndex:2},{value:"Visual Genome VQA (Downsampled)",paraId:7,tocIndex:2},{value:"Visual Question Answer(VQA)",paraId:7,tocIndex:2},{value:"500,000",paraId:7,tocIndex:2},{value:"Visual Genome Region descriptions (Downsampled)",paraId:7,tocIndex:2},{value:"Reference Grouding",paraId:7,tocIndex:2},{value:"500,000",paraId:7,tocIndex:2},{value:"Visual Genome objects (Downsampled)",paraId:7,tocIndex:2},{value:"Grounded Caption",paraId:7,tocIndex:2},{value:"500,000",paraId:7,tocIndex:2},{value:"OCR VQA (Downsampled)",paraId:7,tocIndex:2},{value:"OCR and VQA",paraId:7,tocIndex:2},{value:"500,000",paraId:7,tocIndex:2},{value:"\u8BF7\u5230\u5404\u4E2A\u6570\u636E\u96C6\u7684\u5B98\u7F51\u4E0A\u4E0B\u8F7D\u8FD9\u4E9B\u6570\u636E\u3002",paraId:8,tocIndex:2},{value:"\u8BF7\u6267\u884C sh scripts/pretrain.sh \u6216\u8005 sh scripts/pretrain_multinode.sh",paraId:9,tocIndex:3},{value:"\u8BF7\u6267\u884C sh scripts/finetune.sh \u6216\u8005 sh scripts/finetune_multinode.sh",paraId:10,tocIndex:4},{value:"\u8BF7\u6267\u884C llava/eval/ \u5F53\u4E2D\u7684 python \u811A\u672C. \u53EF\u4EE5\u901A\u8FC7\u4E0B\u9762\u7684\u4EE3\u7801\u6765\u52A0\u8F7D\u6211\u4EEC\u9884\u8BAD\u7EC3\u7684 CodeFuse-VLM-14B:",paraId:11,tocIndex:5},{value:`import os
from llava.model.builder import load_mixed_pretrained_model

model_path = '/pretrained/model/path'
tokenizer, model, image_processor, context_len = load_mixed_pretrained_model(model_path, None, 'qwen-vl-14b', os.path.join(model_path, 'Qwen-VL-visual'), 'cross_attn', os.path.join(model_path, 'mm_projector/mm_projector.bin'))
`,paraId:12,tocIndex:5},{value:"\u60A8\u4E5F\u53EF\u4EE5\u5148\u8FD0\u884C\u4E0B\u9762\u7684\u811A\u672C\u6765\u5408\u5E76\u5404\u4E2A\u6A21\u578B\u7EC4\u4EF6\uFF1Ascripts/merge_qwen_vl_weights.sh\uFF0C\u7136\u540E\u901A\u8FC7\u4E0B\u9762\u7684\u4EE3\u7801\u52A0\u8F7D\u5408\u5E76\u540E\u7684\u6A21\u578B\uFF1A",paraId:13,tocIndex:5},{value:`from llava.model import LlavaQWenForCausalLM

model = LlavaQWenForCausalLM.from_pretrained('/path/to/our/pretrained/model')
`,paraId:14,tocIndex:5},{value:"\u8FD9\u662F\u6211\u4EEC\u6A21\u578B\u652F\u6301\u7684\u4EA7\u54C1\u7684\u89C6\u9891",paraId:15,tocIndex:6},{value:"https://private-user-images.githubusercontent.com/22836551/300398424-201f667d-6b6b-4548-b3e6-724afc4b3071.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDY1MjE5MTIsIm5iZiI6MTcwNjUyMTYxMiwicGF0aCI6Ii8yMjgzNjU1MS8zMDAzOTg0MjQtMjAxZjY2N2QtNmI2Yi00NTQ4LWIzZTYtNzI0YWZjNGIzMDcxLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTI5VDA5NDY1MlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWI0ZmJmZWNlNDZmNWM3NzA0OThlMmY1ODY4MDkxNWY5ZWNiNzRiYjJkYmE4NjEzM2EwYWRiNWY2ODc3N2ViYjEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.BIvWGNx0XV7RoauxB0c2noEdbfZfu8-16LPHtCaCJ9k",paraId:16,tocIndex:6}]},9974:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u65B0\u95FB",paraId:0,tocIndex:0},{value:"\u9879\u76EE\u7B80\u4ECB",paraId:1,tocIndex:0},{value:"\u67B6\u6784\u5927\u56FE",paraId:2,tocIndex:0},{value:"\u81F4\u8C22",paraId:3,tocIndex:0},{value:"Contributing",paraId:4,tocIndex:0},{value:"\u{1F525}\u{1F525}[2023.12.10] \u589E\u52A0 llmEmb\u3001onnx\u3001paddlenlp\u3001fasttext \u7B49 LLM embedding \u6846\u67B6\uFF0C\u5E76\u589E\u52A0 timm \u56FE\u7247 embedding \u6846\u67B6\uFF0C\u7528\u4E8E\u63D0\u4F9B\u66F4\u4E30\u5BCC\u7684 embedding \u80FD\u529B\u3002",paraId:5,tocIndex:1},{value:"\u{1F525}\u{1F525}[2023.11.20] codefuse-ModelCache \u589E\u52A0\u672C\u5730\u5B58\u50A8\u80FD\u529B, \u9002\u914D\u4E86\u5D4C\u5165\u5F0F\u6570\u636E\u5E93 sqlite\u3001faiss\uFF0C\u65B9\u4FBF\u7528\u6237\u5FEB\u901F\u542F\u52A8\u6D4B\u8BD5\u3002",paraId:5,tocIndex:1},{value:"[2023.10.31] codefuse-ModelCache...",paraId:5,tocIndex:1},{value:"Codefuse-ModelCache \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u5927\u6A21\u578B\u8BED\u4E49\u7F13\u5B58\u7CFB\u7EDF\uFF0C\u901A\u8FC7\u7F13\u5B58\u5DF2\u751F\u6210\u7684\u6A21\u578B\u7ED3\u679C\uFF0C\u964D\u4F4E\u7C7B\u4F3C\u8BF7\u6C42\u7684\u54CD\u5E94\u65F6\u95F4\uFF0C\u63D0\u5347\u7528\u6237\u4F53\u9A8C\u3002\u8BE5\u9879\u76EE\u4ECE\u670D\u52A1\u4F18\u5316\u89D2\u5EA6\u51FA\u53D1\uFF0C\u5F15\u5165\u7F13\u5B58\u673A\u5236\uFF0C\u5728\u8D44\u6E90\u6709\u9650\u548C\u5BF9\u5B9E\u65F6\u6027\u8981\u6C42\u8F83\u9AD8\u7684\u573A\u666F\u4E0B\uFF0C\u5E2E\u52A9\u4F01\u4E1A\u548C\u7814\u7A76\u673A\u6784\u964D\u4F4E\u63A8\u7406\u90E8\u7F72\u6210\u672C\u3001\u63D0\u5347\u6A21\u578B\u6027\u80FD\u548C\u6548\u7387\u3001\u63D0\u4F9B\u89C4\u6A21\u5316\u5927\u6A21\u578B\u670D\u52A1\u3002\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u5F00\u6E90\uFF0C\u5206\u4EAB\u4EA4\u6D41\u5927\u6A21\u578B\u8BED\u4E49 Cache \u7684\u76F8\u5173\u6280\u672F\u3002",paraId:6,tocIndex:2},{value:"\u672C\u9879\u76EE\u53C2\u8003\u4E86\u4EE5\u4E0B\u5F00\u6E90\u9879\u76EE\uFF0C\u5728\u6B64\u5BF9\u76F8\u5173\u9879\u76EE\u548C\u7814\u7A76\u5F00\u53D1\u4EBA\u5458\u8868\u793A\u611F\u8C22\u3002",paraId:7,tocIndex:4},{value:"GPTCache",paraId:7,tocIndex:4},{value:"ModelCache \u662F\u4E00\u4E2A\u975E\u5E38\u6709\u8DA3\u4E14\u6709\u7528\u7684\u9879\u76EE\uFF0C\u6211\u4EEC\u76F8\u4FE1\u8FD9\u4E2A\u9879\u76EE\u6709\u5F88\u5927\u7684\u6F5C\u529B\uFF0C\u65E0\u8BBA\u4F60\u662F\u7ECF\u9A8C\u4E30\u5BCC\u7684\u5F00\u53D1\u8005\uFF0C\u8FD8\u662F\u521A\u521A\u5165\u95E8\u7684\u65B0\u624B\uFF0C\u90FD\u6B22\u8FCE\u4F60\u4E3A\u8FD9\u4E2A\u9879\u76EE\u505A\u51FA\u4E00\u4E9B\u8D21\u732E\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\uFF1A\u63D0\u4EA4\u95EE\u9898\u548C\u5EFA\u8BAE\uFF0C\u53C2\u4E0E\u4EE3\u7801\u7F16\u5199\uFF0C\u5B8C\u5584\u6587\u6863\u548C\u793A\u4F8B\u3002\u4F60\u7684\u53C2\u4E0E\u5C06\u4F1A\u4F7F\u8FD9\u4E2A\u9879\u76EE\u53D8\u5F97\u66F4\u597D\uFF0C\u540C\u65F6\u4E5F\u4F1A\u4E3A\u5F00\u6E90\u793E\u533A\u505A\u51FA\u8D21\u732E\u3002",paraId:8,tocIndex:5}]},45480:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"python \u7248\u672C: 3.8 \u53CA\u4EE5\u4E0A",paraId:0,tocIndex:0},{value:`\u4F9D\u8D56\u5305\u5B89\u88C5\uFF1A
`,paraId:0,tocIndex:0},{value:"pip install requirements.txt ",paraId:0,tocIndex:0},{value:"\u5728\u542F\u52A8\u670D\u52A1\u524D\uFF0C\u5E94\u8BE5\u8FDB\u884C\u5982\u4E0B\u73AF\u5883\u914D\u7F6E\uFF1A",paraId:1,tocIndex:1},{value:"\u5B89\u88C5\u5173\u7CFB\u6570\u636E\u5E93 mysql\uFF0C \u5BFC\u5165 sql \u521B\u5EFA\u6570\u636E\u8868\uFF0Csql \u6587\u4EF6: reference_doc/create_table.sql",paraId:1,tocIndex:1},{value:"\u5B89\u88C5\u5411\u91CF\u6570\u636E\u5E93 milvus",paraId:1,tocIndex:1},{value:`\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u6570\u636E\u5E93\u8BBF\u95EE\u4FE1\u606F\uFF0C\u914D\u7F6E\u6587\u4EF6\u4E3A\uFF1A
`,paraId:1,tocIndex:1},{value:"modelcache/config/milvus_config.ini",paraId:2,tocIndex:1},{value:"modelcache/config/mysql_config.ini",paraId:2,tocIndex:1},{value:"\u79BB\u7EBF\u6A21\u578B bin \u6587\u4EF6\u4E0B\u8F7D\uFF0C \u53C2\u8003\u5730\u5740\uFF1A",paraId:1,tocIndex:1},{value:"https://huggingface.co/shibing624/text2vec-base-chinese/tree/main\uFF0C\u5E76\u5C06\u4E0B\u8F7D\u7684bin\u6587\u4EF6\uFF0C\u653E\u5230",paraId:1,tocIndex:1},{value:" model/text2vec-base-chinese \u6587\u4EF6\u5939\u4E2D",paraId:1,tocIndex:1},{value:"\u901A\u8FC7 flask4modelcache.py \u811A\u672C\u542F\u52A8\u540E\u7AEF\u670D\u52A1\u3002",paraId:1,tocIndex:1}]},74186:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u529F\u80FD\u65B9\u9762\uFF0C\u4E3A\u4E86\u89E3\u51B3 huggingface \u7F51\u7EDC\u95EE\u9898\u5E76\u63D0\u5347\u63A8\u7406\u901F\u5EA6\uFF0C\u589E\u52A0\u4E86 embedding \u672C\u5730\u63A8\u7406\u80FD\u529B\u3002\u9274\u4E8E SqlAlchemy \u6846\u67B6\u5B58\u5728\u4E00\u4E9B\u9650\u5236\uFF0C\u6211\u4EEC\u5BF9\u5173\u7CFB\u6570\u636E\u5E93\u4EA4\u4E92\u6A21\u5757\u8FDB\u884C\u4E86\u91CD\u5199\uFF0C\u4EE5\u66F4\u7075\u6D3B\u5730\u5B9E\u73B0\u6570\u636E\u5E93\u64CD\u4F5C\u3002\u5728\u5B9E\u8DF5\u4E2D\uFF0C\u5927\u578B\u6A21\u578B\u4EA7\u54C1\u9700\u8981\u4E0E\u591A\u4E2A\u7528\u6237\u548C\u591A\u4E2A\u6A21\u578B\u5BF9\u63A5\uFF0C\u56E0\u6B64\u5728 ModelCache \u4E2D\u589E\u52A0\u4E86\u5BF9\u591A\u79DF\u6237\u7684\u652F\u6301\uFF0C\u540C\u65F6\u4E5F\u521D\u6B65\u517C\u5BB9\u4E86\u7CFB\u7EDF\u6307\u4EE4\u548C\u591A\u8F6E\u4F1A\u8BDD\u3002",paraId:0},{value:`

  `,paraId:1},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u6A21\u5757",paraId:2},{value:`
    `,paraId:2},{value:"\u529F\u80FD",paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"ModelCache",paraId:2},{value:`
    `,paraId:2},{value:"GPTCache",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u57FA\u7840\u63A5\u53E3",paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u67E5\u8BE2\u63A5\u53E3",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u5199\u5165\u63A5\u53E3",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"Embedding",paraId:2},{value:`
    `,paraId:2},{value:"embedding\u6A21\u578B\u914D\u7F6E",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u5927\u6A21\u578Bembedding\u5C42",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"bert\u6A21\u578B\u957F\u6587\u672C\u5904\u7406",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"Large model invocation",paraId:2},{value:`
    `,paraId:2},{value:"\u662F\u5426\u4E0E\u5927\u6A21\u578B\u89E3\u8026",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"embeddingg\u6A21\u578B\u672C\u5730\u52A0\u8F7D",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u9694\u79BB",paraId:2},{value:`
    `,paraId:2},{value:"\u6A21\u578B\u6570\u636E\u9694\u79BB",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u8D85\u53C2\u6570\u9694\u79BB",paraId:2},{value:`
    `,paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u5E93",paraId:2},{value:`
    `,paraId:2},{value:"MySQL",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"Milvus",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"OceanBase",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u4F1A\u8BDD\u7BA1\u7406",paraId:2},{value:`
    `,paraId:2},{value:"\u5355\u8F6E\u56DE\u8BDD",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"system\u6307\u4EE4",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u591A\u8F6E\u56DE\u8BDD",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u7BA1\u7406",paraId:2},{value:`
    `,paraId:2},{value:"\u6570\u636E\u6301\u4E45\u5316",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u4E00\u952E\u6E05\u7A7A\u7F13\u5B58",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u79DF\u6237\u7BA1\u7406",paraId:2},{value:`
    `,paraId:2},{value:"\u652F\u6301\u591A\u79DF\u6237\uFF08\u591A\u6A21\u578B\uFF09",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"milvus\u591A\u8868\u80FD\u529B",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:`
  `,paraId:2},{value:`
    `,paraId:2},{value:"\u5176\u4ED6",paraId:2},{value:`
    `,paraId:2},{value:"\u957F\u77ED\u5BF9\u8BDD\u533A\u5206\u80FD\u529B",paraId:2},{value:`
    `,paraId:2},{value:"\u2611 ",paraId:2},{value:`
    `,paraId:2},{value:`
  `,paraId:2},{value:"\u5728 ModelCache \u4E2D\uFF0C\u6CBF\u7528\u4E86 GPTCache \u7684\u4E3B\u8981\u601D\u60F3\uFF0C\u5305\u542B\u4E86\u4E00\u7CFB\u5217\u6838\u5FC3\u6A21\u5757\uFF1Aadapter\u3001embedding\u3001similarity \u548C data_manager\u3002adapter \u6A21\u5757\u4E3B\u8981\u529F\u80FD\u662F\u5904\u7406\u5404\u79CD\u4EFB\u52A1\u7684\u4E1A\u52A1\u903B\u8F91\uFF0C\u5E76\u4E14\u80FD\u591F\u5C06 embedding\u3001similarity\u3001data_manager \u7B49\u6A21\u5757\u4E32\u8054\u8D77\u6765\uFF1Bembedding \u6A21\u5757\u4E3B\u8981\u8D1F\u8D23\u5C06\u6587\u672C\u8F6C\u6362\u4E3A\u8BED\u4E49\u5411\u91CF\u8868\u793A\uFF0C\u5B83\u5C06\u7528\u6237\u7684\u67E5\u8BE2\u8F6C\u6362\u4E3A\u5411\u91CF\u5F62\u5F0F\uFF0C\u5E76\u7528\u4E8E\u540E\u7EED\u7684\u53EC\u56DE\u6216\u5B58\u50A8\u64CD\u4F5C\uFF1Brank \u6A21\u5757\u7528\u4E8E\u5BF9\u53EC\u56DE\u7684\u5411\u91CF\u8FDB\u884C\u76F8\u4F3C\u5EA6\u6392\u5E8F\u548C\u8BC4\u4F30\uFF1Bdata_manager \u6A21\u5757\u4E3B\u8981\u7528\u4E8E\u7BA1\u7406\u6570\u636E\u5E93\u3002\u540C\u65F6\uFF0C\u4E3A\u4E86\u66F4\u597D\u7684\u5728\u5DE5\u4E1A\u754C\u843D\u5730\uFF0C\u6211\u4EEC\u505A\u4E86\u67B6\u6784\u548C\u529F\u80FD\u4E0A\u7684\u5347\u7EA7\uFF0C\u5982\u4E0B\uFF1A",paraId:3,tocIndex:0},{value:" \u67B6\u6784\u8C03\u6574\uFF08\u8F7B\u91CF\u5316\u96C6\u6210\uFF09\uFF1A\u4EE5\u7C7B redis \u7684\u7F13\u5B58\u6A21\u5F0F\u5D4C\u5165\u5230\u5927\u6A21\u578B\u4EA7\u54C1\u4E2D\uFF0C\u63D0\u4F9B\u8BED\u4E49\u7F13\u5B58\u80FD\u529B\uFF0C\u4E0D\u4F1A\u5E72\u6270 LLM \u8C03\u7528\u548C\u5B89\u5168\u5BA1\u6838\u7B49\u529F\u80FD\uFF0C\u9002\u914D\u6240\u6709\u5927\u6A21\u578B\u670D\u52A1\u3002",paraId:4,tocIndex:0},{value:` \u591A\u79CD\u6A21\u578B\u52A0\u8F7D\u65B9\u6848\uFF1A
`,paraId:4,tocIndex:0},{value:"\u652F\u6301\u52A0\u8F7D\u672C\u5730 embedding \u6A21\u578B\uFF0C\u89E3\u51B3 huggingface \u7F51\u7EDC\u8FDE\u901A\u95EE\u9898",paraId:5,tocIndex:0},{value:"\u652F\u6301\u52A0\u8F7D\u591A\u79CD\u9884\u8BAD\u7EC3\u6A21\u578B embeding \u5C42",paraId:5,tocIndex:0},{value:` \u6570\u636E\u9694\u79BB\u80FD\u529B
`,paraId:4,tocIndex:0},{value:"\u73AF\u5883\u9694\u79BB\uFF1A\u53EF\u4F9D\u636E\u73AF\u5883\uFF0C\u62C9\u53D6\u4E0D\u540C\u7684\u6570\u636E\u5E93\u914D\u7F6E\uFF0C\u5B9E\u73B0\u73AF\u5883\u9694\u79BB\uFF08\u5F00\u53D1\u3001\u9884\u53D1\u3001\u751F\u4EA7\uFF09",paraId:6,tocIndex:0},{value:"\u591A\u79DF\u6237\u6570\u636E\u9694\u79BB\uFF1A\u6839\u636E\u6A21\u578B\u52A8\u6001\u521B\u5EFA collection\uFF0C\u8FDB\u884C\u6570\u636E\u9694\u79BB\uFF0C\u7528\u4E8E\u5927\u6A21\u578B\u4EA7\u54C1\u4E2D\u591A\u4E2A\u6A21\u578B/\u670D\u52A1\u6570\u636E\u9694\u79BB\u95EE\u9898",paraId:6,tocIndex:0},{value:" \u652F\u6301\u7CFB\u7EDF\u6307\u4EE4\uFF1A\u91C7\u7528\u62FC\u63A5\u7684\u65B9\u5F0F\uFF0C\u89E3\u51B3 propmt \u8303\u5F0F\u4E2D sys \u6307\u4EE4\u95EE\u9898\u3002",paraId:4,tocIndex:0},{value:" \u957F\u77ED\u6587\u672C\u533A\u5206\uFF1A\u957F\u6587\u672C\u4F1A\u7ED9\u76F8\u4F3C\u8BC4\u4F30\u5E26\u6765\u66F4\u591A\u6311\u6218\uFF0C\u589E\u52A0\u4E86\u957F\u77ED\u6587\u672C\u7684\u533A\u5206\uFF0C\u53EF\u5355\u72EC\u914D\u7F6E\u5224\u65AD\u9608\u503C\u3002",paraId:4,tocIndex:0},{value:' milvus \u6027\u80FD\u4F18\u5316\uFF1Amilvus consistency_level \u8C03\u6574\u4E3A"Session"\u7EA7\u522B\uFF0C\u53EF\u4EE5\u5F97\u5230\u66F4\u597D\u7684\u6027\u80FD\u3002',paraId:4,tocIndex:0},{value:` \u6570\u636E\u7BA1\u7406\u80FD\u529B\uFF1A
`,paraId:4,tocIndex:0},{value:"\u4E00\u952E\u6E05\u7A7A\u7F13\u5B58\u7684\u80FD\u529B\uFF0C\u7528\u4E8E\u6A21\u578B\u5347\u7EA7\u540E\u7684\u6570\u636E\u7BA1\u7406\u3002",paraId:7,tocIndex:0},{value:"\u53EC\u56DE hitquery\uFF0C\u7528\u4E8E\u540E\u7EED\u7684\u6570\u636E\u5206\u6790\u548C\u6A21\u578B\u8FED\u4EE3\u53C2\u8003\u3002",paraId:7,tocIndex:0},{value:"\u5F02\u6B65\u65E5\u5FD7\u56DE\u5199\u80FD\u529B\uFF0C\u7528\u4E8E\u6570\u636E\u5206\u6790\u548C\u7EDF\u8BA1",paraId:7,tocIndex:0},{value:"\u589E\u52A0 model \u5B57\u6BB5\u548C\u6570\u636E\u7EDF\u8BA1\u5B57\u6BB5\uFF0C\u7528\u4E8E\u529F\u80FD\u62D3\u5C55\u3002",paraId:7,tocIndex:0},{value:"\u672A\u6765\u4F1A\u6301\u7EED\u5EFA\u8BBE\u7684\u529F\u80FD\uFF1A",paraId:8,tocIndex:0},{value:" \u57FA\u4E8E\u8D85\u53C2\u6570\u7684\u6570\u636E\u9694\u79BB",paraId:9,tocIndex:0},{value:" system promt \u5206\u533A\u5B58\u50A8\u80FD\u529B\uFF0C\u4EE5\u63D0\u9AD8\u76F8\u4F3C\u5EA6\u5339\u914D\u7684\u51C6\u786E\u5EA6\u548C\u6548\u7387",paraId:9,tocIndex:0},{value:" \u66F4\u901A\u7528\u7684 embedding \u6A21\u578B\u548C\u76F8\u4F3C\u5EA6\u8BC4\u4F30\u7B97\u6CD5",paraId:9,tocIndex:0}]},87895:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"ModelCache \u6613\u4E8E\u4F7F\u7528\uFF0C\u53EA\u9700 1 \u6B65\u9AA4\u5373\u53EF\u6784\u5EFA\u7F13\u5B58\u6D4B\u8BD5 Demo",paraId:0},{value:"\u79BB\u7EBF\u6A21\u578Bbin\u6587\u4EF6\u4E0B\u8F7D\uFF0C \u53C2\u8003\u5730\u5740\uFF1A",paraId:1,tocIndex:1},{value:"https://huggingface.co/shibing624/text2vec-base-chinese/tree/main",paraId:1,tocIndex:1},{value:"\uFF0C\u5E76\u5C06\u4E0B\u8F7D\u7684bin\u6587\u4EF6\uFF0C\u653E\u5230 model/text2vec-base-chinese \u6587\u4EF6\u5939\u4E2D\u3002",paraId:1,tocIndex:1},{value:"\u6267\u884Cflask4modelcache_demo.py\u542F\u52A8\u670D\u52A1\u3002",paraId:1,tocIndex:1},{value:`cd CodeFuse-ModelCache
`,paraId:2,tocIndex:1},{value:`python flask4modelcache_demo.py
`,paraId:3,tocIndex:1},{value:"\u5728\u542F\u52A8\u670D\u52A1\u524D\uFF0C\u5E94\u8BE5\u8FDB\u884C\u5982\u4E0B\u73AF\u5883\u914D\u7F6E\uFF1A",paraId:4,tocIndex:2},{value:"\u5B89\u88C5\u5173\u7CFB\u6570\u636E\u5E93 mysql\uFF0C \u5BFC\u5165sql\u521B\u5EFA\u6570\u636E\u8868\uFF0Csql\u6587\u4EF6:",paraId:5,tocIndex:2},{value:"reference_doc/create_table.sql",paraId:5,tocIndex:2},{value:"\u5B89\u88C5\u5411\u91CF\u6570\u636E\u5E93milvus",paraId:5,tocIndex:2},{value:`\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u6570\u636E\u5E93\u8BBF\u95EE\u4FE1\u606F\uFF0C\u914D\u7F6E\u6587\u4EF6\u4E3A\uFF1A
`,paraId:5,tocIndex:2},{value:"modelcache/config/milvus_config.ini",paraId:6,tocIndex:2},{value:"modelcache/config/mysql_config.ini",paraId:6,tocIndex:2},{value:"\u79BB\u7EBF\u6A21\u578Bbin\u6587\u4EF6\u4E0B\u8F7D\uFF0C \u53C2\u8003\u5730\u5740\uFF1A",paraId:5,tocIndex:2},{value:"https://huggingface.co/shibing624/text2vec-base-chinese/tree/main",paraId:5,tocIndex:2},{value:"\uFF0C\u5E76\u5C06\u4E0B\u8F7D\u7684bin\u6587\u4EF6\uFF0C\u653E\u5230 model/text2vec-base-chinese \u6587\u4EF6\u5939\u4E2D",paraId:5,tocIndex:2},{value:"\u901A\u8FC7flask4modelcache.py\u811A\u672C\u542F\u52A8\u540E\u7AEF\u670D\u52A1\u3002",paraId:5,tocIndex:2},{value:"\u5F53\u524D\u670D\u52A1\u4EE5restful API\u65B9\u5F0F\u63D0\u4F9B3\u4E2A\u6838\u5FC3\u529F\u80FD\uFF1A\u6570\u636E\u5199\u5165\uFF0Ccache\u67E5\u8BE2\u548Ccache\u6570\u636E\u6E05\u7A7A\u3002\u8BF7\u6C42demo \u5982\u4E0B\uFF1A",paraId:7,tocIndex:3},{value:`import json
import requests
url = 'http://127.0.0.1:5000/modelcache'
type = 'insert'
scope = {"model": "CODEGPT-1008"}
chat_info = [{"query": [{"role": "system", "content": "\u4F60\u662F\u4E00\u4E2AAI\u4EE3\u7801\u52A9\u624B, \u4F60\u5FC5\u987B\u63D0\u4F9B\u4E2D\u7ACB\u7684\u3001\u65E0\u5BB3\u7684\u7B54\u6848\u5E2E\u52A9\u7528\u6237\u89E3\u51B3\u4EE3\u7801\u76F8\u5173\u7684\u95EE\u9898"}, {"role": "user", "content": "\u4F60\u662F\u8C01?"}],
                  "answer": "\u4F60\u597D\uFF0C\u6211\u662F\u667A\u80FD\u52A9\u624B\uFF0C\u8BF7\u95EE\u6709\u4EC0\u4E48\u80FD\u5E2E\u60A8!"}]
data = {'type': type, 'scope': scope, 'chat_info': chat_info}
headers = {"Content-Type": "application/json"}
res = requests.post(url, headers=headers, json=json.dumps(data))
`,paraId:8,tocIndex:4},{value:`import json
import requests
url = 'http://127.0.0.1:5000/modelcache'
type = 'query'
scope = {"model": "CODEGPT-1008"}
query = [{"role": "system", "content": "\u4F60\u662F\u4E00\u4E2AAI\u4EE3\u7801\u52A9\u624B, \u4F60\u5FC5\u987B\u63D0\u4F9B\u4E2D\u7ACB\u7684\u3001\u65E0\u5BB3\u7684\u7B54\u6848\u5E2E\u52A9\u7528\u6237\u89E3\u51B3\u4EE3\u7801\u76F8\u5173\u7684\u95EE\u9898"}, {"role": "user", "content": "\u4F60\u662F\u8C01?"}]
data = {'type': type, 'scope': scope, 'query': query}

headers = {"Content-Type": "application/json"}
res = requests.post(url, headers=headers, json=json.dumps(data))
`,paraId:9,tocIndex:5},{value:`import json
import requests
url = 'http://127.0.0.1:5000/modelcache'
type = 'remove'
scope = {"model": "CODEGPT-1008"}
remove_type = 'truncate_by_model'
data = {'type': type, 'scope': scope, 'remove_type': remove_type}

headers = {"Content-Type": "application/json"}
res = requests.post(url, headers=headers, json=json.dumps(data))
`,paraId:10,tocIndex:6}]},12166:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u65F6\u95F4",paraId:0},{value:"\u529F\u80FD",paraId:0},{value:"\u7248\u672C\u53F7",paraId:0},{value:"20230430",paraId:0},{value:"\u5B8C\u6210 GPTCache \u8C03\u7814\uFF0C\u5F00\u6E90\u6D41\u7A0B\u5728 OpenAI \u63A5\u53E3\u4E0A\u8DD1\u901A\uFF0C\u5355\u8282\u70B9\u5F62\u5F0F",paraId:0},{value:"\u65E0",paraId:0},{value:"20230509",paraId:0},{value:"1\u3001\u5B8C\u6210\u6280\u672F\u9009\u578B\u53CA\u4E0A\u4E0B\u6E38\u4EA4\u4E92\u65B9\u6848",paraId:0},{value:"2\u3001\u91CD\u65B0\u5F00\u53D1\u6570\u636E\u5E93\u6A21\u5757\uFF0C\u66FF\u6362 SQLalchemy \u6846\u67B6",paraId:0},{value:"3\u3001\u91CD\u6784 llm_handler \u6A21\u5757\uFF0C\u517C\u5BB9 codegpt\uFF0C\u9002\u914D codegpt \u6A21\u578B\u53C2\u6570",paraId:0},{value:"V0.1.0",paraId:0},{value:"20230519",paraId:0},{value:"1\u3001\u6839\u636E\u73AF\u5883\u52A8\u6001\u9009\u62E9 codegpt \u670D\u52A1\u6A21\u5F0F",paraId:0},{value:"2\u3001\u6A21\u578B\u672C\u5730\u52A0\u8F7D\u80FD\u529B\uFF0C\u4EE5\u53CA\u9884\u52A0\u8F7D\u80FD\u529B",paraId:0},{value:"3\u3001\u589E\u52A0\u672C\u5730\u8DEF\u5F84\u4F9D\u636E\u73AF\u5883\u52A8\u6001\u52A0\u8F7D\u80FD\u529B",paraId:0},{value:"V0.1.1",paraId:0},{value:"20230522",paraId:0},{value:"1\u3001\u67B6\u6784\u4F18\u5316\uFF0C\u8C03\u6574\u4E3A\u7C7B redis \u7ED3\u6784\uFF0C\u89E3\u85D5\u5927\u6A21\u578B\u8C03\u7528",paraId:0},{value:"2\u3001\u5173\u7CFB\u6570\u636E\u5E93\u7531 sqlite \u5207\u6362\u81F3 OceanBase",paraId:0},{value:"3\u3001\u5411\u91CF\u6570\u636E\u5E93\u7531 faiss \u5207\u6362\u81F3 milvus",paraId:0},{value:"4\u3001\u6A21\u578B\u6570\u636E\u9694\u79BB\u80FD\u529B",paraId:0},{value:"5\u3001\u589E\u52A0\u6838\u5FC3\u6A21\u5757 adapter_query\u3001adapter_insert",paraId:0},{value:"V0.2.0",paraId:0},{value:"20230531",paraId:0},{value:"1\u3001\u7EBF\u4E0A\u73AF\u5883\u4E0A\u7EBF\uFF0C\u52A8\u6001\u611F\u77E5\u80FD\u529B",paraId:0},{value:"2\u3001embedding \u6A21\u578B\u8BC4\u6D4B\u53CA\u9009\u578B",paraId:0},{value:"3\u3001\u589E\u52A0\u9884\u53D1\u73AF\u5883\u53CA\u6570\u636E\u9694\u79BB\u80FD\u529B",paraId:0},{value:"4\u3001\u589E\u52A0\u539F\u59CB query \u5B57\u6BB5\u900F\u51FA\u80FD\u529B",paraId:0},{value:"V0.2.1",paraId:0},{value:"20230607",paraId:0},{value:"1\u3001\u4F18\u5316\u5173\u7CFB\u6570\u636E\u5E93\u8BBF\u95EE\u6027\u80FD",paraId:0},{value:"2\u3001\u4F18\u5316\u73AF\u5883\u548C\u6A21\u578B\u9694\u79BB\u80FD\u529B",paraId:0},{value:"V0.2.2",paraId:0},{value:"20230630",paraId:0},{value:"1\u3001\u5728 modelCache \u4E2D\u589E\u52A0\u5927\u6A21\u578B embedding \u5C42\u9002\u914D\u6A21\u5757",paraId:0},{value:"2\u3001\u589E\u52A0\u91C7\u7EB3\u7387\u7EDF\u8BA1\u80FD\u529B",paraId:0},{value:"V0.2.3",paraId:0},{value:"20230730",paraId:0},{value:"1\u3001\u589E\u52A0\u7F13\u5B58\u7EDF\u8BA1\u529F\u80FD",paraId:0},{value:"2\u3001\u589E\u52A0\u6570\u636E\u5220\u9664\u529F\u80FD\u63A5\u53E3",paraId:0},{value:"3\u3001\u7F13\u5B58\u4E00\u952E\u6E05\u7A7A\u80FD\u529B\u4E0A\u7EBF",paraId:0},{value:"4\u3001\u591A\u8F6E\u4F1A\u8BDD\u80FD\u529B\u7814\u53D1\uFF0C\u652F\u6301 system \u6307\u4EE4\u548C\u591A\u8F6E\u5BF9\u8BDD",paraId:0},{value:"v0.3.0",paraId:0},{value:"20230830",paraId:0},{value:"1\u3001\u589E\u52A0\u5F02\u6B65\u5904\u7406\u80FD\u529B\uFF0C\u6027\u80FD\u63D0\u5347\u8D85 20%",paraId:0},{value:"2\u3001\u67B6\u6784\u53D8\u66F4\uFF0C\u89E3\u85D5 embedding \u63A8\u7406\u548C\u4E1A\u52A1\u5904\u7406\u903B\u8F91",paraId:0},{value:"3\u3001\u9ED1\u540D\u5355\u8FC7\u6EE4\u529F\u80FD",paraId:0},{value:"V0.3.1",paraId:0}]},31382:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u968F\u7740\u5927\u89C4\u6A21\u8F6F\u4EF6\u5F00\u53D1\u7684\u666E\u53CA\uFF0C\u5BF9\u53EF\u6269\u5C55\u4E14\u6613\u4E8E\u9002\u5E94\u7684\u9759\u6001\u4EE3\u7801\u5206\u6790\u6280\u672F\u7684\u9700\u6C42\u6B63\u5728\u52A0\u5927\u3002\u4F20\u7EDF\u7684\u9759\u6001\u5206\u6790\u5DE5\u5177\uFF0C\u5982 Clang Static Analyzer (CSA) \u6216 PMD\uFF0C\u5728\u68C0\u67E5\u7F16\u7A0B\u89C4\u5219\u6216\u6837\u5F0F\u95EE\u9898\u65B9\u9762\u5DF2\u7ECF\u5C55\u73B0\u51FA\u4E86\u826F\u597D\u7684\u6548\u679C\u3002\u7136\u800C\uFF0C\u8FD9\u4E9B\u5DE5\u5177\u901A\u5E38\u662F\u4E3A\u4E86\u6EE1\u8DB3\u7279\u5B9A\u7684\u76EE\u6807\u800C\u8BBE\u8BA1\u7684\uFF0C\u5F80\u5F80\u65E0\u6CD5\u6EE1\u8DB3\u73B0\u4EE3\u8F6F\u4EF6\u5F00\u53D1\u73AF\u5883\u4E2D\u591A\u53D8\u548C\u591A\u5143\u5316\u7684\u9700\u6C42\u3002\u8FD9\u4E9B\u9700\u6C42\u53EF\u4EE5\u6D89\u53CA\u670D\u52A1\u8D28\u91CF (QoS)\u3001\u5404\u79CD\u7F16\u7A0B\u8BED\u8A00\u3001\u4E0D\u540C\u7684\u7B97\u6CD5\u9700\u6C42\uFF0C\u4EE5\u53CA\u5404\u79CD\u6027\u80FD\u9700\u6C42\u3002\u4F8B\u5982\uFF0C\u5B89\u5168\u56E2\u961F\u53EF\u80FD\u9700\u8981\u590D\u6742\u7684\u7B97\u6CD5\uFF0C\u5982\u4E0A\u4E0B\u6587\u654F\u611F\u7684\u6C61\u70B9\u5206\u6790\uFF0C\u6765\u5BA1\u67E5\u8F83\u5C0F\u7684\u4EE3\u7801\u5E93\uFF0C\u800C\u9879\u76EE\u7ECF\u7406\u53EF\u80FD\u9700\u8981\u4E00\u79CD\u76F8\u5BF9\u8F83\u8F7B\u7684\u7B97\u6CD5\uFF0C\u4F8B\u5982\u8BA1\u7B97\u5708\u590D\u6742\u5EA6\u7684\u7B97\u6CD5\uFF0C\u4EE5\u5728\u8F83\u5927\u7684\u4EE3\u7801\u5E93\u4E0A\u6D4B\u91CF\u5F00\u53D1\u4EBA\u5458\u7684\u751F\u4EA7\u529B\u3002",paraId:0,tocIndex:0},{value:`\u8FD9\u4E9B\u591A\u5143\u5316\u7684\u9700\u6C42\uFF0C\u52A0\u4E0A\u5927\u578B\u7EC4\u7EC7\u4E2D\u5E38\u89C1\u7684\u8BA1\u7B97\u8D44\u6E90\u9650\u5236\uFF0C\u6784\u6210\u4E86\u4E00\u9879\u91CD\u5927\u7684\u6311\u6218\u3002\u7531\u4E8E\u4F20\u7EDF\u5DE5\u5177\u91C7\u7528\u7684\u662F\u95EE\u9898\u7279\u5B9A\u7684\u8BA1\u7B97\u65B9\u5F0F\uFF0C\u5F80\u5F80\u65E0\u6CD5\u5728\u8FD9\u79CD\u73AF\u5883\u4E2D\u5B9E\u73B0\u6269\u5C55\u3002\u56E0\u6B64\uFF0C\u6211\u4EEC\u63A8\u51FA\u4E86 CodeQuery\uFF0C\u8FD9\u662F\u4E00\u4E2A\u4E13\u4E3A\u5927\u89C4\u6A21\u9759\u6001\u5206\u6790\u8BBE\u8BA1\u7684\u96C6\u4E2D\u5F0F\u6570\u636E\u5E73\u53F0\u3002
\u5728 CodeQuery \u7684\u5B9E\u73B0\u4E2D\uFF0C\u6211\u4EEC\u628A\u6E90\u4EE3\u7801\u548C\u5206\u6790\u7ED3\u679C\u770B\u4F5C\u6570\u636E\uFF0C\u628A\u6267\u884C\u8FC7\u7A0B\u770B\u4F5C\u5927\u6570\u636E\u5904\u7406\uFF0C\u8FD9\u4E0E\u4F20\u7EDF\u7684\u4EE5\u5DE5\u5177\u4E3A\u4E2D\u5FC3\u7684\u65B9\u6CD5\u6709\u7740\u663E\u8457\u7684\u4E0D\u540C\u3002\u6211\u4EEC\u5229\u7528\u5927\u578B\u7EC4\u7EC7\u4E2D\u7684\u5E38\u89C1\u7CFB\u7EDF\uFF0C\u5982\u6570\u636E\u4ED3\u5E93\u3001MaxCompute \u548C Hive \u7B49\u6570\u636E\u8BA1\u7B97\u8BBE\u65BD\u3001OSS \u5BF9\u8C61\u5B58\u50A8\u548C Kubernetes \u7B49\u7075\u6D3B\u8BA1\u7B97\u8D44\u6E90\uFF0C\u8BA9 CodeQuery \u80FD\u591F\u65E0\u7F1D\u5730\u878D\u5165\u8FD9\u4E9B\u7CFB\u7EDF\u4E2D\u3002\u8FD9\u79CD\u65B9\u6CD5\u4F7F CodeQuery \u9AD8\u5EA6\u53EF\u7EF4\u62A4\u548C\u53EF\u6269\u5C55\uFF0C\u80FD\u591F\u652F\u6301\u591A\u5143\u5316\u7684\u9700\u6C42\uFF0C\u5E76\u6709\u6548\u5E94\u5BF9\u4E0D\u65AD\u53D8\u5316\u7684\u9700\u6C42\u3002\u6B64\u5916\uFF0CCodeQuery \u7684\u5F00\u653E\u67B6\u6784\u9F13\u52B1\u5404\u79CD\u5185\u90E8\u7CFB\u7EDF\u4E4B\u95F4\u7684\u4E92\u64CD\u4F5C\u6027\uFF0C\u5B9E\u73B0\u4E86\u65E0\u7F1D\u7684\u4EA4\u4E92\u548C\u6570\u636E\u4EA4\u6362\u3002\u8FD9\u79CD\u96C6\u6210\u548C\u4EA4\u4E92\u80FD\u529B\u4E0D\u4EC5\u63D0\u9AD8\u4E86\u7EC4\u7EC7\u5185\u90E8\u7684\u81EA\u52A8\u5316\u7A0B\u5EA6\uFF0C\u4E5F\u63D0\u9AD8\u4E86\u6548\u7387\uFF0C\u964D\u4F4E\u4E86\u624B\u52A8\u9519\u8BEF\u7684\u53EF\u80FD\u6027\u3002\u901A\u8FC7\u6253\u7834\u4FE1\u606F\u5B64\u5C9B\uFF0C\u63A8\u52A8\u66F4\u4E92\u8054\u3001\u66F4\u81EA\u52A8\u5316\u7684\u73AF\u5883\uFF0CCodeQuery \u663E\u8457\u63D0\u9AD8\u4E86\u8F6F\u4EF6\u5F00\u53D1\u8FC7\u7A0B\u7684\u6574\u4F53\u751F\u4EA7\u529B\u548C\u6548\u7387\u3002
\u6B64\u5916\uFF0CCodeQuery \u7684\u4EE5\u6570\u636E\u4E3A\u4E2D\u5FC3\u7684\u65B9\u6CD5\u5728\u5904\u7406\u9759\u6001\u6E90\u4EE3\u7801\u5206\u6790\u7684\u9886\u57DF\u7279\u5B9A\u6311\u6218\u65F6\u5177\u6709\u72EC\u7279\u7684\u4F18\u52BF\u3002\u4F8B\u5982\uFF0C\u6E90\u4EE3\u7801\u901A\u5E38\u662F\u4E00\u4E2A\u9AD8\u5EA6\u7ED3\u6784\u5316\u548C\u4E92\u8054\u7684\u6570\u636E\u96C6\uFF0C\u4E0E\u5176\u4ED6\u4EE3\u7801\u548C\u914D\u7F6E\u6587\u4EF6\u6709\u5F3A\u70C8\u7684\u4FE1\u606F\u548C\u8FDE\u63A5\u3002\u5C06\u4EE3\u7801\u89C6\u4E3A\u6570\u636E\uFF0CCodeQuery \u53EF\u4EE5\u5DE7\u5999\u5730\u5904\u7406\u8FD9\u4E9B\u95EE\u9898\uFF0C\u8FD9\u4F7F\u5F97\u5B83\u7279\u522B\u9002\u5408\u5728\u5927\u578B\u7EC4\u7EC7\u4E2D\u4F7F\u7528\uFF0C\u5176\u4E2D\u4EE3\u7801\u5E93\u6301\u7EED\u4F46\u9010\u6B65\u5730\u8FDB\u884C\u6F14\u53D8\uFF0C\u5927\u90E8\u5206\u4EE3\u7801\u5728\u6BCF\u5929\u8FDB\u884C\u5FAE\u5C0F\u7684\u6539\u52A8\u540C\u65F6\u4FDD\u6301\u7A33\u5B9A\u3002 CodeQuery \u8FD8\u652F\u6301\u5982\u57FA\u4E8E\u4EE3\u7801\u6570\u636E\u7684\u5546\u4E1A\u667A\u80FD (BI) \u8FD9\u7C7B\u7528\u4F8B\uFF0C\u80FD\u751F\u6210\u62A5\u544A\u548C\u4EEA\u8868\u677F\uFF0C\u534F\u52A9\u76D1\u63A7\u548C\u51B3\u7B56\u8FC7\u7A0B\u3002\u6B64\u5916\uFF0CCodeQuery \u5728\u5206\u6790\u5927\u578B\u8BED\u8A00\u6A21\u578B (LLM) \u7684\u8BAD\u7EC3\u6570\u636E\u65B9\u9762\u53D1\u6325\u4E86\u91CD\u8981\u4F5C\u7528\uFF0C\u63D0\u4F9B\u4E86\u589E\u5F3A\u8FD9\u4E9B\u6A21\u578B\u6574\u4F53\u6548\u679C\u7684\u6DF1\u5165\u89C1\u89E3\u3002`,paraId:1,tocIndex:0},{value:"\u5728\u5F53\u524D\u7684\u9759\u6001\u5206\u6790\u9886\u57DF\uFF0CCodeQuery \u5E26\u6765\u4E86\u4E00\u79CD\u65B0\u7684\u8303\u5F0F\u3002\u5B83\u4E0D\u4EC5\u6EE1\u8DB3\u4E86\u5927\u89C4\u6A21\u3001\u590D\u6742\u7684\u4EE3\u7801\u5E93\u5206\u6790\u9700\u6C42\uFF0C\u8FD8\u80FD\u9002\u5E94\u4E0D\u65AD\u53D8\u5316\u548C\u591A\u5143\u5316\u7684\u9759\u6001\u5206\u6790\u573A\u666F\u3002CodeQuery \u7684\u4EE5\u6570\u636E\u4E3A\u4E2D\u5FC3\u7684\u65B9\u6CD5\uFF0C\u4F7F\u5F97\u5176\u5728\u5904\u7406\u5927\u6570\u636E\u73AF\u5883\u4E2D\u7684\u4EE3\u7801\u5206\u6790\u95EE\u9898\u65F6\u5177\u6709\u72EC\u7279\u4F18\u52BF\u3002CodeQuery \u7684\u8BBE\u8BA1\uFF0C\u65E8\u5728\u89E3\u51B3\u5927\u89C4\u6A21\u8F6F\u4EF6\u5F00\u53D1\u73AF\u5883\u4E2D\u7684\u9759\u6001\u5206\u6790\u95EE\u9898\u3002\u5B83\u80FD\u591F\u5C06\u6E90\u4EE3\u7801\u548C\u5206\u6790\u7ED3\u679C\u89C6\u4F5C\u6570\u636E\uFF0C\u4F7F\u5F97\u5176\u53EF\u4EE5\u7075\u6D3B\u5730\u878D\u5165\u5927\u578B\u7EC4\u7EC7\u7684\u5404\u79CD\u7CFB\u7EDF\u4E2D\u3002\u8FD9\u79CD\u65B9\u6CD5\u4E0D\u4EC5\u53EF\u4EE5\u6709\u6548\u5730\u5904\u7406\u5927\u89C4\u6A21\u7684\u4EE3\u7801\u5E93\uFF0C\u8FD8\u53EF\u4EE5\u5E94\u5BF9\u5404\u79CD\u590D\u6742\u7684\u5206\u6790\u9700\u6C42\uFF0C\u4ECE\u800C\u4F7F\u5F97\u9759\u6001\u5206\u6790\u5DE5\u4F5C\u53D8\u5F97\u66F4\u52A0\u9AD8\u6548\u548C\u51C6\u786E\u3002",paraId:2,tocIndex:0},{value:"CodeQuery \u7684\u7279\u70B9\u548C\u4F18\u52BF\u53EF\u4EE5\u6982\u62EC\u4E3A\u4EE5\u4E0B\u51E0\u70B9\uFF1A",paraId:3,tocIndex:0},{value:"\u9AD8\u5EA6\u53EF\u6269\u5C55",paraId:4,tocIndex:0},{value:"\uFF1ACodeQuery \u53EF\u4EE5\u5904\u7406\u5927\u89C4\u6A21\u7684\u4EE3\u7801\u5E93\uFF0C\u4E14\u80FD\u591F\u9002\u5E94\u4E0D\u540C\u7684\u5206\u6790\u9700\u6C42\u3002\u8FD9\u79CD\u9AD8\u5EA6\u7684\u53EF\u6269\u5C55\u6027\u4F7F\u5F97 CodeQuery \u53EF\u4EE5\u5728\u5927\u578B\u7EC4\u7EC7\u4E2D\u53D1\u6325\u91CD\u8981\u4F5C\u7528\u3002",paraId:4,tocIndex:0},{value:"\u4EE5\u6570\u636E\u4E3A\u4E2D\u5FC3",paraId:4,tocIndex:0},{value:"\uFF1ACodeQuery \u5C06\u6E90\u4EE3\u7801\u548C\u5206\u6790\u7ED3\u679C\u89C6\u4F5C\u6570\u636E\uFF0C\u8FD9\u79CD\u4EE5\u6570\u636E\u4E3A\u4E2D\u5FC3\u7684\u65B9\u6CD5\u4F7F\u5176\u5728\u5904\u7406\u5927\u6570\u636E\u73AF\u5883\u4E2D\u7684\u4EE3\u7801\u5206\u6790\u95EE\u9898\u65F6\u5177\u6709\u72EC\u7279\u4F18\u52BF\u3002",paraId:4,tocIndex:0},{value:"\u9AD8\u5EA6\u96C6\u6210",paraId:4,tocIndex:0},{value:"\uFF1ACodeQuery \u80FD\u591F\u65E0\u7F1D\u5730\u878D\u5165\u5927\u578B\u7EC4\u7EC7\u7684\u5404\u79CD\u7CFB\u7EDF\u4E2D\uFF0C\u5305\u62EC\u6570\u636E\u4ED3\u5E93\u3001\u6570\u636E\u8BA1\u7B97\u8BBE\u65BD\u3001\u5BF9\u8C61\u5B58\u50A8\u548C\u7075\u6D3B\u8BA1\u7B97\u8D44\u6E90\u7B49\u3002\u8FD9\u79CD\u9AD8\u5EA6\u7684\u96C6\u6210\u6027\u4F7F\u5F97 CodeQuery \u5728\u5927\u578B\u7EC4\u7EC7\u4E2D\u7684\u4F7F\u7528\u53D8\u5F97\u66F4\u52A0\u65B9\u4FBF\u548C\u9AD8\u6548\u3002",paraId:4,tocIndex:0},{value:"\u652F\u6301\u591A\u5143\u5316\u7684\u9700\u6C42",paraId:4,tocIndex:0},{value:"\uFF1ACodeQuery \u4E0D\u4EC5\u53EF\u4EE5\u5904\u7406\u5927\u89C4\u6A21\u7684\u4EE3\u7801\u5E93\uFF0C\u8FD8\u53EF\u4EE5\u5E94\u5BF9\u5404\u79CD\u590D\u6742\u7684\u5206\u6790\u9700\u6C42\uFF0C\u5305\u62EC\u670D\u52A1\u8D28\u91CF\u5206\u6790\u9700\u6C42\u3001\u8DE8\u7F16\u7A0B\u8BED\u8A00\u5206\u6790\u9700\u6C42\u3001\u7B97\u6CD5\u9700\u6C42\u548C\u6027\u80FD\u9700\u6C42\u7B49\u3002",paraId:4,tocIndex:0},{value:"CodeQuery \u662F\u4E00\u79CD\u5F3A\u5927\u7684\u9759\u6001\u4EE3\u7801\u5206\u6790\u5E73\u53F0\uFF0C\u9002\u5408\u5927\u89C4\u6A21\u3001\u590D\u6742\u7684\u4EE3\u7801\u5E93\u5206\u6790\u573A\u666F\u3002\u5B83\u7684\u4EE5\u6570\u636E\u4E3A\u4E2D\u5FC3\u7684\u65B9\u6CD5\u548C\u9AD8\u5EA6\u7684\u53EF\u6269\u5C55\u6027\u4F7F\u5F97\u5B83\u5728\u73B0\u4EE3\u8F6F\u4EF6\u5F00\u53D1\u73AF\u5883\u4E2D\u5177\u6709\u72EC\u7279\u7684\u4F18\u52BF\u3002\u672A\u6765\uFF0C\u968F\u7740\u9759\u6001\u4EE3\u7801\u5206\u6790\u6280\u672F\u7684\u4E0D\u65AD\u53D1\u5C55\uFF0CCodeQuery \u6709\u671B\u5728\u8FD9\u4E2A\u9886\u57DF\u4E2D\u626E\u6F14\u66F4\u52A0\u91CD\u8981\u7684\u89D2\u8272\u3002",paraId:5,tocIndex:0}]},91054:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"G\xF6delScript \u57FA\u672C\u6982\u5FF5\u548C\u8BED\u6CD5",paraId:0,tocIndex:1},{value:"\u7B80\u4ECB",paraId:1,tocIndex:1},{value:"\u57FA\u672C\u7A0B\u5E8F\u6784\u6210",paraId:2,tocIndex:1},{value:"\u57FA\u7840\u7C7B\u578B\u548C\u7F16\u8BD1\u5668\u5185\u5EFA\u51FD\u6570",paraId:3,tocIndex:1},{value:"\u51FD\u6570",paraId:4,tocIndex:1},{value:"\u8BED\u53E5",paraId:5,tocIndex:1},{value:"Schema",paraId:6,tocIndex:1},{value:"\u6570\u636E\u5E93",paraId:7,tocIndex:1},{value:"Trait",paraId:8,tocIndex:1},{value:"Import",paraId:9,tocIndex:1},{value:"Query",paraId:10,tocIndex:1},{value:"Ungrounded Error: \u672A\u8D4B\u503C/\u672A\u7ED1\u5B9A\u9519\u8BEF",paraId:11,tocIndex:1},{value:"\u67E5\u8BE2\u793A\u4F8B",paraId:12,tocIndex:1},{value:"Java",paraId:13,tocIndex:1},{value:"Python",paraId:14,tocIndex:1},{value:"JavaScript",paraId:15,tocIndex:1},{value:"XML",paraId:16,tocIndex:1},{value:"Go",paraId:17,tocIndex:1},{value:"\u67E5\u8BE2\u8C03\u8BD5\u548C\u4F18\u5316\u6280\u5DE7",paraId:18,tocIndex:1},{value:"Schema \u4F20\u53C2\u5BFC\u81F4\u7B1B\u5361\u5C14\u79EF\u8FC7\u5927",paraId:19,tocIndex:1},{value:"\u591A\u5C42 for \u5BFC\u81F4\u7B1B\u5361\u5C14\u79EF\u8FC7\u5927",paraId:20,tocIndex:1},{value:"\u4E0D\u8981\u6EE5\u7528",paraId:21,tocIndex:1},{value:"@inline",paraId:21,tocIndex:1},{value:"\u5728\u672C\u673A\u4F7F\u7528\u67E5\u8BE2\u811A\u672C\u6D41\u7A0B",paraId:22,tocIndex:1},{value:`// script
fn hello(greeting: string) -> bool {
    return greeting = "hello world!"
}

fn main() {
    output(hello())
}
`,paraId:23,tocIndex:3},{value:"G\xF6delScript \u5373 G\xF6del \u67E5\u8BE2\u8BED\u8A00\u3002G\xF6delScript \u662F CodeQuery \u7528\u4E8E\u67E5\u8BE2\u548C\u6570\u636E\u5904\u7406\u7684\u9886\u57DF\u4E13\u7528\u8BED\u8A00 (DSL)\u3002G\xF6delScript \u4F7F\u7528\u4E86\u7C7B Rust \u7684\u8BED\u6CD5\uFF0C\u63D0\u4F9B\u4E86\u4E25\u683C\u7684\u7C7B\u578B\u68C0\u67E5\u3001\u65B9\u4FBF\u5FEB\u6377\u7684\u7C7B\u578B\u63A8\u5BFC\u3001\u667A\u80FD\u53CB\u597D\u7684\u9519\u8BEF\u63D0\u793A\u4FE1\u606F\uFF0C\u4F7F\u7528\u6237\u80FD\u591F\u5FEB\u901F\u4E0A\u624B\u3002",paraId:24,tocIndex:3},{value:"G\xF6delScript \u7F16\u8BD1\u5668\u4E3B\u8981\u5E94\u7528\u573A\u666F\u4E3A\uFF1A",paraId:25,tocIndex:3},{value:"\u9762\u5411\u7528\u6237\u7F16\u5199\u7B80\u5355\u6216\u590D\u6742\u67E5\u8BE2\uFF0C\u63D0\u4F9B\u66F4\u4FBF\u6377\u7684\u5199\u6CD5\uFF0C\u63D0\u9AD8\u7F16\u5199\u67E5\u8BE2\u7684\u6548\u7387\uFF1B",paraId:26,tocIndex:3},{value:"\u63D0\u4F9B\u4E25\u683C\u7C7B\u578B\u68C0\u67E5\u4E0E\u7C7B\u578B\u63A8\u5BFC\uFF0C\u7ED9\u4E88\u66F4\u667A\u80FD\u7684\u4EE3\u7801\u4FEE\u6539\u63D0\u793A\uFF1B",paraId:26,tocIndex:3},{value:"\u63D0\u4F9B\u4E25\u683C\u7684 ",paraId:26,tocIndex:3},{value:"ungrounded(\u672A\u8D4B\u503C/\u672A\u7ED1\u5B9A)",paraId:27,tocIndex:3},{value:" \u68C0\u6D4B\uFF0C\u907F\u514D\u89E6\u53D1 Souffl\xE9 Ungrounded Error\uFF1B",paraId:26,tocIndex:3},{value:"Language Server \u4EE5\u53CA IDE Extension \u652F\u6301\u3002",paraId:26,tocIndex:3},{value:"G\xF6delScript \u7A0B\u5E8F\u53EF\u80FD\u5305\u542B:",paraId:28,tocIndex:5},{value:"\u6A21\u5757\u548C\u7B26\u53F7\u5F15\u7528",paraId:29,tocIndex:5},{value:"Schema \u7C7B\u578B\u58F0\u660E",paraId:30,tocIndex:5},{value:"\u6570\u636E\u5E93\u7C7B\u578B\u58F0\u660E",paraId:31,tocIndex:5},{value:"Trait \u58F0\u660E",paraId:32,tocIndex:5},{value:"Schema \u65B9\u6CD5\u5B9E\u73B0",paraId:33,tocIndex:5},{value:"\u51FD\u6570\u58F0\u660E\u548C\u5B9E\u73B0",paraId:34,tocIndex:5},{value:"Query \u58F0\u660E",paraId:35,tocIndex:5},{value:"\u5305\u542B\u4EE5\u4E0A\u6240\u6709\u7EC4\u6210\u5185\u5BB9\u7684\u6837\u4F8B:",paraId:36,tocIndex:5},{value:`// script
// \u5305\u5F15\u5165/\u7B26\u53F7\u5F15\u5165
use coref::java::* // \u5F15\u5165\u6240\u6709\u7B26\u53F7
use coref::java::{JavaDB, Class} // \u9009\u62E9\u6027\u5F15\u5165\u7B26\u53F7

// \u51FD\u6570\u58F0\u660E
fn default_db() -> JavaDB {
    return JavaDB::load("example.db")
}

// schema \u58F0\u660E
schema File {
    @primary id: int
}

// database \u58F0\u660E
database NewDB {
    file: *File
}

// trait \u58F0\u660E
trait FileTrait {
    fn getId(self) -> int;
}

// impl trait for
impl FileTrait for File {
    fn getId(self) -> int {
        return self.id
    }
}

// impl
impl File {
    @data_constraint
    fn all() -> *File {
        yield File {id: 1}
        yield File {id: 2}
    }
}

// query
query get_all_anno from
    Annotation anno in Annotation(default_db())
select
    anno.id as id
`,paraId:37,tocIndex:5},{value:"G\xF6delScript \u91C7\u7528\u7C7B C \u8BED\u8A00\u7684\u6CE8\u91CA\u65B9\u5F0F\u3002",paraId:38,tocIndex:6},{value:`// \u5355\u884C\u6CE8\u91CA

/*
* 1. \u591A\u884C\u6CE8\u91CA
* 2. \u591A\u884C\u6CE8\u91CA
*/
`,paraId:39,tocIndex:6},{value:"main",paraId:40},{value:"G\xF6delScript \u67E5\u8BE2\u811A\u672C\u53EF\u4EE5\u5305\u542B",paraId:41,tocIndex:7},{value:"main",paraId:41,tocIndex:7},{value:"\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u65E0\u8FD4\u56DE\u503C\u3002\u5728\u4E0D\u5B9E\u73B0",paraId:41,tocIndex:7},{value:"main",paraId:41,tocIndex:7},{value:"\u51FD\u6570\uFF0C\u4E14\u6CA1\u6709\u5199 query \u58F0\u660E\u7684\u60C5\u51B5\u4E0B\uFF0C\u7A0B\u5E8F\u4E0D\u4F1A\u8F93\u51FA\u3002",paraId:41,tocIndex:7},{value:"\u66F4\u591A\u8BE6\u7EC6\u5185\u5BB9\u8BF7\u770B ",paraId:42,tocIndex:7},{value:"main \u51FD\u6570",paraId:43,tocIndex:7},{value:"\u3002",paraId:42,tocIndex:7},{value:`fn main() {
    output(query_1())
    output(query_2())
}
`,paraId:44,tocIndex:7},{value:"G\xF6delScript \u5305\u542B\u57FA\u7840\u7C7B\u578B",paraId:45,tocIndex:8},{value:"int",paraId:45,tocIndex:8},{value:" ",paraId:45,tocIndex:8},{value:"string",paraId:45,tocIndex:8},{value:"\uFF0C",paraId:45,tocIndex:8},{value:"bool",paraId:45,tocIndex:8},{value:"\u5C5E\u4E8E\u57FA\u7840\u7C7B\u578B\uFF0C\u4F46\u662F\u4E0D\u80FD\u4F5C\u4E3A\u503C\u5B58\u50A8\u3002",paraId:45,tocIndex:8},{value:"int",paraId:40},{value:"\u51FD\u6570",paraId:46,tocIndex:9},{value:"\u7C7B\u578B",paraId:46,tocIndex:9},{value:"\u89E3\u91CA",paraId:46,tocIndex:9},{value:"pow",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"\u4E58\u65B9\u3002\u53C2\u6570\u53EA\u80FD\u975E\u8D1F\u6570\u3002",paraId:46,tocIndex:9},{value:"rem",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"\u53D6\u4F59\u3002",paraId:46,tocIndex:9},{value:"bitand",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"\u6309\u4F4D\u4E0E\u3002",paraId:46,tocIndex:9},{value:"bitor",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"\u6309\u4F4D\u6216\u3002",paraId:46,tocIndex:9},{value:"bitxor",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"\u6309\u4F4D\u5F02\u6216\u3002",paraId:46,tocIndex:9},{value:"bitnot",paraId:46,tocIndex:9},{value:"(int) -> int",paraId:46,tocIndex:9},{value:"\u6309\u4F4D\u975E\u3002",paraId:46,tocIndex:9},{value:"neg",paraId:46,tocIndex:9},{value:"(int) -> int",paraId:46,tocIndex:9},{value:"\u7B97\u672F\u53D6\u53CD\u3002",paraId:46,tocIndex:9},{value:"to_string",paraId:46,tocIndex:9},{value:"(int) -> string",paraId:46,tocIndex:9},{value:"\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002",paraId:46,tocIndex:9},{value:"add",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"+",paraId:46,tocIndex:9},{value:"sub",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"-",paraId:46,tocIndex:9},{value:"mul",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"*",paraId:46,tocIndex:9},{value:"div",paraId:46,tocIndex:9},{value:"(int, int) -> int",paraId:46,tocIndex:9},{value:"/",paraId:46,tocIndex:9},{value:"eq",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:"=",paraId:46,tocIndex:9},{value:"ne",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:"!=",paraId:46,tocIndex:9},{value:"gt",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:">",paraId:46,tocIndex:9},{value:"ge",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:">=",paraId:46,tocIndex:9},{value:"lt",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:"<",paraId:46,tocIndex:9},{value:"le",paraId:46,tocIndex:9},{value:"(int, int) -> bool",paraId:46,tocIndex:9},{value:"<=",paraId:46,tocIndex:9},{value:"to_set",paraId:46,tocIndex:9},{value:"(int) -> *int",paraId:46,tocIndex:9},{value:"\u8F6C\u4E3A\u96C6\u5408\u7C7B\u578B\u3002",paraId:46,tocIndex:9},{value:"string",paraId:40},{value:"\u51FD\u6570",paraId:47,tocIndex:10},{value:"\u7C7B\u578B",paraId:47,tocIndex:10},{value:"\u89E3\u91CA",paraId:47,tocIndex:10},{value:"len",paraId:47,tocIndex:10},{value:"(string) -> int",paraId:47,tocIndex:10},{value:"\u83B7\u53D6\u5B57\u7B26\u4E32\u957F\u5EA6\u3002",paraId:47,tocIndex:10},{value:"substr",paraId:47,tocIndex:10},{value:"(string, int, int) -> string",paraId:47,tocIndex:10},{value:"\u901A\u8FC7\u521D\u59CB index \u548C length \u6765\u622A\u53D6\u5B57\u7B26\u4E32\u3002",paraId:47,tocIndex:10},{value:"contains",paraId:47,tocIndex:10},{value:"(string, string) -> bool",paraId:47,tocIndex:10},{value:"\u5224\u65AD\u4E00\u4E2A\u5B57\u7B26\u4E32\u662F\u5426\u88AB\u5305\u542B\u5728\u5F53\u524D\u5B57\u7B26\u4E32\u4E2D\u3002",paraId:47,tocIndex:10},{value:"matches",paraId:47,tocIndex:10},{value:"(string, string) -> bool",paraId:47,tocIndex:10},{value:"\u5224\u65AD\u6B63\u5219\u5B57\u7B26\u4E32\u662F\u5426\u5B8C\u5168\u5339\u914D\u5F53\u524D\u5B57\u7B26\u4E32\u3002",paraId:47,tocIndex:10},{value:"get_regex_match_result",paraId:47,tocIndex:10},{value:"(string, string, int) -> string",paraId:47,tocIndex:10},{value:'\u83B7\u53D6\u88AB\u6B63\u5219\u5B57\u7B26\u4E32\u5B8C\u5168\u5339\u914D\u5F53\u524D\u5B57\u7B26\u4E32\u65F6\u7684\u67D0\u4E00\u4E2A\u6355\u83B7\u7ED3\u679C\uFF0C\u8BE5\u7ED3\u679C\u7531\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF08int\uFF09\u786E\u5B9A\u3002\u5982 "abcdef".get_regex_match_result("a(.*)f", 1) \u7684\u7ED3\u679C\u662F "bcde"\u3002',paraId:47,tocIndex:10},{value:"to_int",paraId:47,tocIndex:10},{value:"(string) -> int",paraId:47,tocIndex:10},{value:"\u8F6C\u6362\u4E3A\u6574\u6570\u3002",paraId:47,tocIndex:10},{value:"add",paraId:47,tocIndex:10},{value:"(string, string) -> string",paraId:47,tocIndex:10},{value:"\u5B57\u7B26\u4E32\u62FC\u63A5\u3002",paraId:47,tocIndex:10},{value:"eq",paraId:47,tocIndex:10},{value:"(string, string) -> bool",paraId:47,tocIndex:10},{value:"\u5224\u65AD\u5B57\u7B26\u4E32\u76F8\u7B49\u3002",paraId:47,tocIndex:10},{value:"ne",paraId:47,tocIndex:10},{value:"(string, string) -> bool",paraId:47,tocIndex:10},{value:"\u5224\u65AD\u5B57\u7B26\u4E32\u4E0D\u76F8\u7B49\u3002",paraId:47,tocIndex:10},{value:"to_set",paraId:47,tocIndex:10},{value:"(string) -> *string",paraId:47,tocIndex:10},{value:"\u8F6C\u4E3A\u96C6\u5408\u7C7B\u578B\u3002",paraId:47,tocIndex:10},{value:"bool",paraId:40},{value:"bool",paraId:48,tocIndex:11},{value:"\u867D\u7136\u4F5C\u4E3A\u57FA\u7840\u7C7B\u578B\u5B58\u5728\uFF0C\u4F46\u662F\u8BE5\u7C7B\u578B\u4E0D\u80FD\u4F5C\u4E3A\u6570\u636E\u53C2\u4E0E\u4E2D\u95F4\u8BA1\u7B97\uFF0C\u53EA\u80FD\u4F5C\u4E3A\u6761\u4EF6\u7ED3\u679C\u3002",paraId:48,tocIndex:11},{value:"\u51FD\u6570",paraId:49,tocIndex:11},{value:"\u7C7B\u578B",paraId:49,tocIndex:11},{value:"\u89E3\u91CA",paraId:49,tocIndex:11},{value:"not",paraId:49,tocIndex:11},{value:"(bool) -> bool",paraId:49,tocIndex:11},{value:"\u6761\u4EF6\u53D6\u53CD\u3002",paraId:49,tocIndex:11},{value:"and",paraId:49,tocIndex:11},{value:"(bool, bool) -> bool",paraId:49,tocIndex:11},{value:"\u6761\u4EF6\u4E0E\u3002",paraId:49,tocIndex:11},{value:"or",paraId:49,tocIndex:11},{value:"(bool, bool) -> bool",paraId:49,tocIndex:11},{value:"\u6761\u4EF6\u6216\u3002",paraId:49,tocIndex:11},{value:"eq",paraId:49,tocIndex:11},{value:"(bool, bool) -> bool",paraId:49,tocIndex:11},{value:"\u76F8\u7B49\u3002",paraId:49,tocIndex:11},{value:"ne",paraId:49,tocIndex:11},{value:"(bool, bool) -> bool",paraId:49,tocIndex:11},{value:"\u4E0D\u76F8\u7B49\u3002",paraId:49,tocIndex:11},{value:"\u51FD\u6570",paraId:50,tocIndex:12},{value:"\u7C7B\u578B",paraId:50,tocIndex:12},{value:"\u89E3\u91CA",paraId:50,tocIndex:12},{value:"len",paraId:50,tocIndex:12},{value:"(*T) -> int",paraId:50,tocIndex:12},{value:"\u83B7\u53D6\u6570\u636E\u96C6\u5408\u7684\u6570\u91CF\u3002",paraId:50,tocIndex:12},{value:"max",paraId:50,tocIndex:12},{value:"(*int) -> int",paraId:50,tocIndex:12},{value:"\u67E5\u627E\u6700\u5927\u503C\u3002",paraId:50,tocIndex:12},{value:"min",paraId:50,tocIndex:12},{value:"(*int) -> int",paraId:50,tocIndex:12},{value:"\u67E5\u627E\u6700\u5C0F\u503C\u3002",paraId:50,tocIndex:12},{value:"sum",paraId:50,tocIndex:12},{value:"(*int) -> int",paraId:50,tocIndex:12},{value:"\u6C42\u548C\u3002",paraId:50,tocIndex:12},{value:"find",paraId:50,tocIndex:12},{value:"(*T0) -> T1",paraId:50,tocIndex:12},{value:"\u4ECE\u4E00\u4E2A\u96C6\u5408\u4E2D\uFF0C\u901A\u8FC7\u4E3B\u952E\u67E5\u627E\u6570\u636E\u3002",paraId:50,tocIndex:12},{value:"\u51FD\u6570",paraId:51,tocIndex:13},{value:"\u7C7B\u578B",paraId:51,tocIndex:13},{value:"\u89E3\u91CA",paraId:51,tocIndex:13},{value:"output",paraId:51,tocIndex:13},{value:"((...) -> bool) -> ",paraId:51,tocIndex:13},{value:"\u8F93\u51FA query \u5185\u5BB9\u3002",paraId:51,tocIndex:13},{value:"\u51FD\u6570",paraId:52,tocIndex:14},{value:"\u7C7B\u578B",paraId:52,tocIndex:14},{value:"\u89E3\u91CA",paraId:52,tocIndex:14},{value:"load",paraId:52,tocIndex:14},{value:"(string) -> T",paraId:52,tocIndex:14},{value:"\u52A0\u8F7D database \u3002",paraId:52,tocIndex:14},{value:"\u51FD\u6570",paraId:53,tocIndex:15},{value:"\u7C7B\u578B",paraId:53,tocIndex:15},{value:"\u89E3\u91CA",paraId:53,tocIndex:15},{value:"to<T>",paraId:53,tocIndex:15},{value:"(self) -> T",paraId:53,tocIndex:15},{value:"\u8F6C\u6362\u5230\u5176\u4ED6\u7C7B\u578B\u7684 schema\uFF0C\u91C7\u7528 duck type \u68C0\u6D4B\u3002",paraId:53,tocIndex:15},{value:"is<T>",paraId:53,tocIndex:15},{value:"(self) -> bool",paraId:53,tocIndex:15},{value:"\u5224\u65AD\u662F\u5426\u53EF\u4EE5\u662F\u5176\u4ED6\u7C7B\u578B\u7684 schema\uFF0C\u91C7\u7528 duck type \u68C0\u6D4B\u3002\u5982\u679C\u81EA\u8EAB schema \u6709\u4E3B\u952E\uFF0C\u5219\u5E95\u5C42\u53EA\u4F1A\u901A\u8FC7\u4E3B\u952E\u5224\u65AD\u662F\u5426\u53EF\u4EE5\u662F\u5176\u4ED6\u7C7B\u578B\u3002",paraId:53,tocIndex:15},{value:"key_eq",paraId:53,tocIndex:15},{value:"(self, T) -> bool",paraId:53,tocIndex:15},{value:"\u68C0\u67E5\u4E24\u4E2A schema \u5B9E\u4F8B\u7684\u4E3B\u952E\u662F\u5426\u76F8\u7B49\u3002",paraId:53,tocIndex:15},{value:"key_neq",paraId:53,tocIndex:15},{value:"(self, T) -> bool",paraId:53,tocIndex:15},{value:"\u68C0\u67E5\u4E24\u4E2A schema \u5B9E\u4F8B\u7684\u4E3B\u952E\u662F\u5426\u4E0D\u7B49\u3002",paraId:53,tocIndex:15},{value:"schema native \u51FD\u6570\u5B9E\u4F8B\uFF1A",paraId:54,tocIndex:15},{value:`use coref::java::*

fn default_java_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

fn example() -> bool {
    for(stmt in StatementParent(default_java_db())) {
        if (stmt.is<ElementParent>()) {
            return true
        }
    }
}

fn convert() -> *ElementParent {
    for(stmt in StatementParent(default_java_db())) {
        yield stmt.to<ElementParent>()
    }
}
`,paraId:55,tocIndex:15},{value:"main",paraId:40},{value:"main",paraId:56,tocIndex:17},{value:"\u51FD\u6570\u662F G\xF6delScript \u4E2D\u552F\u4E00\u4E0D\u58F0\u660E\u8FD4\u56DE\u503C\u7684\u51FD\u6570\u3002",paraId:56,tocIndex:17},{value:"main",paraId:56,tocIndex:17},{value:"\u51FD\u6570\u53EA\u5141\u8BB8\u4F7F\u7528",paraId:56,tocIndex:17},{value:"output",paraId:56,tocIndex:17},{value:"\uFF0C\u5176\u4ED6\u8BED\u53E5\u4F1A\u5BFC\u81F4\u7F16\u8BD1\u9519\u8BEF\uFF1B\u591A\u6B21\u4F7F\u7528",paraId:56,tocIndex:17},{value:"output(...)",paraId:56,tocIndex:17},{value:"\u53EF\u4EE5\u8F93\u51FA\u591A\u4E2A\u67E5\u8BE2\u7ED3\u679C\uFF0C\u67E5\u8BE2\u7ED3\u679C\u4F1A\u5206\u8868\u663E\u793A\uFF0C\u8868\u540D\u5373\u4E3A",paraId:56,tocIndex:17},{value:"output",paraId:56,tocIndex:17},{value:"\u4E2D\u8C03\u7528\u7684\u67E5\u8BE2\u51FD\u6570\u7684\u51FD\u6570\u540D\u3002",paraId:56,tocIndex:17},{value:"\u67E5\u8BE2\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u7C7B\u578B\u63A8\u8350\u4E3A",paraId:57,tocIndex:18},{value:"bool",paraId:57,tocIndex:18},{value:"\uFF0C\u9700\u8981\u8F93\u51FA\u67E5\u8BE2\u7ED3\u679C\u65F6\uFF0C\u9700\u8981\u4F7F\u7528",paraId:57,tocIndex:18},{value:"output()",paraId:57,tocIndex:18},{value:"\u51FD\u6570\u3002",paraId:57,tocIndex:18},{value:"\u5728",paraId:58,tocIndex:18},{value:"output()",paraId:58,tocIndex:18},{value:"\u4E2D\u8C03\u7528\u7684\u67E5\u8BE2\u51FD\u6570\u4E0D\u518D\u662F\u5E38\u89C4\u601D\u8DEF\u4E2D\u7684\u7528\u4F20\u53C2\u8C03\u7528\u51FD\u6570\u3002\u53C2\u6570\u5217\u8868\u5728\u6B64\u65F6\u4F1A\u53D8\u5316\u4E3A\u8F93\u51FA\u8868\u7684\u8868\u7ED3\u6784\uFF0C\u4E0B\u9762\u662F\u4E24\u4E2A\u67E5\u8BE2\u51FD\u6570\u7684\u5E94\u7528\u5B9E\u4F8B\uFF1A",paraId:58,tocIndex:18},{value:"\u5355\u8868",paraId:59,tocIndex:18},{value:"output",paraId:59,tocIndex:18},{value:"\u5355\u8868",paraId:60,tocIndex:18},{value:"output",paraId:60,tocIndex:18},{value:"\u7279\u6307\u5728",paraId:60,tocIndex:18},{value:"main",paraId:60,tocIndex:18},{value:"\u51FD\u6570\u4E2D\uFF0C\u53EA\u4F7F\u7528\u4E00\u6B21",paraId:60,tocIndex:18},{value:"output",paraId:60,tocIndex:18},{value:"\u6765\u8F93\u51FA\u3002",paraId:60,tocIndex:18},{value:`fn example(a: int, b: string) -> bool {...}

fn main() {
    output(example()) // \u6B64\u65F6\u53C2\u6570\u5217\u8868\u53D8\u4E3A\u8F93\u51FA\u8868\u7ED3\u6784\uFF0C\u4E0D\u9700\u8981\u4F20\u53C2
}
`,paraId:61,tocIndex:18},{value:"\u5BF9\u5E94\u7684\u8F93\u51FA\u8868\u7ED3\u6784\u4E3A:",paraId:62,tocIndex:18},{value:`[
  { "a": 0, "b": "xxx" },
  { "a": 1, "b": "xxx" }
]
`,paraId:63,tocIndex:18},{value:"\u591A\u8868",paraId:64,tocIndex:18},{value:"output",paraId:64,tocIndex:18},{value:"\u591A\u8868",paraId:65,tocIndex:18},{value:"output",paraId:65,tocIndex:18},{value:"\u662F\u6307\u5728",paraId:65,tocIndex:18},{value:"main",paraId:65,tocIndex:18},{value:"\u51FD\u6570\u4E2D\uFF0C\u4F7F\u7528\u591A\u6B21",paraId:65,tocIndex:18},{value:"output",paraId:65,tocIndex:18},{value:"\u6765\u8F93\u51FA\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u8F93\u51FA\u6570\u636E\u4F1A\u9644\u5E26\u5BF9\u5E94\u7684\u8868\u540D\u3002",paraId:65,tocIndex:18},{value:`fn example0(a: int, b: string) -> bool {...}
fn example1(a: string, b: int) -> bool {...}

fn main() {
    output(example0())
    output(example1())
}
`,paraId:66,tocIndex:18},{value:"\u5BF9\u5E94\u7684\u8F93\u51FA\u8868\u7ED3\u6784\u4E3A:",paraId:67,tocIndex:18},{value:`{
  "example0": [
    { "a": 0, "b": "xxx" },
    { "a": 1, "b": "xxx" }
  ],
  "example1": [
    { "a": "xxx", "b": 0 },
    { "a": "xxx", "b": 1 }
  ]
}
`,paraId:68,tocIndex:18},{value:"\u4E0B\u9762\u662F\u4E00\u4E2A\u6BD4\u8F83\u8BE6\u7EC6\u7684\u4F8B\u5B50\uFF0C\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u76F4\u63A5\u6784\u9020\u4E86\u4E24\u7EC4\u6570\u636E\u5E76\u8F93\u51FA\u3002\u5728\u4E0B\u5217\u4EE3\u7801\u4E2D\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF1A",paraId:69,tocIndex:18},{value:"G\xF6delScript \u4E2D\uFF0C\u5E03\u5C14\u503C\u53EF\u4EE5\u4F7F\u7528",paraId:70,tocIndex:18},{value:"true",paraId:70,tocIndex:18},{value:"\u548C",paraId:70,tocIndex:18},{value:"false",paraId:70,tocIndex:18},{value:"\u5173\u952E\u5B57\u3002",paraId:70,tocIndex:18},{value:"=",paraId:71,tocIndex:18},{value:"\u7B26\u53F7\u5728 G\xF6delScript \u4E2D\u662F\u6BD4\u8F83\u7279\u6B8A\u7684\u7B26\u53F7\uFF0C\u4E0D\u80FD\u7528\u5E38\u89C4\u7684\u7F16\u7A0B\u8BED\u8A00\u7684\u601D\u8DEF\u6765\u7406\u89E3\u3002G\xF6delScript \u662F\u4E00\u79CD Datalog \u8BED\u8A00\u3002\u5728\u8FD9\u91CC\uFF0C",paraId:71,tocIndex:18},{value:"=",paraId:71,tocIndex:18},{value:"\u7B26\u53F7\u540C\u65F6\u5177\u5907\u4E24\u79CD\u8BED\u4E49\uFF0C\u4E00\u4E2A\u662F ",paraId:71,tocIndex:18},{value:"\u8D4B\u503C",paraId:71,tocIndex:18},{value:" \u4E00\u4E2A\u662F ",paraId:71,tocIndex:18},{value:"\u5224\u7B49",paraId:71,tocIndex:18},{value:"\u3002\u8BE6\u60C5\u53EF\u770B",paraId:71,tocIndex:18},{value:"=",paraId:72,tocIndex:18},{value:"\u8FD0\u7B97\u7B26",paraId:72,tocIndex:18},{value:"\u3002",paraId:71,tocIndex:18},{value:"\u5728\u8FD9\u4E2A\u4F8B\u5B50\u7684\u6761\u4EF6\u8BED\u53E5\u4E2D\uFF0C",paraId:73,tocIndex:18},{value:"a",paraId:73,tocIndex:18},{value:"\u548C",paraId:73,tocIndex:18},{value:"b",paraId:73,tocIndex:18},{value:"\u5747\u4F7F\u7528\u4E86",paraId:73,tocIndex:18},{value:"=",paraId:73,tocIndex:18},{value:"\u7684\u8D4B\u503C\u8BED\u4E49\uFF0C\u56E0\u4E3A",paraId:73,tocIndex:18},{value:"int",paraId:73,tocIndex:18},{value:"\u548C",paraId:73,tocIndex:18},{value:"string",paraId:73,tocIndex:18},{value:"\u7C7B\u578B\u53C2\u6570\u5728\u51FD\u6570\u4F53\u4E2D\u88AB\u8BA4\u4E3A\u662F",paraId:73,tocIndex:18},{value:"ungrounded(\u672A\u8D4B\u503C/\u672A\u7ED1\u5B9A)",paraId:73,tocIndex:18},{value:"\uFF0C\u5FC5\u987B\u8981\u88AB\u8D4B\u503C\u624D\u80FD\u4F7F\u7528\u3002",paraId:73,tocIndex:18},{value:"=",paraId:74,tocIndex:18},{value:"\u8D4B\u503C\u8BED\u53E5\u7684\u8FD4\u56DE\u503C\u662F",paraId:74,tocIndex:18},{value:"true",paraId:74,tocIndex:18},{value:"\u3002",paraId:74,tocIndex:18},{value:`fn example(a: int, b: string) -> bool {
    // = \u7B26\u53F7\u540C\u65F6\u5177\u6709\u8D4B\u503C\u548C\u6BD4\u8F83\u7684\u529F\u80FD\uFF0C\u53D6\u51B3\u4E8E\u6B64\u65F6\u7684\u5DE6\u503C\u662F\u5426\u5DF2\u7ECF\u201C\u88AB\u8D4B\u503C\u201D
    // \u8FD9\u91CC\u7684 a \u548C b \u6240\u7528\u7684 = \u7B26\u53F7\u5747\u662F\u8D4B\u503C\u8BED\u4E49
    if (a = 1 && b = "1") {
        // G\xF6delScript \u4F7F\u7528\u5173\u952E\u5B57 true \u548C false \u6765\u8868\u793A\u5E03\u5C14\u503C
        return true
    }
    if (a = 2 && b = "2") {
        return true
    }
}

fn main() {
    output(example())
}
`,paraId:75,tocIndex:18},{value:"\u9884\u671F\u7684\u8F93\u51FA\u7ED3\u679C\u5E94\u8BE5\u4E3A\uFF1A",paraId:76,tocIndex:18},{value:`[
  { "a": 1, "b": "1" },
  { "a": 2, "b": "2" }
]
`,paraId:77,tocIndex:18},{value:`\u666E\u901A\u51FD\u6570\u7528\u4E8E\u5C01\u88C5\u4E00\u4E9B\u590D\u6742\u8FC7\u7A0B\uFF0C\u8FD9\u4E9B\u51FD\u6570\u5FC5\u987B\u8981\u6709\u660E\u786E\u7684\u8FD4\u56DE\u7C7B\u578B\u3002
\u5176\u4E2D\u8FD4\u56DE\u7C7B\u578B\u53EF\u4EE5\u5B58\u5728\u4E24\u79CD\u60C5\u51B5:`,paraId:78,tocIndex:19},{value:"\u5355\u4E2A\u8FD4\u56DE\u503C\uFF0C\u7BAD\u5934\u540E\u9762\u58F0\u660E\u8FD4\u56DE\u503C\u7C7B\u578B\u3002",paraId:79,tocIndex:19},{value:`fn getFile(c: Class) -> File {
    return c.getRelativePath()
}
`,paraId:80,tocIndex:19},{value:"\u8FD4\u56DE\u96C6\u5408\uFF0C\u7BAD\u5934\u540E\u9762\u7684\u8FD4\u56DE\u503C\u7C7B\u578B\u524D\u9700\u8981\u52A0\u4E0A",paraId:81,tocIndex:19},{value:"*",paraId:81,tocIndex:19},{value:"\u4EE5\u8868\u660E\u5176\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u96C6\u5408\u3002",paraId:81,tocIndex:19},{value:`fn getAllFiles(db: JavaDB) -> *File {
    for (f: File in File(db)) {
        yield f
    }
}
`,paraId:82,tocIndex:19},{value:"\u4E00\u822C\u60C5\u51B5\u4E0B\u8981\u6C42\u5355\u8FD4\u56DE\u503C\u4F7F\u7528",paraId:83,tocIndex:19},{value:"return",paraId:83,tocIndex:19},{value:"\u8BED\u53E5\uFF0C\u800C\u591A\u8FD4\u56DE\u503C/\u8FD4\u56DE\u96C6\u5408\u4F7F\u7528",paraId:83,tocIndex:19},{value:"yield",paraId:83,tocIndex:19},{value:`\u8BED\u53E5\u3002
\u5B9E\u9645\u4F7F\u7528\u4E2D\uFF0C\u7531\u4E8E G\xF6delScript \u5E95\u5C42\u4F7F\u7528 Datalog \u5F15\u64CE\uFF0C\u6545\u4EFB\u4F55\u7684\u8FD0\u7B97\u90FD\u662F\u57FA\u4E8E\u96C6\u5408\u7684\uFF0C\u5355\u8FD4\u56DE\u503C\u5B9E\u9645\u4E0A\u4EC5\u4EC5\u610F\u5473\u7740\u8FD4\u56DE\u7684\u96C6\u5408\u53EF\u80FD\u53EA\u5305\u542B\u4E00\u4E2A\u6570\u636E\uFF0C\u4F46\u662F\u4E5F\u53EF\u80FD\u5305\u542B\u591A\u4E2A\u6570\u636E\u3002`,paraId:83,tocIndex:19},{value:"G\xF6delScript \u4F7F\u7528",paraId:84,tocIndex:21},{value:"for",paraId:84,tocIndex:21},{value:"\u5173\u952E\u5B57\u548C\u7C7B\u4F3C\u5FAA\u73AF\u8BED\u53E5\u7684\u8BED\u6CD5\u6765\u4ECE\u96C6\u5408\u4E2D\u58F0\u660E\u53D8\u91CF\uFF1A",paraId:84,tocIndex:21},{value:`for(f: File in getAllFiles()) {
    ...
}
`,paraId:85,tocIndex:21},{value:"\u5176\u4E2D",paraId:86,tocIndex:21},{value:"f: File",paraId:86,tocIndex:21},{value:"\uFF0C\u5192\u53F7\u540E\u9762\u8DDF\u7740\u7684\u662F",paraId:86,tocIndex:21},{value:"f",paraId:86,tocIndex:21},{value:`\u7684\u7C7B\u578B\uFF0C\u53EF\u7701\u7565\u3002
`,paraId:86,tocIndex:21},{value:"for",paraId:86,tocIndex:21},{value:"\u8BED\u53E5\u4E2D\u5141\u8BB8\u76F4\u63A5\u5B9A\u4E49\u591A\u4E2A\u53D8\u91CF\uFF0C\u540E\u9762\u5B9A\u4E49\u7684\u53D8\u91CF\u5728\u521D\u59CB\u5316\u65F6\u53EF\u4F7F\u7528\u540C\u4E00\u8BED\u53E5\u4E2D\u5728\u5B83\u524D\u9762\u5B9A\u4E49\u7684\u6240\u6709\u53D8\u91CF:",paraId:86,tocIndex:21},{value:`for(a in XmlAttribute(db), b in XmlAttribute(db), c in XmlElement(db)) {
    ...
}

for(a in getAllFiles(), b in a.getAllPaths()) {
    ...
}
`,paraId:87,tocIndex:21},{value:"G\xF6delScript \u4F7F\u7528 ",paraId:88,tocIndex:22},{value:"let",paraId:88,tocIndex:22},{value:"\u5173\u952E\u5B57\u6765\u58F0\u660E\u4E00\u4E2A\u5355\u4E00/\u4E2D\u95F4\u53D8\u91CF\uFF1A",paraId:88,tocIndex:22},{value:`let(f: File = c.getRelativePath()) {
    ...
}
`,paraId:89,tocIndex:22},{value:"\u5176\u4E2D",paraId:90,tocIndex:22},{value:"f: File",paraId:90,tocIndex:22},{value:`\uFF0C\u5192\u53F7\u540E\u9762\u7684\u7C7B\u578B\u53EF\u7701\u7565\u3002
`,paraId:90,tocIndex:22},{value:"let",paraId:90,tocIndex:22},{value:"\u8BED\u53E5\u4E2D\u5141\u8BB8\u76F4\u63A5\u5B9A\u4E49\u591A\u4E2A\u53D8\u91CF\uFF0C\u540E\u9762\u5B9A\u4E49\u7684\u53D8\u91CF\u5728\u521D\u59CB\u5316\u65F6\u53EF\u4F7F\u7528\u540C\u4E00\u8BED\u53E5\u4E2D\u5728\u5B83\u524D\u9762\u5B9A\u4E49\u7684\u6240\u6709\u53D8\u91CF:",paraId:90,tocIndex:22},{value:`let(a = 1, b = a + 1, c = b + 1) {
    ...
}
`,paraId:91,tocIndex:22},{value:"G\xF6delScript \u7684\u6761\u4EF6\u8BED\u53E5\u4E0E\u8BB8\u591A\u8FC7\u7A0B\u5F0F\u7A0B\u5E8F\u8BED\u8A00\u7C7B\u4F3C\uFF1A",paraId:92,tocIndex:23},{value:`if (f.getName().contains("util") || f.getName().contains("com")) {
    ...
}
`,paraId:93,tocIndex:23},{value:"\u6761\u4EF6\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E9B\u903B\u8F91\u8FD0\u7B97\u7B26\u8FDB\u884C\u8FDE\u63A5\uFF1A",paraId:94,tocIndex:23},{value:"!",paraId:94,tocIndex:23},{value:"\u53D6\u53CD\uFF0C",paraId:94,tocIndex:23},{value:"||",paraId:94,tocIndex:23},{value:"\u6216\uFF0C",paraId:94,tocIndex:23},{value:"&&",paraId:94,tocIndex:23},{value:"\u4E0E\u3002",paraId:94,tocIndex:23},{value:"\u6761\u4EF6\u4E2D\u7684\u6BD4\u8F83\u8FD0\u7B97\u7B26\uFF1A",paraId:95,tocIndex:23},{value:">",paraId:95,tocIndex:23},{value:"\u5927\u4E8E\uFF0C",paraId:95,tocIndex:23},{value:"<",paraId:95,tocIndex:23},{value:"\u5C0F\u4E8E\uFF0C",paraId:95,tocIndex:23},{value:">=",paraId:95,tocIndex:23},{value:"\u5927\u4E8E\u7B49\u4E8E\uFF0C",paraId:95,tocIndex:23},{value:"<=",paraId:95,tocIndex:23},{value:"\u5C0F\u4E8E\u7B49\u4E8E\uFF0C",paraId:95,tocIndex:23},{value:"=",paraId:95,tocIndex:23},{value:"\u7B49\u4E8E\u6216\u8005\u8D4B\u503C\uFF0C",paraId:95,tocIndex:23},{value:"!=",paraId:95,tocIndex:23},{value:"\u4E0D\u7B49\u4E8E\u3002",paraId:95,tocIndex:23},{value:"\u5E38\u89C4\u7B97\u672F\u8FD0\u7B97\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u8FD0\u7B97\u7B26\uFF1A",paraId:96,tocIndex:23},{value:"+",paraId:96,tocIndex:23},{value:"\u52A0\u6CD5\uFF0C",paraId:96,tocIndex:23},{value:"-",paraId:96,tocIndex:23},{value:"\u51CF\u6CD5/\u53D6\u8D1F\uFF0C",paraId:96,tocIndex:23},{value:"*",paraId:96,tocIndex:23},{value:"\u4E58\u6CD5\uFF0C",paraId:96,tocIndex:23},{value:"/",paraId:96,tocIndex:23},{value:"\u9664\u6CD5\u3002",paraId:96,tocIndex:23},{value:"=",paraId:40},{value:"=",paraId:97,tocIndex:24},{value:"\u7B26\u53F7\u5728 G\xF6delScript \u4E2D\u5177\u6709\u4E24\u79CD\u4E0D\u540C\u7684\u8BED\u4E49\uFF1A\u8D4B\u503C\u548C\u5224\u7B49\uFF0C\u5177\u4F53\u7684\u8BED\u4E49\u9700\u8981\u5206\u60C5\u51B5\u8FDB\u884C\u8BA8\u8BBA:",paraId:97,tocIndex:24},{value:"\u8D4B\u503C",paraId:98,tocIndex:24},{value:"\u8D4B\u503C\u4E00\u822C\u51FA\u73B0\u5728",paraId:99,tocIndex:24},{value:"int",paraId:99,tocIndex:24},{value:" ",paraId:99,tocIndex:24},{value:"string",paraId:99,tocIndex:24},{value:"\u8FD9\u7C7B\u57FA\u7840\u7C7B\u578B\u7684\u53D8\u91CF\u53C2\u6570\u4E0A\uFF0C\u8FD9\u7C7B\u53D8\u91CF\u4F5C\u4E3A\u51FD\u6570\u7684\u53C2\u6570\u51FA\u73B0\u65F6\uFF0C\u4E00\u822C\u88AB\u8BA4\u4E3A\u662F\u672A\u8D4B\u503C\u7684\u3002\u800C\u5177\u6709\u8FD9\u7C7B\u53D8\u91CF\u7684\u51FD\u6570\u88AB\u8C03\u7528\u65F6\uFF0C\u4F20\u5165\u7684\u53C2\u6570\uFF0C\u5B9E\u9645\u4E0A\u662F\u4F5C\u4E3A\u7B5B\u9009\u6761\u4EF6\u5B58\u5728\u3002",paraId:99,tocIndex:24},{value:`fn example(a: int) -> bool {
    // \u8FD9\u91CC\u6BD4\u8F83\u53CD\u76F4\u89C9\uFF0C\u5728\u8FC7\u7A0B\u5F0F\u8BED\u8A00\u4E2D\uFF0C\u8FD9\u91CC\u901A\u5E38\u4F1A\u88AB\u8BA4\u4E3A\u662F\u5224\u65AD a == 1
    // \u4F46\u662F\u5728 datalog \u65B9\u8A00\u4E2D\uFF0Cdatalog \u7684\u6BCF\u4E2A\u51FD\u6570\u5B9E\u9645\u4E0A\u90FD\u662F\u5728\u7B97\u4E00\u4E2A\u4E2D\u95F4\u8868 (view)
    // \u6240\u4EE5\u8FD9\u4E2A\u51FD\u6570\u672C\u8D28\u4E0A\u662F\u751F\u6210\u4E86\u4E00\u4E2A view\uFF0C\u6570\u636E\u4E3A [{"a": 1}]
    return a = 1 // assign a = 1
}

fn test() -> bool {
    // \u8FD9\u91CC\u770B\u4F3C\u662F\u5728\u901A\u8FC7\u4F20\u53C2\u8BA9 a = 2\uFF0C\u5B9E\u9645\u4E0A\u5E76\u4E0D\u662F
    // example() \u81EA\u5DF1\u4F1A\u8FD4\u56DE view: [{"a": 1}]
    // \u7136\u540E\u901A\u8FC7 a = 2 \u6765\u7EA6\u675F\u7ED3\u679C\uFF0C\u53EF\u4EE5\u770B\u5230\uFF0C\u6211\u4EEC\u8FD9\u91CC\u6CA1\u6709\u62FF\u5230\u4EFB\u4F55\u7ED3\u679C
    // \u6240\u4EE5\u8FD4\u56DE\u4E86 false
    return example(2) // false
}
`,paraId:100,tocIndex:24},{value:"\u5224\u7B49",paraId:101,tocIndex:24},{value:"\u5BF9\u4E8E schema \u7C7B\u578B\u6765\u8BF4\uFF0C\u4EFB\u4F55\u4E00\u4E2A schema \u80CC\u540E\u90FD\u6709\u4E00\u4E2A\u5168\u96C6\uFF0C\u6240\u4EE5\u53C2\u6570\u5217\u8868\u4E2D\u7684 schema \u7C7B\u578B\u4E00\u822C\u88AB\u8BA4\u4E3A\u662F\u5DF2\u7ECF\u88AB\u8D4B\u503C\u7684\u3002\u5BF9\u4E8E\u5DF2\u7ECF\u8D4B\u503C\u7684\u53D8\u91CF\u6765\u8BF4\uFF0C",paraId:102,tocIndex:24},{value:"=",paraId:102,tocIndex:24},{value:"\u5C31\u662F\u5224\u7B49\u64CD\u4F5C\u3002",paraId:102,tocIndex:24},{value:`// \u58F0\u660E schema
schema A {...}

// \u5B9E\u73B0 schema \u7684\u6210\u5458\u51FD\u6570
impl A {
    // \u8FD9\u91CC\u5B9A\u4E49\u4E86 schema A \u7684\u5168\u96C6
    @data_constraint
    pub fn __all__() -> *A {...}
}

fn example(a: A) -> bool {
    for(temp in A::__all__()) {
        if (a = temp) {
            return true
        }
    }
}
`,paraId:103,tocIndex:24},{value:"\u540C\u6837\uFF0C\u5BF9\u4E8E\u4E2D\u95F4\u58F0\u660E\u7684\u6709\u521D\u59CB\u503C\u7684",paraId:104,tocIndex:24},{value:"int",paraId:104,tocIndex:24},{value:"\u6216\u8005",paraId:104,tocIndex:24},{value:"string",paraId:104,tocIndex:24},{value:"\uFF0C",paraId:104,tocIndex:24},{value:"=",paraId:104,tocIndex:24},{value:"\u4E5F\u662F\u5224\u7B49\u64CD\u4F5C\u3002",paraId:104,tocIndex:24},{value:`fn example() -> bool {
    let (a = 1) { // assign a = 1
        if (a = 1) { // compare a = 1
            return true
        }
    }
}
`,paraId:105,tocIndex:24},{value:"G\xF6delScript \u5141\u8BB8\u5BF9",paraId:106,tocIndex:25},{value:"int",paraId:106,tocIndex:25},{value:"\u548C",paraId:106,tocIndex:25},{value:"string",paraId:106,tocIndex:25},{value:"\u7C7B\u578B\u7F16\u5199 match \u8BED\u53E5\uFF0Cmatch \u8BED\u53E5\u662F\u7C7B\u4F3C switch \u7684\u591A\u6761\u4EF6\u5206\u652F\u8BED\u53E5\uFF0Cmatch \u7684\u6761\u4EF6\u5FC5\u987B\u4E3A\u5B57\u9762\u91CF:",paraId:106,tocIndex:25},{value:`match(a) {
    1 => return 0,
    2 => return 1,
    3 => if (a + 1 < 10) {
        return 10
    }
}
`,paraId:107,tocIndex:25},{value:"G\xF6delScript \u4F7F\u7528",paraId:108,tocIndex:26},{value:"return",paraId:108,tocIndex:26},{value:"\u548C",paraId:108,tocIndex:26},{value:"yield",paraId:108,tocIndex:26},{value:"\u3002",paraId:108,tocIndex:26},{value:"return",paraId:108,tocIndex:26},{value:"\u7528\u4E8E\u5355\u4E2A\u8FD4\u56DE\u503C\u7684\u51FD\u6570\uFF0C",paraId:108,tocIndex:26},{value:"yield",paraId:108,tocIndex:26},{value:"\u7528\u4E8E\u96C6\u5408\u7684\u8FD4\u56DE\u3002",paraId:108,tocIndex:26},{value:`fn a() -> int {
    return 0
}

fn b() -> *int {
    yield 1
    yield 2
    yield 3
}
`,paraId:109,tocIndex:26},{value:"Schema \u662F G\xF6delScript \u4E2D\u7684\u590D\u6742\u6570\u636E\u8868\u7684\u7ED3\u6784\u3002",paraId:110,tocIndex:27},{value:"G\xF6delScript \u4F7F\u7528",paraId:111,tocIndex:28},{value:"schema",paraId:111,tocIndex:28},{value:"\u5173\u952E\u5B57\u6765\u58F0\u660E\u4E00\u4E2A\u8868\u7ED3\u6784:",paraId:111,tocIndex:28},{value:`schema File {
    id: int,
    name: string
}
`,paraId:112,tocIndex:28},{value:"\u5982\u679C\u67D0\u4E2A\u5B57\u6BB5\u5728\u6570\u636E\u5E93\u4E2D\u662F\u4F5C\u4E3A\u4E3B\u952E\u5B58\u5728\u7684\uFF0C\u53EF\u4EE5\u4F7F\u7528",paraId:113,tocIndex:28},{value:"@primary",paraId:113,tocIndex:28},{value:"\u6CE8\u89E3\u6765\u8868\u660E\u5176\u4E3A\u4E3B\u952E:",paraId:113,tocIndex:28},{value:`schema File {
    @primary id: int,
    name: string
}
`,paraId:114,tocIndex:28},{value:"\u6709\u4E3B\u952E\u7684\u8868\u7ED3\u6784\u4F1A\u4F7F\u5F97\u67E5\u8BE2\u901F\u5EA6\u5F97\u5230\u663E\u8457\u63D0\u5347\uFF0C\u6240\u4EE5\u5C3D\u91CF\u7ED1\u5B9A\u4E00\u4E2A\u4E3B\u952E\uFF0C\u4E3B\u952E\u5E94\u5C3D\u91CF\u4E3A",paraId:115,tocIndex:28},{value:"**int**",paraId:115,tocIndex:28},{value:"\u7C7B\u578B\u3002",paraId:115,tocIndex:28},{value:"G\xF6delScript \u4F7F\u7528\u5982\u4E0B\u65B9\u5F0F\u6765\u58F0\u660E\u548C\u5B9E\u73B0",paraId:116,tocIndex:29},{value:"schema",paraId:116,tocIndex:29},{value:"\u7684\u76F8\u5173\u65B9\u6CD5\uFF1A",paraId:116,tocIndex:29},{value:`impl File {
    // \u9759\u6001\u65B9\u6CD5
    fn f1() -> ... {...}
    // \u6210\u5458\u65B9\u6CD5\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u5FC5\u987B\u4E3A self
    fn f2(self) -> ... {...}
    ...
}
`,paraId:117,tocIndex:29},{value:"\u9759\u6001\u65B9\u6CD5\u4E0D\u9700\u8981",paraId:118,tocIndex:30},{value:"self",paraId:118,tocIndex:30},{value:"\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u4F7F\u7528\u65B9\u5F0F\u5F88\u7B80\u5355\uFF0C",paraId:118,tocIndex:30},{value:"\u7C7B\u540D::\u65B9\u6CD5\u540D(...)",paraId:118,tocIndex:30},{value:"\u3002",paraId:118,tocIndex:30},{value:`impl File {
    fn getSchemaName() -> string {
        return "File"
    }
}

fn out(t: string) -> bool {
    if (t = File::getSchemaName()) {
        return true
    }
}
`,paraId:119,tocIndex:30},{value:"\u6210\u5458\u65B9\u6CD5\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u5FC5\u987B\u4E3A",paraId:120,tocIndex:31},{value:"self",paraId:120,tocIndex:31},{value:"\uFF0C\u8BE5\u53C2\u6570\u65E0\u9700\u5199\u660E\u7C7B\u578B\u3002\u8FD9\u7C7B\u51FD\u6570\u7684\u8C03\u7528\u65B9\u5F0F\u662F",paraId:120,tocIndex:31},{value:"\u5B9E\u4F8B\u540D.\u51FD\u6570\u540D(...)",paraId:120,tocIndex:31},{value:"\u3002",paraId:120,tocIndex:31},{value:`impl File {
    fn getName(self) -> string {
        return self.name
    }
}

fn out(path: string) -> bool {
    let (db = JavaDB::load("coref_java_src.db")) {
        for (f in File::__all__(db)) {
            if (path = f.getName()) {
                return true
            }
        }
    }
}
`,paraId:121,tocIndex:31},{value:"fn __all__(db)",paraId:40},{value:"schema",paraId:122,tocIndex:32},{value:"\u53EF\u4EE5\u5305\u542B\u4E00\u4E2A\u7279\u522B\u7684",paraId:122,tocIndex:32},{value:"\u9759\u6001\u65B9\u6CD5",paraId:122,tocIndex:32},{value:"\uFF0C\u7528\u4E8E\u52A0\u8F7D\u5B83\u5728\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\u96C6\u3002",paraId:122,tocIndex:32},{value:`impl File {
    @data_constraint
    fn __all__(db: JavaDB) -> *File {
        ...
    }
}
`,paraId:123,tocIndex:32},{value:"\u8FD9\u79CD\u65B9\u6CD5\u5FC5\u987B\u5305\u542B\u7279\u6B8A\u6CE8\u89E3",paraId:124,tocIndex:32},{value:"@data_constraint",paraId:124,tocIndex:32},{value:"\uFF0C\u8868\u660E\u8BE5\u65B9\u6CD5\u4E13\u7528\u4E8E\u52A0\u8F7D\uFF0C\u5982\u679C\u4E0D\u5199\u8BE5\u6CE8\u89E3\uFF0C\u5219\u8BE5\u65B9\u6CD5\u7684\u8FD4\u56DE\u4E3A",paraId:124,tocIndex:32},{value:"\u7A7A\u96C6\u5408",paraId:124,tocIndex:32},{value:"\u3002\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u7C7B\u578B\u5FC5\u987B\u4E3A\u5176\u672C\u8EAB\u7684\u96C6\u5408\u3002",paraId:124,tocIndex:32},{value:"\u5305\u542B\u4E86\u8BE5\u65B9\u6CD5\u7684",paraId:125,tocIndex:32},{value:"schema",paraId:125,tocIndex:32},{value:"\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u8BED\u6CD5\u7CD6\u6765\u83B7\u53D6\u5176\u5168\u96C6\uFF1A",paraId:125,tocIndex:32},{value:`fn out() -> bool {
    for(f in File(JavaDB::load("..."))) {
        ...
    }
    ...
}
// \u7B49\u4EF7\u4E8E
fn out() -> bool {
    for(f in File::__all__(JavaDB::load("..."))) {
        ...
    }
    ...
}
`,paraId:126,tocIndex:32},{value:"schema",paraId:127,tocIndex:33},{value:"\u5141\u8BB8\u4F7F\u7528\u4E0D\u540C\u4E8E",paraId:127,tocIndex:33},{value:"__all__",paraId:127,tocIndex:33},{value:"\u540D\u79F0\u7684",paraId:127,tocIndex:33},{value:"\u9759\u6001\u65B9\u6CD5",paraId:127,tocIndex:33},{value:"\u6765\u8868\u660E\u4E00\u4E9B\u96C6\u5408\u4E5F\u5B58\u5728\u4E8E\u8BE5\u7C7B\u578B\u7684\u5168\u96C6\u4E2D\u3002\u8BE5\u65B9\u6CD5\u4E5F\u5FC5\u987B\u5305\u542B\u7279\u6B8A\u6CE8\u89E3",paraId:127,tocIndex:33},{value:"@data_constraint",paraId:127,tocIndex:33},{value:"\u3002\u8BE5\u65B9\u6CD5\u4E00\u822C\u7528\u4E8E\u624B\u52A8\u6DFB\u52A0\u4E00\u4E9B\u6570\u636E\u5230\u8BE5\u7C7B\u578B\u7684\u5168\u96C6\u4E2D\u3002",paraId:127,tocIndex:33},{value:`impl File {
    @data_constraint
    fn extend_example() -> *File {
        yield File {id: 1234567}
    }
}
`,paraId:128,tocIndex:33},{value:"G\xF6delScript \u5141\u8BB8\u7528\u4E00\u4E2A\u7279\u5B9A\u8BED\u6CD5\u751F\u6210\u533F\u540D\u5B9E\u4F8B\u3002\u751F\u6210\u533F\u540D\u5B9E\u4F8B\u7684\u524D\u63D0\u662F\u8BE5\u5B9E\u4F8B\u5B58\u5728\u4E8E\u8BE5",paraId:129,tocIndex:34},{value:"schema",paraId:129,tocIndex:34},{value:"\u7684\u5168\u96C6\u4E2D\uFF0C\u9664\u975E\u8BE5\u7528\u6CD5\u51FA\u73B0\u5728",paraId:129,tocIndex:34},{value:"@data_constraint",paraId:129,tocIndex:34},{value:"\u65B9\u6CD5\u4E2D\uFF0C\u5426\u5219\u7ED3\u679C\u4E3A\u7A7A\u3002",paraId:129,tocIndex:34},{value:`schema A {
    @primary id: int,
    name: string
}
`,paraId:130,tocIndex:34},{value:"\u5BF9\u5E94\u7684\u5E94\u8BE5\u4F7F\u7528\u5982\u4E0B\u8BED\u6CD5\u6765\u8FDB\u884C\u533F\u540D\u5B9E\u4F8B\u7684\u751F\u6210:",paraId:131,tocIndex:34},{value:`A {id: 1, name: "first"}
`,paraId:132,tocIndex:34},{value:"G\xF6delScript \u4E2D\uFF0C",paraId:133,tocIndex:35},{value:"schema",paraId:133,tocIndex:35},{value:"\u7EE7\u627F\u975E\u5E38\u4FBF\u6377\uFF0C\u4F7F\u7528\u6837\u4F8B\u5982\u4E0B:",paraId:133,tocIndex:35},{value:`schema MyFile extends File {}
`,paraId:134,tocIndex:35},{value:"\u5B50\u7C7B\u4F1A\u9ED8\u8BA4\u5C06\u7236\u7C7B\u7684\u6240\u6709 field \u7EE7\u627F\u4E0B\u6765\u3002\u6240\u4EE5\u65E0\u9700\u624B\u52A8\u91CD\u5199\u3002",paraId:135,tocIndex:36},{value:`schema File {
    @primary id: int,
    name: string
}

schema MyFile extends File {}
`,paraId:136,tocIndex:36},{value:"\u5B50\u7C7B\u4F1A\u9ED8\u8BA4\u7EE7\u627F\u7236\u7C7B\u7684\u6240\u6709 method\uFF0C\u9664\u4E86\u6807\u6CE8",paraId:137,tocIndex:37},{value:"@data_constraint",paraId:137,tocIndex:37},{value:"\u7684\u65B9\u6CD5\u3002\u6240\u4EE5\u65E0\u9700\u624B\u52A8\u91CD\u5199\u3002\u4F46\u662F\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C",paraId:137,tocIndex:37},{value:"__all__",paraId:137,tocIndex:37},{value:"\u65B9\u6CD5\u8F83\u4E3A\u7279\u6B8A\uFF0C\u4E0D\u4F1A\u88AB\u7EE7\u627F\uFF0C\u6240\u4EE5\u9700\u8981\u91CD\u65B0\u7F16\u5199",paraId:137,tocIndex:37},{value:"__all__",paraId:137,tocIndex:37},{value:"\u65B9\u6CD5\u786E\u5B9A\u7EE7\u627F\u540E\u7684 schema \u7684\u5168\u96C6\u3002",paraId:137,tocIndex:37},{value:`schema File {
    @primary id: int,
    name: string
}

impl File {
    @data_constraint
    fn __all__() -> *File {...}
    fn getId(self) -> int {...}
    fn staticMethod() -> string {return "File"}
}

schema MyFile extends File {}
`,paraId:138,tocIndex:37},{value:"\u5982\u679C\u5B50\u7C7B\u7684\u5B9E\u73B0\u4E2D\u5B58\u5728\u4E0E\u7236\u7C7B\u540C\u540D\u7684\u65B9\u6CD5\uFF0C\u5219\u7236\u7C7B\u7684\u65B9\u6CD5\u4F1A\u88AB\u5B50\u7C7B\u65B9\u6CD5",paraId:139,tocIndex:38},{value:"\u8986\u76D6",paraId:139,tocIndex:38},{value:"\u3002",paraId:139,tocIndex:38},{value:`schema File {
    @primary id: int,
    name: string
}

impl File {
    fn staticMethod() -> string {return "File"}
}

schema MyFile extends File {}

impl MyFile {
    fn staticMethod() -> string {return "MyFile"}
}
`,paraId:140,tocIndex:38},{value:"\u6B64\u65F6",paraId:141,tocIndex:38},{value:"File::staticMethod",paraId:141,tocIndex:38},{value:"\u88AB",paraId:141,tocIndex:38},{value:"MyFile::staticMethod",paraId:141,tocIndex:38},{value:"\u8986\u76D6\uFF0C\u6240\u4EE5\u8C03\u7528\u5B50\u7C7B\u7684\u8BE5\u65B9\u6CD5\u65F6\uFF0C\u83B7\u53D6\u7684\u7ED3\u679C\u4E3A",paraId:141,tocIndex:38},{value:'"MyFile"',paraId:141,tocIndex:38},{value:"\u3002",paraId:141,tocIndex:38},{value:"\u6570\u636E\u5E93\u7684\u58F0\u660E\u683C\u5F0F\u5982\u4E0B:",paraId:142,tocIndex:40},{value:`database DatabaseName {
    // table_name \u5BF9\u5E94\u7684\u662F db \u4E2D\u771F\u5B9E\u7684\u8868\u540D
    // GodelSchemaType \u5BF9\u5E94\u7684\u662F\u5C06\u8868\u6570\u636E\u8BFB\u5165 godel \u540E\uFF0C\u5B58\u50A8\u7684\u5BF9\u5E94\u7684 schema
    table_name : *GodelSchemaType
}
`,paraId:143,tocIndex:40},{value:"\u5192\u53F7\u524D\u662F\u52A0\u8F7D\u7684\u6570\u636E\u5E93\u4E2D\u7684",paraId:144,tocIndex:40},{value:"\u771F\u5B9E\u8868\u540D",paraId:144,tocIndex:40},{value:"\uFF0C\u5192\u53F7\u540E\u662F\u5176\u5BF9\u5E94\u7684",paraId:144,tocIndex:40},{value:"\u6570\u636E\u8868\u683C\u5F0F",paraId:144,tocIndex:40},{value:"\uFF0C\u5FC5\u987B\u4E3A",paraId:144,tocIndex:40},{value:"schema",paraId:144,tocIndex:40},{value:`\u7C7B\u578B\u3002
\u4F8B\u5982 db \u4E2D\u5B58\u5728\u4E00\u5F20\u8868\uFF0C\u540D\u5B57\u4E3A`,paraId:144,tocIndex:40},{value:"annotation",paraId:144,tocIndex:40},{value:"\uFF0C\u5BF9\u5E94\u7684",paraId:144,tocIndex:40},{value:"schema",paraId:144,tocIndex:40},{value:"\u662F",paraId:144,tocIndex:40},{value:"Annotation",paraId:144,tocIndex:40},{value:"\uFF0C\u5199\u6CD5\u4E3A\uFF1A",paraId:144,tocIndex:40},{value:`database JavaDB {
    // \u4ECE db \u7684 annotation \u8868\u4E2D\u8BFB\u53D6\u6570\u636E\uFF0C\u5B58\u5165 Annotation \u4E2D
    annotation : *Annotation
}
`,paraId:145,tocIndex:40},{value:"\u53E6\u5916\u9700\u8981\u4FDD\u8BC1",paraId:146,tocIndex:40},{value:"Annotation",paraId:146,tocIndex:40},{value:"\u7ED3\u6784\u5FC5\u987B\u548C\u8868\u7ED3\u6784\u4E00\u81F4\uFF0C\u4F8B\u5982:",paraId:146,tocIndex:40},{value:`schema Annotation {
    @primary id: int, // primary\u6CE8\u89E3\u8868\u793A\u8BE5\u5B57\u6BB5\u4E3A\u4E3B\u952E\uFF0C\u4E00\u4E2A\u8868\u4E5F\u53EF\u4EE5\u6CA1\u6709\u4E3B\u952E
    content: string
}
`,paraId:147,tocIndex:40},{value:"\u5C31\u5FC5\u987B\u8981\u6C42",paraId:148,tocIndex:40},{value:"annotation",paraId:148,tocIndex:40},{value:"\u8868\u4E2D\u5FC5\u987B\u6709",paraId:148,tocIndex:40},{value:"id",paraId:148,tocIndex:40},{value:"\u548C",paraId:148,tocIndex:40},{value:"content",paraId:148,tocIndex:40},{value:"\u5B57\u6BB5\uFF0C\u5E76\u4E14\u5B58\u50A8\u7C7B\u578B\u5FC5\u987B\u5BF9\u5E94\u3002",paraId:148,tocIndex:40},{value:"\u6570\u636E\u5E93\u7C7B\u578B\u62E5\u6709\u9759\u6001\u65B9\u6CD5",paraId:149,tocIndex:41},{value:"(database)::load(filename: string)",paraId:149,tocIndex:41},{value:`fn loadDatabaseExample() -> bool {
    // load \u4E2D\u4F20\u5165\u7684 string \u4E3A db \u7684\u6587\u4EF6\u540D\uFF0C\u800C\u4E0D\u9700\u8981\u8DEF\u5F84
    // \u56E0\u4E3A db \u7684\u8DEF\u5F84\u4F1A\u5728\u6267\u884C godel \u65F6\uFF0C\u901A\u8FC7\u547D\u4EE4\u884C\u53C2\u6570\u4F20\u5165
    let (db: JavaDB = JavaDB::load("...")) {
        ...
    }
}
`,paraId:150,tocIndex:41},{value:"\u4E0A\u6587\u4E2D\u7684\u4F8B\u5B50\u4E2D\uFF0C\u8981\u62FF\u5230",paraId:151,tocIndex:42},{value:"annotation",paraId:151,tocIndex:42},{value:"\u8868\uFF0C\u53EF\u4EE5\u8FD9\u6837\u505A\uFF1A",paraId:151,tocIndex:42},{value:`fn getAnnotation() -> Annotation {
    // load \u4E2D\u4F20\u5165\u7684 string \u4E3A db \u7684\u6587\u4EF6\u540D\uFF0C\u800C\u4E0D\u9700\u8981\u8DEF\u5F84
    // \u56E0\u4E3A db \u7684\u8DEF\u5F84\u4F1A\u5728\u6267\u884C godel \u65F6\uFF0C\u901A\u8FC7\u547D\u4EE4\u884C\u53C2\u6570\u4F20\u5165
    let (db: JavaDB = JavaDB::load("...")) {
        // \u76F4\u63A5\u4F7F\u7528 db.field \u5C31\u53EF\u4EE5\u62FF\u5230\u8868\u6570\u636E\u4E86
        for (anno: Annotation in db.annotation) {
            ...
        }
    }
}
`,paraId:152,tocIndex:42},{value:"trait",paraId:153,tocIndex:44},{value:"\u58F0\u660E\u8BED\u6CD5\u5982\u4E0B:",paraId:153,tocIndex:44},{value:`trait Example {
    fn getId(self) -> int;
    fn getName(self) -> string;
    fn getValueByName(self, name: string) -> string;
}
`,paraId:154,tocIndex:44},{value:"\u5199\u6CD5\u4E0E",paraId:155,tocIndex:45},{value:"impl",paraId:155,tocIndex:45},{value:"\u7C7B\u4F3C\uFF0C\u4F46\u662F\u5FC5\u987B\u8981\u5C06",paraId:155,tocIndex:45},{value:"trait",paraId:155,tocIndex:45},{value:"\u4E2D\u58F0\u660E\u7684\u6240\u6709\u51FD\u6570\u90FD\u5B9E\u73B0\u51FA\u6765\uFF0C\u5426\u5219\u65E0\u6CD5\u901A\u8FC7\u7F16\u8BD1\u3002",paraId:155,tocIndex:45},{value:`impl Example for XmlElement {
    fn getId(self) -> int {return self.id}
    fn getName(self) -> int {return self.name}
    fn getValueByName(self, name: string) -> int {
        for(attr in XmlAttribute(XmlDB::load("...")) {
            if (attr.getName() = name && attr.id = self.getAttribute().id) {
                return attr.getValue()
            }
        }
    }
}
`,paraId:156,tocIndex:45},{value:"G\xF6delScript \u4F7F\u7528",paraId:157,tocIndex:46},{value:"use",paraId:157,tocIndex:46},{value:"\u5173\u952E\u5B57\u6765\u5F15\u5165\u5176\u4ED6\u6587\u4EF6\u7684\u7B26\u53F7:",paraId:157,tocIndex:46},{value:`use coref::java::* // \u5F15\u7528\u5168\u90E8\u7B26\u53F7
use coref::xml::Location // \u5F15\u7528\u5355\u4E2A\u7B26\u53F7
use coref::xml::{XmlDB, XmlElement} // \u5F15\u7528\u591A\u4E2A\u7B26\u53F7
`,paraId:158,tocIndex:46},{value:"G\xF6delScript \u5305\u7BA1\u7406\u5668\u4F1A\u5728\u4F20\u5165\u53C2\u6570\u4E2D\u542B\u6709",paraId:159,tocIndex:47},{value:"-p {package dir path}",paraId:159,tocIndex:47},{value:"\u65F6\u542F\u7528\u3002",paraId:159,tocIndex:47},{value:"\u5305\u7BA1\u7406\u5668\u4F1A\u5BF9\u6587\u4EF6\u5939\u7ED3\u6784\u8FDB\u884C\u89E3\u6790\uFF0C\u904D\u5386\u5176\u4E2D\u6240\u6709\u7684",paraId:160,tocIndex:47},{value:".gdl",paraId:160,tocIndex:47},{value:"\u540E\u7F00\u6587\u4EF6\u3002\u5728\u62FF\u5230\u6587\u4EF6\u7684\u76F8\u5BF9\u8DEF\u5F84\u540E\uFF0C\u4F1A\u5C06\u8DEF\u5F84\u6620\u5C04\u5230\u5BF9\u5E94\u7684\u5305\u8DEF\u5F84\u3002\u5982\u679C\u6587\u4EF6\u7684\u76F8\u5BF9\u8DEF\u5F84\u4E2D\u5B58\u5728",paraId:160,tocIndex:47},{value:"-",paraId:160,tocIndex:47},{value:"\uFF0C\u6216\u8005\u8DEF\u5F84\u4E2D\u5B58\u5728\u4E00\u4E2A\u6587\u4EF6\u5939\u540D\u6216\u8005\u6587\u4EF6\u540D\u6216\u8005",paraId:160,tocIndex:47},{value:".",paraId:160,tocIndex:47},{value:"\u540E\u8DDF\u968F\u7684\u7B2C\u4E00\u4E2A\u5B57\u7B26\u662F\u6570\u5B57\uFF0C \u5219\u8BE5\u8DEF\u5F84\u4E0D\u4F1A\u88AB\u5305\u7BA1\u7406\u5668\u63A5\u53D7\uFF0C\u4F46\u662F\u5305\u7BA1\u7406\u5668\u4E0D\u4F1A\u5BF9\u5176\u8FDB\u884C\u62A5\u9519\uFF0C\u53EA\u8FDB\u884C\u5FFD\u7565\u5904\u7406\u3002",paraId:160,tocIndex:47},{value:"\u5982\u679C\u60F3\u77E5\u9053\u5FFD\u7565\u4E86\u54EA\u4E9B\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u4F7F\u7528",paraId:161,tocIndex:47},{value:"-v",paraId:161,tocIndex:47},{value:"\u53C2\u6570\uFF0C\u5305\u7BA1\u7406\u5668\u5728\u6709\u8BE5\u53C2\u6570\u7684\u60C5\u51B5\u4E0B\u4F1A\u5C06\u5FFD\u7565\u7684\u8DEF\u5F84\u4F5C\u4E3A",paraId:161,tocIndex:47},{value:"warning",paraId:161,tocIndex:47},{value:"\u62A5\u51FA\u3002\u5982\u679C\u6700\u7EC8\u6620\u5C04\u7684\u8DEF\u5F84\u4E2D\uFF0C\u5B58\u5728\u8DEF\u5F84\u51B2\u7A81\u7684\u60C5\u51B5\uFF0C\u90A3\u4E48\u5305\u7BA1\u7406\u5668\u4F1A\u5C06\u5176\u4F5C\u4E3A",paraId:161,tocIndex:47},{value:"error",paraId:161,tocIndex:47},{value:"\u62A5\u51FA\u5E76\u9000\u51FA\u7F16\u8BD1\u8FDB\u7A0B\u3002",paraId:161,tocIndex:47},{value:`packages:
  coref::cfamily    -> /.../Library/coref.cfamily.gdl
  coref::go         -> /.../Library/coref.go.gdl
  coref::java       -> /.../Library/coref.java.gdl
  coref::javascript -> /.../Library/coref.javascript.gdl
  coref::properties -> /.../Library/coref.properties.gdl
  coref::python     -> /.../Library/coref.python.gdl
  coref::sql        -> /.../Library/coref.sql.gdl
  coref::xml        -> /.../Library/coref.xml.gdl
modules
  +--coref -> coref
     |--xml -> coref::xml
     |--properties -> coref::properties
     |--cfamily -> coref::cfamily
     |--java -> coref::java
     |--javascript -> coref::javascript
     |--go -> coref::go
     |--sql -> coref::sql
     +--python -> coref::python
`,paraId:162,tocIndex:47},{value:`Library
|-- coref.java.gdl
|-- coref.xml.gdl
+-- coref
    |-- go.gdl
    +-- a
        +-- b.gdl
=>
coref::java
coref::xml
coref::go
coref::a::b
`,paraId:163,tocIndex:48},{value:"\u8BE5\u6837\u4F8B\u4E2D\uFF0C\u8DEF\u5F84\u51FA\u73B0\u51B2\u7A81",paraId:164,tocIndex:48},{value:`Library
|-- coref
|   |-- java.gdl
|   +-- python.gdl
+-- coref.python.gdl
=>
coref::java
coref::python -- \\
                  > \u51FA\u73B0\u51B2\u7A81
coref::python -- /
`,paraId:165,tocIndex:48},{value:"\u8BE5\u6837\u4F8B\u4E2D\uFF0C\u8DEF\u5F84\u5B58\u5728\u4E0D\u5408\u6CD5\u5B57\u7B26",paraId:166,tocIndex:48},{value:`Library
|-- 0123.gdl
|-- my-godel-lib
|   +-- js.gdl
+-- lib-file.123.gdl
=>
0123
^ \u7B2C\u4E00\u4E2A\u5B57\u7B26\u4E3A\u6570\u5B57
my-godel-lib::js
  ^     ^ \u4F7F\u7528\u4E86 \`-\` \u5B57\u7B26
lib-file::123
   ^      ^ \u4F7F\u7528\u4E86\u4E00\u4E2A\u5B57\u7B26\u4E3A\u6570\u5B57\uFF0C\u5E76\u4E14\u8DEF\u5F84\u4E2D\u5305\u542B \`-\`
`,paraId:167,tocIndex:48},{value:"\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u96BE\u514D\u4F1A\u9047\u5230\u5982\u4E0B\u7684\u60C5\u51B5\u3002\u6B64\u65F6\u76F4\u63A5\u4F7F\u7528",paraId:168,tocIndex:49},{value:"File",paraId:168,tocIndex:49},{value:"\u4F1A\u88AB\u544A\u77E5\u7B26\u53F7\u51B2\u7A81\uFF0C\u9700\u8981\u6307\u5B9A\u5176\u4E2D\u4E00\u4E2A\u7B26\u53F7\u3002",paraId:168,tocIndex:49},{value:`use coref::java::Location
use coref::xml::Location
schema MyLoc extends Location {}
                     ^^^^^^^^
Error: "Location" is ambiguous, with multiple symbols
       "coref::java::Location, coref::xml::Location".
`,paraId:169,tocIndex:49},{value:"\u4E0E\u5176\u4ED6\u8BED\u8A00\u7C7B\u4F3C\uFF0CG\xF6delScript \u5141\u8BB8\u901A\u8FC7\u5B8C\u6574\u8DEF\u5F84\u7684\u65B9\u5F0F\u76F4\u63A5\u6307\u5B9A\u4E00\u4E2A\u7B26\u53F7\uFF0C\u4F46\u662F\u8BE5\u7B26\u53F7\u5FC5\u987B\u88AB\u5F15\u5165\u3002",paraId:170,tocIndex:49},{value:`use coref::java::Location
use coref::xml::Location
schema MyLoc extends coref::xml::Location {}
`,paraId:171,tocIndex:49},{value:"\u5B8C\u6574\u8DEF\u5F84\u7B26\u53F7\u53EF\u4EE5\u88AB\u7528\u4E8E\u4EE5\u4E0B\u60C5\u51B5:",paraId:172,tocIndex:49},{value:"schema \u7EE7\u627F",paraId:173,tocIndex:49},{value:`schema JavaLocation extends coref::java::Location {}
`,paraId:174,tocIndex:49},{value:"\u51FD\u6570\u53C2\u6570\u548C\u8FD4\u56DE\u503C",paraId:175,tocIndex:49},{value:`fn return_java_file(f: coref::java::File) -> coref::java::File {
    ...
}
`,paraId:176,tocIndex:49},{value:"database \u58F0\u660E",paraId:177,tocIndex:49},{value:`database MyDB {
    java_file: coref::java::File,
    xml_file: coref::xml::File,
    java_loc: coref::java::Location,
    xml_loc: coref::xml::Location
}
`,paraId:178,tocIndex:49},{value:"query \u5217\u8868\u7C7B\u578B\u58F0\u660E",paraId:179,tocIndex:49},{value:`query example from
    coref::java::Location loc in coref::java::Location(coref::java::JavaDB::load("..."))
where
    ...
select
    ...
`,paraId:180,tocIndex:49},{value:"schema \u9759\u6001\u65B9\u6CD5\u8C03\u7528",paraId:181,tocIndex:49},{value:`for(loc in coref::java::Location(coref::java::JavaDB::load("..."))) {
    ...
}

stmt.to<coref::java::ElementParent>()
stmt.is<coref::java::ElementParent>()
`,paraId:182,tocIndex:49},{value:"Query \u7528\u4E8E\u8FDB\u884C\u4E00\u4E9B\u7B80\u5355\u7684\u67E5\u8BE2\uFF0C\u7F16\u5199\u7684 query \u4E00\u5B9A\u4F1A\u88AB\u8F93\u51FA\uFF0C\u5373\u4F7F\u6CA1\u6709\u58F0\u660E",paraId:183,tocIndex:50},{value:"main",paraId:183,tocIndex:50},{value:"\u51FD\u6570\u3002Query \u7684\u8BED\u6CD5\u683C\u5F0F\u5982\u4E0B\uFF1A",paraId:183,tocIndex:50},{value:`query \u540D\u5B57 from
    \u53D8\u91CF\u540D in \u521D\u59CB\u503C,
    \u53D8\u91CF\u540D in \u521D\u59CB\u503C,
    \u53D8\u91CF\u540D in \u521D\u59CB\u503C
where \u6761\u4EF6
select \u503C as \u8F93\u51FA\u7684\u5217\u540D
    \u503C as \u8F93\u51FA\u7684\u5217\u540D,
    \u503C as \u8F93\u51FA\u7684\u5217\u540D,
    \u503C as \u8F93\u51FA\u7684\u5217\u540D
`,paraId:184,tocIndex:50},{value:"from \u5217\u8868\u4E2D\u7684\u53D8\u91CF\u58F0\u660E\u65E0\u9700\u52A0\u4E0A\u7C7B\u578B\u6807\u6CE8\uFF0C\u7F16\u8BD1\u5668\u4F1A\u8FDB\u884C\u81EA\u52A8\u63A8\u5BFC\uFF0C\u53E6\u5916\u6B64\u5904\u521D\u59CB\u5316\u4E0D\u4F1A\u4F7F\u7528",paraId:185,tocIndex:50},{value:"=",paraId:185,tocIndex:50},{value:"\u53F7\uFF0C\u800C\u662F",paraId:185,tocIndex:50},{value:"in",paraId:185,tocIndex:50},{value:"\u5173\u952E\u5B57\u3002\u6B64\u5916\uFF0Cselect \u5217\u8868\u4E2D\uFF0C\u8F93\u51FA\u7684\u5217\u540D\u4E0D\u80FD\u548C\u53C2\u4E0E\u8BA1\u7B97\u7684\u53D8\u91CF\u540D\u51B2\u7A81\uFF0C\u4F46\u662F\u5217\u540D\u53EF\u4EE5\u88AB\u7701\u7565\u3002\u88AB\u7701\u7565\u7684\u5217\u540D\u4F1A\u5728\u8F93\u51FA\u7ED3\u679C\u65F6\u91C7\u53D6\u968F\u673A\u540D\u5B57\uFF0C\u6240\u4EE5\u5C3D\u91CF\u4E0D\u8981\u7701\u7565\u3002",paraId:185,tocIndex:50},{value:"\u4E0B\u9762\u662F\u7528 query \u8BED\u6CD5\u7F16\u5199\u7684",paraId:186,tocIndex:50},{value:"hello world",paraId:186,tocIndex:50},{value:"\uFF1A",paraId:186,tocIndex:50},{value:`query hello_world from
    info in "hello world"
select info as greeting
`,paraId:187,tocIndex:50},{value:"\u4E0A\u9762\u7684\u4EE3\u7801\u7B49\u4EF7\u4E8E\u5982\u4E0B\u4EE3\u7801\uFF1A",paraId:188,tocIndex:50},{value:`fn hello_world(greeting: string) -> bool {
    let (info = "hello world") {
        if (greeting = info) {
            return true
        }
    }
}
fn main() {
    output(hello_world())
}
`,paraId:189,tocIndex:50},{value:"Query \u5305\u542B\u4E86\u67E5\u8BE2\u540D\u79F0\uFF0C",paraId:190,tocIndex:51},{value:"from",paraId:190,tocIndex:51},{value:"\u5217\u8868\uFF0C",paraId:190,tocIndex:51},{value:"where",paraId:190,tocIndex:51},{value:"\u7B5B\u9009\u6761\u4EF6\uFF0C",paraId:190,tocIndex:51},{value:"select",paraId:190,tocIndex:51},{value:"\u5217\u8868\u3002",paraId:190,tocIndex:51},{value:`// script
use coref::java::{Callable, Class, Interface, JavaDB}

fn db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

query class_method from
    Callable m in Callable(db()),
    Class c in Class(db())
where
    c.id = m.getBelongedClass().id
select
    c.getQualifiedName() as className,
    m.getName() as methodName,
    m.getSignature() as methodSignature
`,paraId:191,tocIndex:51},{value:"\u4E0A\u9762\u7684\u4F8B\u5B50\u7B49\u4EF7\u4E8E\u5982\u4E0B\u4EE3\u7801\uFF1A",paraId:192,tocIndex:52},{value:`// script
use coref::java::{Callable, Class, Interface, JavaDB}

fn db() -> JavaDB {
  return JavaDB::load("coref_java_src.db")
}

fn main() {
  output(class_method())
}

fn class_method(className: string, methodName: string, methodSignature: string) -> bool {
  for (m in Callable(db()), c in Class(db())) {
    if (c.id = m.getBelongedClass().id) {
      if (className = c.getQualifiedName() &&
          methodName = m.getName() &&
          methodSignature = m.getSignature()) {
        return true
      }
    }
  }
}
`,paraId:193,tocIndex:52},{value:"G\xF6delScript \u4F1A\u5C06\u672A\u4E0E\u6570\u636E\u7ED1\u5B9A\u7684\u7B26\u53F7\u5224\u5B9A\u4E3A",paraId:194,tocIndex:53},{value:"ungrounded(\u672A\u8D4B\u503C/\u672A\u7ED1\u5B9A)",paraId:194,tocIndex:53},{value:"\u3002\u57FA\u672C\u5224\u5B9A\u89C4\u5219\u4E3A:",paraId:194,tocIndex:53},{value:`\u672A\u521D\u59CB\u5316\u7684/\u672A\u88AB\u4F7F\u7528\u7684/\u672A\u4E0E\u96C6\u5408\u7ED1\u5B9A\u7684\u7B26\u53F7
`,paraId:195,tocIndex:53},{value:"\u672A\u88AB\u7ED1\u5B9A\u7684",paraId:196,tocIndex:53},{value:"int",paraId:196,tocIndex:53},{value:" ",paraId:196,tocIndex:53},{value:"string",paraId:196,tocIndex:53},{value:"\u53C2\u6570",paraId:196,tocIndex:53},{value:"\u672A\u88AB\u4F7F\u7528\u7684 database \u7C7B\u578B\u7684\u53C2\u6570",paraId:196,tocIndex:53},{value:"\u51FD\u6570\u4F53\u6709\u8BED\u53E5\uFF0C\u4F46\u662F\u6CA1\u6709\u4EFB\u4F55\u8FD4\u56DE\u8BED\u53E5",paraId:196,tocIndex:53},{value:`\u5728\u53D6\u975E\u8FD0\u7B97\u5757\u4E2D\u8FDB\u884C\u7ED1\u5B9A\u7684\u7B26\u53F7
`,paraId:195,tocIndex:53},{value:"\u4F8B\u5982 ",paraId:197,tocIndex:53},{value:"!(__tmp = 1)",paraId:197,tocIndex:53},{value:"\uFF0C",paraId:197,tocIndex:53},{value:"__tmp",paraId:197,tocIndex:53},{value:"\u4F1A\u88AB\u8BA4\u4E3A\u662F\u672A\u7ED1\u5B9A\u7684",paraId:197,tocIndex:53},{value:"\u5728\u53D6\u975E\u8FD0\u7B97\u5757\u4E2D\u8C03\u7528 inline \u51FD\u6570\u6216\u6570\u636E\u6784\u9020\u51FD\u6570",paraId:197,tocIndex:53},{value:"\u51FD\u6570\u4EE3\u7801\u5757\u4E2D\uFF0C\u5982\u679C\u6709\u4E00\u4E2A\u8BED\u53E5\u5206\u652F\u6CA1\u6709\u4F7F\u7528\u53C2\u6570\u4E2D\u7684",paraId:198,tocIndex:54},{value:"database",paraId:198,tocIndex:54},{value:"\u6216\u8005\u57FA\u7840\u7C7B\u578B\u53C2\u6570\uFF0C\u5219\u4E00\u5B9A\u4F1A\u5BFC\u81F4",paraId:198,tocIndex:54},{value:"ungrounded",paraId:198,tocIndex:54},{value:"\uFF1A",paraId:198,tocIndex:54},{value:`fn test(db: JavaDB, a: int, b: string) -> bool {}
        ^^          ^       ^                  ^^
Error: ungrounded parameter "db, a, b" in this branch.
`,paraId:199,tocIndex:54},{value:"\u7F16\u8BD1\u5668\u4F1A\u63D0\u793A\u5728\u54EA\u4E00\u6761\u6267\u884C\u5206\u652F\u4E2D\u5B58\u5728 unused paramemter\uFF0C\u6839\u636E\u63D0\u793A\u68C0\u67E5\u5BF9\u5E94\u7684\u6267\u884C\u8DEF\u5F84\uFF0C\u8865\u5168\u5BF9 parameter \u7684\u7EA6\u675F\u5373\u53EF\u3002",paraId:200,tocIndex:54},{value:"\u5B58\u5728\u67D0\u4E9B\u51FD\u6570\uFF0C\u5728\u8C03\u7528\u7684\u65F6\u5019\uFF0C\u53C2\u6570\u867D\u7136\u662F\u57FA\u7840\u7C7B\u578B\uFF0C\u4F46\u662F\u4F20\u5165\u7684\u90FD\u662F\u5B57\u9762\u91CF\uFF0C\u90A3\u8FD9\u65F6\u5982\u679C\u9519\u8BEF\u5730\u62A5\u51FA\u4E86",paraId:201,tocIndex:54},{value:"ungrounded",paraId:201,tocIndex:54},{value:"\uFF0C\u53EF\u4EE5\u7ED9\u8BE5\u51FD\u6570\u6DFB\u52A0",paraId:201,tocIndex:54},{value:"@inline",paraId:201,tocIndex:54},{value:"\u6CE8\u89E3\uFF0C\u6765\u907F\u514D\u9519\u8BEF\u7684\u7EA6\u675F\u68C0\u6D4B\u3002",paraId:201,tocIndex:54},{value:`impl XXX {
    @inline
    fn getValueByAttributeNameByDefaultValue(self, attributeName: string) -> string {
        if (self.hasAttribute(attributeName)) {
            return self.getValueByAttributeName(attributeName)
        }
        if (!self.hasAttribute(attributeName)) {
            return "null"
        }
    }
}

fn xxx() -> xx {
    ..
    attr.getValueByAttributeNameByDefaultValue("pattern")
                                               ^^^^^^^^^ \u4F7F\u7528\u4E86\u5B57\u9762\u91CF, \u6DFB\u52A0@inline\u6765\u901A\u8FC7\u68C0\u6D4B
}
`,paraId:202,tocIndex:54},{value:"G\xF6delScript \u5141\u8BB8\u4E00\u4E2A\u51FD\u6570\u4F53\u4E0D\u5305\u542B\u4EFB\u4F55\u8BED\u53E5\uFF0C\u5373\u7A7A\u51FD\u6570\u4F53\u3002\u4F46\u662F\u5982\u679C\u51FD\u6570\u4F53\u4E2D\u6709\u5176\u4ED6\u8BED\u53E5\uFF0C\u5219 G\xF6delScript \u4F1A\u8981\u6C42\u5FC5\u987B\u6709\u81F3\u5C11\u4E00\u4E2A\u8FD4\u56DE\u8BED\u53E5\uFF0C\u5426\u5219\u5C31\u4F1A\u51FA\u73B0 ungrounded error\u3002",paraId:203,tocIndex:55},{value:`fn test() -> int {}
                  ^^ \u6CA1\u6709\u8BED\u53E5\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7F16\u8BD1

fn test() -> int {
    let (a = 1) {}
    ^^^^^^^^^^^^^^ \u6709\u8BED\u53E5\u7684\u60C5\u51B5\u4E0B\uFF0C\u6CA1\u6709\u8FD4\u56DE\u8BED\u53E5\uFF0Cungrounded
}
`,paraId:204,tocIndex:55},{value:"\u4E0A\u6587\u63D0\u5230\u4E86\u53EF\u4EE5\u901A\u8FC7",paraId:205,tocIndex:56},{value:"@inline",paraId:205,tocIndex:56},{value:"\u6CE8\u89E3\u6765\u89C4\u907F ungrounded error\u3002\u4F46\u662F\u5982\u679C\u5728\u53D6\u975E\u8FD0\u7B97\u4E2D\u4F7F\u7528\u4E86\u542B\u6709\u8BE5\u6CE8\u89E3\u7684\u51FD\u6570\uFF0C\u5219\u5FC5\u7136\u4F1A\u5BFC\u81F4 ungrounded error\u3002",paraId:205,tocIndex:56},{value:`\u540C\u6837\uFF0C\u6570\u636E\u6784\u9020\u51FD\u6570\u5B9E\u9645\u7684\u4F5C\u7528\u5C31\u662F\u5BF9\u4E00\u4E2A\u4E34\u65F6\u4E2D\u95F4\u53D8\u91CF\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u4F46\u662F\u8FD9\u4F1A\u76F4\u63A5\u5BFC\u81F4 ungrounded error\u3002
\u6240\u4EE5\u7EFC\u4E0A\u6240\u8FF0\uFF0C\u5728\u53D6\u975E\u8FD0\u7B97\u5757\u4E2D\u4F7F\u7528 inline \u51FD\u6570\u6216\u8005\u6570\u636E\u6784\u9020\u51FD\u6570\uFF0C\u5FC5\u7136\u4F1A\u5BFC\u81F4 ungrounded error\uFF0C\u7F16\u8BD1\u5668\u4F1A\u5BF9\u6240\u6709\u7C7B\u4F3C\u7684\u60C5\u51B5\u76F4\u63A5\u62A5\u9519\u3002`,paraId:206,tocIndex:56},{value:`if (!check(method.to<ElementParent>())) {
           ^^^^^^^^^^^^^^^^^^^^^^^^^^ ungrounded
}
if (!check(ElementParent {id: 0})) {
           ^^^^^^^^^^^^^^ ungrounded
}

@inline
fn for_test() -> ElementParent {
    ...
}
if (!check(for_test())) {
           ^^^^^^^^^^ \u53D6\u975E\u8FD0\u7B97\u4E2D\u5B58\u5728 inline \u51FD\u6570\uFF0Cungrounded
}
`,paraId:207,tocIndex:56},{value:"G\xF6delScript \u672A\u5BF9\u8BE5\u60C5\u51B5\u6267\u884C",paraId:208,tocIndex:57},{value:"ungrounded",paraId:208,tocIndex:57},{value:"\u68C0\u6D4B\uFF0C\u4F46\u662F\u8BE5\u5199\u6CD5\u4F1A\u5BFC\u81F4\u5728 Souffl\xE9 \u4E2D\u62A5",paraId:208,tocIndex:57},{value:"ungrounded",paraId:208,tocIndex:57},{value:"\u9519\u8BEF:",paraId:208,tocIndex:57},{value:`use coref::java::*

fn default_java_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

fn get_field() -> *Field {
    for (field in Field(default_java_db())) {
        if (!field.getLocation().getFile().getRelativePath().contains("/test/")) {
            yield field
        }
    }
}
`,paraId:209,tocIndex:57},{value:"\u5176\u4E2D:",paraId:210,tocIndex:57},{value:`!field.getLocation().getFile().getRelativePath().contains("/test/")
`,paraId:211,tocIndex:57},{value:"\u5B9E\u9645\u4F1A\u88AB\u7FFB\u8BD1\u4E3A\u7C7B\u4F3C\u5982\u4E0B\u7684 Souffl\xE9 \u4EE3\u7801\u7247\u6BB5:",paraId:212,tocIndex:57},{value:`!(__tmp = field, Field_getLocation(__tmp, __tmp_1), ..., contains("/test/", __tmp_4))
  ^^^^^                                   ^^^^^^^
`,paraId:213,tocIndex:57},{value:"\u5176\u4E2D\u7528\u4E8E\u4E2D\u95F4\u5B58\u50A8\u7684\u53D8\u91CF\u5728",paraId:214,tocIndex:57},{value:"!(...)",paraId:214,tocIndex:57},{value:"\u4E2D\u88AB\u7ED1\u5B9A\uFF0C\u4F46\u662F\u7531\u4E8E\u53D6\u975E\u64CD\u4F5C\u7B26\uFF0C\u8FD9\u4E2A\u7ED1\u5B9A\u88AB\u8BA4\u4E3A\u662F\u5047\u8BBE\u7684\uFF0C\u4F46\u662F",paraId:214,tocIndex:57},{value:"__tmp",paraId:214,tocIndex:57},{value:",",paraId:214,tocIndex:57},{value:"__tmp_1",paraId:214,tocIndex:57},{value:"\u5374\u88AB\u8BA4\u4E3A\u662F\u88AB\u58F0\u660E\u51FA\u6765\u6574\u4E2A\u8BED\u53E5\u8303\u56F4\u5185\u53EF\u89C1\u7684\u53D8\u91CF\uFF0C\u4ECE\u800C\u5BFC\u81F4",paraId:214,tocIndex:57},{value:"ungrounded",paraId:214,tocIndex:57},{value:"\u3002",paraId:214,tocIndex:57},{value:"\u53EF\u4EE5\u91C7\u53D6\u58F0\u660E\u4E2D\u95F4\u53D8\u91CF\u63A5\u4F4F\u4E2D\u95F4\u7ED3\u679C\u7684\u65B9\u5F0F\u6765\u907F\u514D\u53D6\u975E\u8FD0\u7B97\u4E2D\u7684\u7ED1\u5B9A\u64CD\u4F5C:",paraId:215,tocIndex:57},{value:`fn get_field() -> *Field {
    for (field in Field(default_java_db())) {
        let (path = field.getLocation().getFile().getRelativePath()) {
            if (!path.contains("/test/")) {
                yield field
            }
        }
    }
}
`,paraId:216,tocIndex:57},{value:`// script
use coref::java::*

fn default_java_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

// find unused methods
fn unused_method(unused: string) -> bool {
    for(c in Callable(default_java_db()), method in Callable(default_java_db()), caller in method.getCaller()) {
        if (c != caller && unused = method.getSignature()) {
            return true
        }
    }
}

fn main() {
    output(unused_method())
}
`,paraId:217,tocIndex:60},{value:`// script
use coref::java::*

fn default_java_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

/**
 * Find all class and the inheritances
 * including parent class inheritance and ancestor class inheritance
 */
fn class_hierarchy(className : string, superClassName : string) -> bool {
    for (c in Class(default_java_db()), ancestor in c.getAnAncestorClass()) {
        if (className = c.getQualifiedName() &&
            superClassName = ancestor.getQualifiedName()) {
            return true
        }
    }
}

fn main() {
    output(class_hierarchy())
}
`,paraId:218,tocIndex:61},{value:`// script
use coref::java::*

fn default_java_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

// Find all methods of the class
fn methods(className : string, methodName : string) -> bool {
    for (c in Class(default_java_db()), m in c.getAllMethods()) {
        if (className = c.getQualifiedName() &&
            methodName = m.getName()){
            return true
        }
    }
}

fn main() {
    output(methods())
}
`,paraId:219,tocIndex:62},{value:`// script
use coref::python::*

fn default_db() -> PythonDB {
    return PythonDB::load("coref_python_src.db")
}

/**
 * Get cyclomatic complexity of functions
 *
 * @param name   function name
 * @param value  cyclomatic complexity of function
 * @param path   path of file including this function
 * @param sline  function start line
 * @param eline  function end line
 */
fn getCyclomaticComplexity(
    name: string,
    value: int,
    path: string,
    sline: int,
    eline: int) -> bool {
    // get metric function
    for (c in MetricFunction(default_db())) {
        if (path = c.getLocation().getFile().getRelativePath() &&
            name = c.getQualifiedName() &&
            value = c.getCyclomaticComplexity() &&
            sline = c.getLocation().getStartLineNumber() &&
            eline = c.getLocation().getEndLineNumber()) {
            return true
        }
    }
}

fn main() {
    output(getCyclomaticComplexity())
}
`,paraId:220,tocIndex:64},{value:`// script
use coref::python::*

schema PublicVisitedElement extends CombineElement {}

impl PublicVisitedElement {
    @data_constraint
    pub fn __all__(db: PythonDB) -> *PublicVisitedElement {
        for (tmp in Class(db)) {
            yield PublicVisitedElement {id: tmp.element_oid}
        }
        for (tmp in Function(db)) {
            yield PublicVisitedElement {id: tmp.element_oid}
        }
    }
}

fn default_db() -> PythonDB {
    return PythonDB::load("coref_python_src.db")
}


// count number of total public element
fn countTotalPublicElement() -> int {
    return PublicVisitedElement(default_db()).len()
}

// get public elements with Docstring comment
fn withDocstringCommentElement() -> *PublicVisitedElement {
    let (db = default_db()) {
        for (e in PublicVisitedElement(db), j in DocstringComment(db)) {
            if (e.key_eq(j.getDocumentableElement())) {
                yield e
            }
        }
    }
}

// count number of public elements with Docstring comment
fn countTotalPublicDocumentedElement() -> int {
    return withDocstringCommentElement().len()
}

fn withPublicDocumentedBelowElement() -> *PublicVisitedElement {
    let (db = default_db()) {
        for (e in PublicVisitedElement(db), j in Comment(db)) {
            if (e.key_eq(j.getDocumentedClassOrFunctionElement())) {
                yield e
            }
        }
    }
}

// count number of public element with single line comment
fn countTotalPublicDocumentedBelowElement() -> int {
    return withPublicDocumentedBelowElement().len()
}


// calculate documented percentage
fn getDocumentedPercentage(documentedPercentage: int) -> bool {
    let (i = countTotalPublicElement(),
        j = countTotalPublicDocumentedElement(),
        k = countTotalPublicDocumentedBelowElement()) {
        if (i = 0) {
            if (documentedPercentage = -1) {
                return true
            }
        }
        if (i != 0) {
            if (documentedPercentage = (j + k) * 1000 / i) {
                return true
            }
        }
    }
}

fn main() {
    output(getDocumentedPercentage())
}
`,paraId:221,tocIndex:65},{value:`// script
use coref::python::*

schema PublicVisitedElement extends CombineElement {}

impl PublicVisitedElement {
    @data_constraint
    pub fn __all__(db: PythonDB) -> *PublicVisitedElement {
        for (tmp in Class(db)) {
            yield PublicVisitedElement {id: tmp.element_oid}
        }
        for (tmp in Function(db)) {
            yield PublicVisitedElement {id: tmp.element_oid}
        }
    }

    pub fn getName(self) -> string {
        let (tmp = Class(__all_data__).find(self)) {
            return tmp.getQualifiedName()
        }
        let (tmp = Function(__all_data__).find(self)) {
            return tmp.getQualifiedName()
        }
    }
}

fn default_db() -> PythonDB {
    return PythonDB::load("coref_python_src.db")
}

fn hasComment(e: PublicVisitedElement) -> bool {
    let (db = default_db()) {
        for (j in DocstringComment(db)) {
            if (e.key_eq(j.getDocumentableElement())) {
                return true
            }
        }
        for (j in Comment(db)) {
            if (e.key_eq(j.getDocumentedClassOrFunctionElement())) {
                return true
            }
        }
    }
}

/**
 * Get comment of each public element
 *
 * @param type          public visited element type
 * @param name          public visited element name
 * @param filePath      file path
 * @param sline         element start line
 * @param eline         element end line
 * @param isCommented   if is commented
 */
fn output_result(
    type: string,
    name: string,
    filePath: string,
    sline: int,
    eline: int,
    isCommented: int) -> bool {
    for (e in PublicVisitedElement(default_db())) {
        if (type = e.getType() &&
            name = e.getName() &&
            filePath = e.getLocation().getFile().getRelativePath() &&
            sline = e.getLocation().getStartLineNumber() &&
            eline = e.getLocation().getEndLineNumber()) {
            if (hasComment(e)) {
                if (isCommented = 1) {
                    return true
                }
            }
            if (!hasComment(e)) {
                if (isCommented = 0) {
                    return true
                }
            }
        }
    }
}

fn main() {
    output(output_result())
}
`,paraId:222,tocIndex:66},{value:`// script
use coref::javascript::*

/**
 * print AST
 *
 * @param filePath          file path
 * @param parentId          parent node ID
 * @param parentKind        parent node kind
 * @param parentStartLine   parent node start line
 * @param parentEndLine     parent node end line
 * @param childId           child node ID
 * @param childKind         child node kind
 * @param childStartLine    child node start line
 * @param childEndLine      child node end line
 * @param index             child node index
 */
fn out(
    filePath: string,
    parentId: int,
    parentKind: string,
    parentStartLine: int,
    parentEndLine: int,
    childId: int,
    childKind: string,
    childStartLine: int,
    childEndLine: int,
    index: int
) -> bool {
    let (db = JavascriptDB::load("coref_javascript_src.db")) {
        for (parent in Node(db),
            child in Node(db),
            parentSyntaxKind in SyntaxKind(),
            childSyntaxKind in SyntaxKind(),
            parentLocation in Location(db),
            childLocation in Location(db),
            file in File(db)) {
            if (parent.key_eq(child.getParent()) &&
                parentId = parent.id &&
                childId = child.id &&
                parentSyntaxKind.id = parent.getKind() &&
                childSyntaxKind.id = child.getKind() &&
                parentKind = parentSyntaxKind.getName() &&
                childKind = childSyntaxKind.getName() &&
                index = child.getIndex() &&
                parentLocation = parent.getLocation() &&
                childLocation = parent.getLocation() &&
                file = parentLocation.getFile() &&
                filePath = file.getRelativePath() &&
                parentStartLine = parentLocation.getStartLineNumber() &&
                parentEndLine = parentLocation.getEndLineNumber() &&
                childStartLine = childLocation.getStartLineNumber() &&
                childEndLine = childLocation.getEndLineNumber()) {
                return true
            }
        }
    }
}

fn main() {
    output(out())
}
`,paraId:223,tocIndex:68},{value:`// script
use coref::javascript::*

fn default_db() -> JavascriptDB {
    return JavascriptDB::load("coref_javascript_src.db")
}

/**
 * Output the cyclomatic complexity of each function
 *
 * @param filePath      file path
 * @param functionName  function name
 * @param complexity    cyclomatic complexity
 * @param startLine     function start line
 * @param endLine       function end line
 */
fn out(filePath: string, functionName: string, complexity: int, startLine: int, endLine: int) -> bool {
    let (db = default_db()) {
        for (func in FunctionLikeDeclaration(db), file in File(db)) {
            if (complexity = func.getCyclomaticComplexity() &&
                functionName = func.getName() &&
                file = func.getLocation().getFile() &&
                filePath = file.getRelativePath() &&
                startLine = func.getLocation().getStartLineNumber() &&
                endLine = func.getLocation().getEndLineNumber()) {
                return true
            }
        }
    }
}

fn main() {
    output(out())
}
`,paraId:224,tocIndex:69},{value:`// script
use coref::javascript::*

fn default_db() -> JavascriptDB {
    return JavascriptDB::load("coref_javascript_src.db")
}

fn getACallerFunction(function: FunctionLikeDeclaration, callerFunction: FunctionLikeDeclaration) -> bool {
    for (mayInvokeExpression in MayInvokeExpression(default_db())) {
        if (mayInvokeExpression = function.getACallSite() &&
            callerFunction = mayInvokeExpression.getEnclosingFunction()) {
            return true
        }
    }
}

fn getAnEffectedFunction(function: FunctionLikeDeclaration, effectedFunction: FunctionLikeDeclaration) -> bool {
    if (getACallerFunction(function, effectedFunction)) {
        return true
    }
    for (callerFunction in FunctionLikeDeclaration(default_db())) {
        if (getACallerFunction(function, callerFunction) &&
            getAnEffectedFunction(callerFunction, effectedFunction)) {
            return true
        }
    }
}

/**
 * Query the effected functions according to the changed lines.
 *
 * @param function              the changed function id
 * @param signature             the changed function signature
 * @param functionPath          the changed function file path
 * @param startLine             the changed function start line
 * @param endLine               the changed function end line
 * @param effectedFunction      the effected function id
 * @param effectedSignature     the effected function signature
 * @param effectedFunctionPath  the effected function file path
 * @param effectedStartLine     the effected function start line
 * @param effectedEndLine       the effected function end line
 */
fn out(
    function: FunctionLikeDeclaration,
    signature: string,
    functionPath: string,
    startLine: int,
    endLine: int,
    effectedFunction: FunctionLikeDeclaration,
    effectedSignature: string,
    effectedFunctionPath: string,
    effectedStartLine: int,
    effectedEndLine: int
) -> bool {
    if (getAnEffectedFunction(function, effectedFunction)) {
        let (symbol = function.getSymbol(),
            effectedSymbol = effectedFunction.getSymbol(),
            location = function.getLocation(),
            effectedLocation = effectedFunction.getLocation()) {
            if (signature = symbol.getDescription() &&
                effectedSignature = effectedSymbol.getDescription() &&
                functionPath = location.getRelativePath() &&
                startLine = location.getStartLineNumber() &&
                endLine = location.getEndLineNumber() &&
                effectedFunctionPath = effectedLocation.getRelativePath() &&
                effectedStartLine = effectedLocation.getStartLineNumber() &&
                effectedEndLine = effectedLocation.getEndLineNumber()) {
                return true
            }
        }
    }
}

fn main() {
    output(out())
}
`,paraId:225,tocIndex:70},{value:`// script
use coref::xml::*

schema BeanXmlElement extends XmlElement {}

impl BeanXmlElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *BeanXmlElement {
        for (e in XmlElement(db)) {
            let (path = e.getLocation().getFile().getRelativePath()) {
                if (!path.contains("target") && e.getName() = "bean") {
                    yield BeanXmlElement {
                        id: e.id,
                        location_id: e.location_id,
                        parent_id: e.parent_id,
                        index_order: e.index_order
                    }
                }
            }
        }
    }
}

schema EntryXmlElement extends XmlElement {}

impl EntryXmlElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *EntryXmlElement {
        for (e in XmlElement(db)) {
            if (e.getName() = "entry") {
                yield EntryXmlElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

schema PropertyXmlElement extends XmlElement {}

impl PropertyXmlElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *PropertyXmlElement {
        for (e in XmlElement(db)) {
            if (e.getName() = "property") {
                yield PropertyXmlElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

fn default_db() -> XmlDB {
    return XmlDB::load("coref_xml_src.db")
}

// get class name
fn getClassName(bean: BeanXmlElement) -> string {
    for (attr in bean.getAttribute()) {
        if (attr.getName() = "class") {
            return attr.getValue()
        }
    }
}

// get key
fn getKey(e: EntryXmlElement) -> string {
    for (attr in e.getAttribute()) {
        if (attr.getName() = "key") {
            return attr.getValue()
        }
    }
}

// output value and class info of the bean
fn output1(className: string, pName: string, kName: string) -> bool {
    let (db = default_db()) {
        for (bean in BeanXmlElement(db), p in PropertyXmlElement(db), e in EntryXmlElement(db)) {
            if (className = getClassName(bean) &&
                bean.key_eq(p.getParent()) &&
                p.key_eq(e.getParent().getParent()) &&
                pName = p.getName() &&
                kName = getKey(e)) {
                return true
            }
        }
    }
}

fn main() {
    output(output1())
}
`,paraId:226,tocIndex:72},{value:`// script
use coref::xml::*

schema DependencyElement extends XmlElement {}

impl DependencyElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *DependencyElement {
        for(e in XmlElement(db)) {
            if (e.getElementName() = "dependency") {
                yield DependencyElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

schema GroupElement extends XmlElement {}

impl GroupElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *GroupElement {
        for(e in XmlElement(db)) {
            if (e.getElementName() = "groupId") {
                yield GroupElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

schema VersionElement extends XmlElement {}

impl VersionElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *VersionElement {
        for(e in XmlElement(db)) {
            if (e.getElementName() = "version") {
                yield VersionElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

schema ArtifactElement extends XmlElement {}

impl ArtifactElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *ArtifactElement {
        for(e in XmlElement(db)) {
            if (e.getElementName() = "artifactId") {
                yield ArtifactElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

schema PomFile extends XmlFile {}

impl PomFile {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *PomFile {
        for(f in XmlFile(db)) {
            if (f.getFileName() = "pom.xml") {
                yield PomFile {
                    id: f.id,
                    file_name: f.file_name,
                    relative_path: f.relative_path
                }
            }
        }
    }
}

// output relative path of the file, referenced jar name and version
fn out(fileName: string, m1: string, m2: string, m3: string) -> bool {
    let (db = XmlDB::load("coref_xml_src.db")) {
        for (f in PomFile(db),
            e1 in GroupElement(db),
            e2 in VersionElement(db),
            e3 in ArtifactElement(db),
            c1 in XmlCharacter(db),
            c2 in XmlCharacter(db),
            c3 in XmlCharacter(db),
            p in DependencyElement(db)) {
            if (f.key_eq(p.getLocation().getFile()) &&
                fileName = f.getRelativePath() &&
                p.key_eq(e1.getParent()) &&
                e1.key_eq(c1.getBelongedElement()) &&
                m1 = c1.getText() &&
                p.key_eq(e2.getParent()) &&
                e2.key_eq(c2.getBelongedElement()) &&
                m2 = c2.getText() &&
                p.key_eq(e3.getParent()) &&
                e3.key_eq(c3.getBelongedElement()) &&
                m3 = c3.getText()) {
                return true
            }
        }
    }
}

fn main() {
    output(out())
}
`,paraId:227,tocIndex:73},{value:`// script
use coref::xml::*

// select XmlElement containing "mobileService"
schema MobileServiceXmlElement extends XmlElement{}

impl MobileServiceXmlElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *MobileServiceXmlElement {
        for (e in XmlElement(db)) {
            if (e.getElementName() = "mobileService") {
                yield MobileServiceXmlElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }

    pub fn getServiceBeanValue(self) -> string {
        for (a in self.getAttribute()) {
            if (a.getName() = "serviceBean") {
                return a.getValue()
            }
        }
    }
}

// select XmlElement containing "sofa:extension"
schema SofaExtensionXmlElement extends XmlElement{}
impl SofaExtensionXmlElement {
    @data_constraint
    pub fn __all__(db: XmlDB) -> *SofaExtensionXmlElement {
        for (e in XmlElement(db)) {
            if (e.getName() = "sofa:extension") {
                yield SofaExtensionXmlElement {
                    id: e.id,
                    location_id: e.location_id,
                    parent_id: e.parent_id,
                    index_order: e.index_order
                }
            }
        }
    }
}

fn out(value: string) -> bool {
    let (db = XmlDB::load("coref_xml_src.db")) {
        for (m in MobileServiceXmlElement(db), s in SofaExtensionXmlElement(db), ancestor in m.getAnAncestor()) {
            if (s.key_eq(ancestor) && value = m.getServiceBeanValue()) {
                return true
            }
        }
    }
}

fn main() {
    output(out())
}
`,paraId:228,tocIndex:74},{value:`// script
use coref::go::*

fn default_db() -> GoDB {
    return GoDB::load("coref_go_src.db")
}
/**
 * @param name          file name
 * @param funcCount     function/method quantity
 * @param totallines    total lines of file
 * @param codelines     code line of file
 * @param commentlines  comment line of fine
 * @param md5           md5 of this file
 * @param sha256        sha256 of this file
 */
fn out(
    name: string,
    funcCount: int,
    totallines: int,
    codelines: int,
    commentlines: int,
    md5: string,
    sha256: string) -> bool {
    for(f in File(default_db())) {
        if (name = f.getName() &&
            funcCount = f.getFunctionCount() &&
            md5 = f.getMd5Sum() &&
            sha256 = f.getSha256Sum() &&
            totallines = f.getLineInfo().getNumberOfTotalLines() &&
            codelines = f.getLineInfo().getNumberOfCodeLines() &&
            commentlines = f.getLineInfo().getNumberOfCommentLines()) {
            return true
        }
    }
}

fn main() {
    output(out())
}
`,paraId:229,tocIndex:76},{value:`// script
use coref::go::*

fn default_db() -> GoDB {
    return GoDB::load("coref_go_src.db")
}

// Define a predicate called 'out' with parameters fileName, funcName, funcComment, and signature
fn out(fileName: string, funcName: string, funcComment: string, signature: string) -> bool {
    // Check if there exists a Function object 'func'
    for(func in Function(default_db())) {
        if (
            // Get the name of the file the function belongs to and assign it to the variable 'fileName'
            fileName = func.getBelongsFile().getName() &&
            // Get the name of the function and assign it to the variable 'funcName'
            funcName = func.getName() &&
            // Get the associated comment string for the function and assign it to the variable 'funcComment'
            funcComment = func.getAssociatedCommentString() &&
            // Get the function type signature and assign it to the variable 'signature'
            signature = func.getFunctionTypeSignature()) {
            return true
        }
    }
}

fn main() {
    output(out())
}
`,paraId:230,tocIndex:77},{value:`// script
use coref::go::*

fn default_db() -> GoDB {
    return GoDB::load("coref_go_src.db")
}

/**
 * @param name: file name
 * @param func: function name
 * @param cmplx: function cyclomatic complexity
 * @param sl,el,sc,ec: function location info
 */
fn out(name: string, func: string, cmplx: int, sl: int, el: int) -> bool {
    for(f in GoFile(default_db()), function in Function(default_db())) {
        if ((!f.isAutoGenereatedFile()) &&
            f.key_eq(function.getBelongsFile()) &&
            name = f.getName() &&
            func = function.getName() &&
            cmplx = function.getCyclomaticComplexity() &&
            sl = function.getLocation().getStartLineNumber() &&
            el = function.getLocation().getEndLineNumber()) {
            return true
        }
    }
}

fn main() {
    output(out())
}
`,paraId:231,tocIndex:78},{value:"\u8FD0\u884C G\xF6delScript \u811A\u672C\u7684\u65F6\u5019\uFF0C\u7ECF\u5E38\u4F1A\u51FA\u73B0\u8FD0\u884C\u65F6\u95F4\u8D85\u957F\u7684\u95EE\u9898\uFF0C\u8FD9\u91CC\u63D0\u4F9B\u4E00\u4E9B\u57FA\u672C\u5224\u522B\u65B9\u6CD5\u548C\u89E3\u51B3\u65B9\u6848\u3002",paraId:232,tocIndex:79},{value:"\u51FD\u6570\u4F20\u53C2\u5728\u6CA1\u6709",paraId:233,tocIndex:80},{value:"@inline",paraId:233,tocIndex:80},{value:"\u6CE8\u89E3\u7684\u60C5\u51B5\u4E0B\uFF0C\u9ED8\u8BA4\u662F\u4F5C\u4E3A\u201C\u9650\u5B9A\u201D\u6761\u4EF6\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2A\u4F20\u5165\u503C\u5B58\u5728\u3002",paraId:233,tocIndex:80},{value:"\u4F8B\u5982\u4E0B\u9762\u7684\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C",paraId:234,tocIndex:80},{value:"get",paraId:234,tocIndex:80},{value:"\u83B7\u53D6\u5230\u4E00\u4E2A",paraId:234,tocIndex:80},{value:"Class",paraId:234,tocIndex:80},{value:"\u7C7B\u578B\u7684\u4F20\u5165\u53C2\u6570\uFF0C\u4F46\u662F\u5B9E\u9645\u4E0A\u6700\u7EC8\u7684\u7F16\u8BD1\u7ED3\u679C\u4F1A\u7C7B\u4F3C\u4E0B\u9762\u7684\u4EE3\u7801\uFF1A",paraId:234,tocIndex:80},{value:`fn check(class: Class) -> bool {
    if (class.getName().contains("io")) {
        return true
    }
}

// \u5B9E\u9645\u7684\u7F16\u8BD1\u7ED3\u679C
fn check(class: Class) -> bool {
    // \u5B9E\u9645\u4E0A\u662F\u8981\u5148\u62FF Class \u5168\u96C6
    for(__temp_class in Class::__all__(__all_data__)) {
        if (class = __temp_class ) {
            if (class.getName().contains("io")) {
                return true
            }
        }
    }
}
`,paraId:235,tocIndex:80},{value:`\u6240\u4EE5\u5728\u4F20\u53C2\u4E2D schema \u7C7B\u578B\u5F88\u591A\u65F6\uFF0C\u4F1A\u51FA\u73B0\u591A\u4E2A schema \u5168\u96C6\u505A\u7B1B\u5361\u5C14\u79EF\u7684\u60C5\u51B5\uFF0C\u7A7A\u95F4\u548C\u65F6\u95F4\u5F00\u9500\u6025\u5267\u589E\u52A0\u3002
\u89E3\u51B3\u65B9\u6848\u4E5F\u5F88\u7B80\u5355\uFF0C\u52A0\u4E00\u4E2A`,paraId:236,tocIndex:80},{value:"@inline",paraId:236,tocIndex:80},{value:"\u6CE8\u89E3\u5C31\u53EF\u4EE5\uFF1A",paraId:236,tocIndex:80},{value:`@inline
fn check(class: Class) -> bool {
    if (class.getName().contains("io")) {
        return true
    }
}

fn example() -> bool {
    for(class in Class(default_java_db())) {
        if (check(class)) {
            return true
        }
    }
}

// inline \u6CE8\u89E3\u4F1A\u5F3A\u884C\u5728\u4EE3\u7801\u751F\u6210\u9636\u6BB5\u5C06\u51FD\u6570\u5185\u8054\u5230\u8BED\u53E5\u4E2D\uFF0C\u907F\u514D\u591A\u6B21\u52A0\u8F7D\u8868
// \u5B9E\u9645\u7684\u7F16\u8BD1\u7ED3\u679C\u7C7B\u4F3C\u4E8E
fn example() -> bool {
    for(class in Class(default_java_db())) {
        if (class.getName().contains("io")) {
            return true
        }
    }
}
`,paraId:237,tocIndex:80},{value:"\u5728\u4E00\u4E9B\u60C5\u51B5\u4E0B\u4E0D\u53EF\u907F\u514D\u7684\u4F1A\u4F7F\u7528\u975E\u5E38\u591A\u5C42\u6570\u7684 for \u6765\u52A0\u8F7D\u591A\u8868\u8FDB\u884C\u8054\u67E5\uFF0C\u5BFC\u81F4\u7B1B\u5361\u5C14\u79EF\u4E25\u91CD\u81A8\u80C0\u3002\u53EF\u4EE5\u901A\u8FC7\u63D0\u524D\u51CF\u5C11 (\u8FC7\u6EE4) \u96C6\u5408\u5927\u5C0F\u7684\u65B9\u5F0F\u6765\u7F29\u51CF\u7B1B\u5361\u5C14\u79EF\u7ED3\u679C\u6570\u91CF\uFF0C\u4F8B\u5982\uFF1A",paraId:238,tocIndex:81},{value:`fn getByIndex(self) -> Expression {
    let (db = default_java_db()) {
        for(e in Expression(db), p in Parameter(db)) {
            let (i = p.getIndex()) {
                if (e.key_eq(self.getValueByIndex(i))) {
                    return e
                }
            }
        }
    }
}
`,paraId:239,tocIndex:81},{value:`\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0Ce, p \u505A\u7B1B\u5361\u5C14\u79EF\uFF0C\u5BFC\u81F4\u4E2D\u95F4\u8FC7\u7A0B\u5360\u7528\u65F6\u95F4\u592A\u957F\u3002
i \u5B9E\u9645\u4E0A\u662F\u4ECE p \u7684\u4E00\u4E2A\u65B9\u6CD5\u4E2D\u5F97\u5230\u7684\u96C6\u5408\uFF0C\u5E76\u4E14\u5728\u5B9E\u9645\u4F7F\u7528\u4E2D\uFF0C\u8FD9\u4E2A\u96C6\u5408\u975E\u5E38\u5C0F\uFF0C\u8FDC\u6BD4 Parameter \u5168\u96C6\u5C0F\uFF0C\u6240\u4EE5\u53EF\u4EE5\u628A i \u96C6\u5408\u7684\u83B7\u53D6\u62BD\u51FA\u6765\u53D8\u6210\u5355\u72EC\u7684\u51FD\u6570\uFF0C\u751F\u6210\u5C0F\u96C6\u5408\uFF0C\u907F\u514D\u5927\u96C6\u5408\u4E4B\u95F4\u7B1B\u5361\u5C14\u79EF\u8FD0\u7B97\u7684\u540C\u65F6\uFF0C\u8FD8\u4FDD\u8BC1\u4E86\u7ED3\u679C\u7684\u7B49\u4EF7:`,paraId:240,tocIndex:81},{value:`fn getAllParameterIndex() -> *int {
    let (db = default_java_db()) {
        for (p in Parameter(db)) {
            yield p.getIndex()
        }
    }
}

fn getByIndex(self) -> Expression {
    let (db = default_java_db()) {
        for(e in Expression(db), i in getAllParameterIndex()) {
            if (e.key_eq(self.getValueByIndex(i))) {
                return e
            }
        }
    }
}
`,paraId:241,tocIndex:81},{value:"e, p \u7684\u7B1B\u5361\u5C14\u79EF\u5C31\u53D8\u6210\u4E86 e, i \u7684\u7B1B\u5361\u5C14\u79EF\uFF0C\u4ECE\u8FD0\u7B97\u7684\u5C42\u9762\u6765\u770B\uFF0C\u7B1B\u5361\u5C14\u79EF\u5F00\u9500\u53D8\u5C0F\uFF0C",paraId:242,tocIndex:81},{value:"getIndex",paraId:242,tocIndex:81},{value:"\u64CD\u4F5C\u4E5F\u88AB\u63D0\u524D\u4E86\uFF0C\u800C\u4E0D\u662F\u5728\u505A\u7B1B\u5361\u5C14\u79EF\u4E4B\u540E\u8FDB\u884C\uFF0C\u6240\u4EE5\u6027\u80FD\u5927\u5E45\u5EA6\u63D0\u5347\u3002",paraId:242,tocIndex:81},{value:"@inline",paraId:40},{value:"@inline",paraId:40},{value:"inline \u51FD\u6570\u7684\u5E95\u5C42\u673A\u5236\u662F\u5728",paraId:243,tocIndex:82},{value:"\u8C03\u7528\u5904\u5C55\u5F00",paraId:243,tocIndex:82},{value:"\uFF0C\u5982\u679C\u8BE5\u51FD\u6570\u4E0D\u5B58\u5728\u5927\u91CF\u7684 schema \u4F20\u53C2\uFF0C\u5E76\u4E14\u5728\u5F88\u591A\u4F4D\u7F6E\u90FD\u88AB\u8C03\u7528\uFF0Cinline \u53EF\u80FD\u4F1A\u5BFC\u81F4",paraId:243,tocIndex:82},{value:"\u7F16\u8BD1\u7ED3\u679C\u81A8\u80C0\u4E14\u91CD\u590D\u8BA1\u7B97\u6B21\u6570\u6307\u6570\u7EA7\u589E\u52A0",paraId:243,tocIndex:82},{value:`\uFF0C\u6709\u65F6\u53CD\u800C\u4E0D\u5229\u4E8E\u51CF\u5C11\u8FD0\u884C\u65F6\u95F4\u3002
\u5982\u679C\u5B58\u5728\u5FC5\u987B\u8981\u4F7F\u7528 inline \u7684\u60C5\u51B5 (\u6BD4\u5982\u89C4\u907F`,paraId:243,tocIndex:82},{value:"ungrounded",paraId:243,tocIndex:82},{value:")\uFF0C\u4F46\u662F\u4F7F\u7528\u4E4B\u540E\u53CD\u800C\u51FA\u73B0\u8FD0\u884C\u901F\u5EA6\u53D8\u6162\u7684\u60C5\u51B5\uFF0C\u53EF\u4EE5\u91C7\u53D6\u5C06\u5185\u5D4C\u8BED\u53E5\u62C6\u5206\u4E3A predicate \u7684\u65B9\u5F0F\u6765\u907F\u514D\u5C55\u5F00\u5BFC\u81F4\u7684\u7F16\u8BD1\u7ED3\u679C\u81A8\u80C0\u3002",paraId:243,tocIndex:82},{value:"\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C",paraId:244,tocIndex:82},{value:"getValueByAttributeNameByDefaultValue",paraId:244,tocIndex:82},{value:"\u4E3A\u4E86\u907F\u514D",paraId:244,tocIndex:82},{value:"attributeName",paraId:244,tocIndex:82},{value:"\u88AB\u8BC6\u522B\u4E3A",paraId:244,tocIndex:82},{value:"ungrounded",paraId:244,tocIndex:82},{value:"\u6240\u4EE5\u6807\u6CE8",paraId:244,tocIndex:82},{value:"inline",paraId:244,tocIndex:82},{value:"\uFF0C\u540E\u7EED\u5728 if \u5206\u652F\u4E2D\u6DFB\u52A0\u4E86\u4E00\u4E2A\u6761\u4EF6\u8BED\u53E5\uFF0C\u4F46\u662F\u5BFC\u81F4\u4E86\u6267\u884C\u65F6\u95F4\u4ECE 3 \u79D2\u53D8\u6210 35 \u79D2\uFF1A",paraId:244,tocIndex:82},{value:`impl XmlElementBase {
  @inline
  fn getValueByAttributeNameByDefaultValue(self, attributeName: string) -> string {
    if (self.hasAttribute(attributeName)) {
      // return self.getValueByAttributeName(attributeName)
      // \u66F4\u6539\u4E3A\u4E86\u5982\u4E0B\u8BED\u53E5:
      let(value = self.getValueByAttributeName(attributeName)) {
        if (value = "n/a") {
          return ""
        }
        if (value != "n/a") {
          return value
        }
      }
    }
    if (!self.hasAttribute(attributeName)) {
      return "null"
    }
  }
}
`,paraId:245,tocIndex:82},{value:"\u53EF\u4EE5\u770B\u5230\u7684\u662F\uFF0C\u589E\u52A0\u4E86\u4E00\u5C42\u8D4B\u503C\u548C\u4E00\u5C42\u6761\u4EF6\u8BED\u53E5\uFF0C\u5728\u4E0B\u6587\u4E2D\uFF0C\u8FD9\u4E2A\u51FD\u6570\u88AB\u8C03\u7528\u4E86\u63A5\u8FD1 20 \u6B21\uFF0C\u5BFC\u81F4\u4E86\u4EE3\u7801\u63A5\u8FD1 20 \u6B21\u88AB\u91CD\u590D\u5C55\u5F00\uFF0C\u540C\u65F6\u4E5F\u9020\u6210\u4E86\u6027\u80FD\u51FA\u73B0\u4E86\u4E00\u4E2A\u6570\u91CF\u7EA7\u7684\u5DEE\u8DDD\u3002\u6B64\u65F6\u53EF\u4EE5\u5C06\u66F4\u6539\u7684\u8BED\u53E5\u63D0\u53D6\u51FA\u6765\uFF0C\u7531\u4E8E\u63D0\u53D6\u51FA\u6765\u7684\u51FD\u6570\u5E76\u6CA1\u6709\u4F7F\u7528\u590D\u6742\u7C7B\u578B\u4F5C\u4E3A\u4F20\u53C2\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981 inline \u6027\u80FD\u4E5F\u6CA1\u6709\u635F\u5931\uFF0C\u63D0\u53D6\u4E4B\u540E\u7ED3\u679C\u5982\u4E0B\uFF1A",paraId:246,tocIndex:82},{value:`impl XmlElementBase {
  fn getTransValueByAttributeName(self, attributeName: string) -> string {
    let (value = self.getValueByAttributeName(attributeName)) {
      if (value = "n/a") {
        return ""
      }
      if (value != "n/a") {
        return value
      }
    }
  }
  @inline
  fn getValueByAttributeNameByDefaultValue(self, attributeName: string) -> string {
    if (self.hasAttribute(attributeName)) {
      return self.getTransValueByAttributeName(attributeName)
    }
    if (!self.hasAttribute(attributeName)) {
      return "null"
    }
  }
}
`,paraId:247,tocIndex:82},{value:"\u8FD9\u6837\u6267\u884C\u65F6\u95F4\u4ECE 35 \u79D2\u56DE\u5230 3 \u79D2\uFF0C\u7B26\u5408\u9884\u671F\u3002",paraId:248,tocIndex:82},{value:"\u53C2\u89C1",paraId:249,tocIndex:83},{value:"\u5B89\u88C5\u3001\u914D\u7F6E\u3001\u8FD0\u884C",paraId:250,tocIndex:83}]},66173:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u786C\u4EF6\uFF1A4C8G",paraId:0,tocIndex:1},{value:"\u73AF\u5883\u8981\u6C42\uFF1Ajava 1.8 \u548C python3.8 \u4EE5\u4E0A\u6267\u884C\u73AF\u5883, \u8BF7\u4FDD\u8BC1 java python \u53EF\u6267\u884C\u73AF\u5883",paraId:1,tocIndex:1},{value:"CodeFuse-Query \u4E0B\u8F7D\u5305\u662F\u4E00\u4E2A zip \u5B58\u6863\uFF0C\u5176\u4E2D\u5305\u542B\u5DE5\u5177\u3001\u811A\u672C\u548C\u5404\u79CD\u7279\u5B9A\u4E8E CodeFuse-Query \u7684\u6587\u4EF6\u3002\u5982\u679C\u60A8\u6CA1\u6709 CodeFuse-Query \u8BB8\u53EF\u8BC1\uFF0C\u90A3\u4E48\u4E0B\u8F7D\u6B64\u5B58\u6863\u5373\u8868\u793A\u60A8\u540C\u610F ",paraId:2,tocIndex:2},{value:"CodeFuse-Query \u6761\u6B3E\u548C\u6761\u4EF6",paraId:3,tocIndex:2},{value:"\u3002",paraId:2,tocIndex:2},{value:`\u76EE\u524D\u4EC5\u652F\u6301 mac\uFF0Clinux \u7CFB\u7EDF\u4E0B\u4F7F\u7528 CodeFuse-Query\uFF0C\u4E0B\u8F7D\u5730\u5740\u4E3A:\uFF08\u76EE\u524D\u4EC5\u7ED9\u51FA\u793A\u4F8B\uFF0C\u5F00\u6E90\u540E\u7ED9\u51FA\u6B63\u5F0F\u4E0B\u8F7D\u5730\u5740\uFF09
`,paraId:2,tocIndex:2},{value:"mac: ",paraId:4,tocIndex:2},{value:"CodeFuse-Query 2.0.0",paraId:4,tocIndex:2},{value:"linux: ",paraId:4,tocIndex:2},{value:"CodeFuse-Query 2.0.0",paraId:4,tocIndex:2},{value:"\u60A8\u5E94\u8BE5\u59CB\u7EC8\u4F7F\u7528 CodeFuse-Query \u6346\u7ED1\u5305\uFF0C\u786E\u4FDD\u7248\u672C\u517C\u5BB9\u6027",paraId:2,tocIndex:2},{value:"mac \u7CFB\u7EDF\u4E0B\u76F4\u63A5\u4E0B\u8F7D\u8F6F\u4EF6\u5305\u4F1A\u63D0\u793A\u9700\u8981\u9A8C\u8BC1\u5F00\u53D1\u8005",paraId:5,tocIndex:3},{value:"\u53EF\u5728\u5B89\u5168\u6027\u8BBE\u7F6E\u4E2D\u8FDB\u884C\u4FEE\u6539\u9A8C\u8BC1",paraId:6,tocIndex:3},{value:"\u70B9\u51FB\u4ECD\u7136\u5141\u8BB8",paraId:7,tocIndex:3},{value:"\u8BE6\u7EC6\u6B65\u9AA4\u53EF\u53C2\u7167\uFF1A",paraId:8,tocIndex:3},{value:"Mac \u5B98\u65B9\u6587\u6863: \u5982\u4F55\u5728 Mac \u4E0A\u5B89\u5168\u5730\u6253\u5F00 App",paraId:8,tocIndex:3},{value:"\u6216\u4F7F\u7528",paraId:9,tocIndex:3},{value:"xattr -d com.apple.quarantine",paraId:9,tocIndex:3},{value:"\u547D\u4EE4\uFF0C\u5220\u9664 CodeFuse-Query \u88AB macOS \u8D4B\u4E88\u7684\u5916\u90E8\u5C5E\u6027",paraId:9,tocIndex:3},{value:"xattr -d com.apple.quarantine",paraId:10,tocIndex:3},{value:"\u662F\u4E00\u4E2A\u547D\u4EE4\u884C\u6307\u4EE4\uFF0C\u7528\u4E8E\u5220\u9664\u6587\u4EF6\u7684 ",paraId:10,tocIndex:3},{value:"com.apple.quarantine",paraId:10,tocIndex:3},{value:" \u6269\u5C55\u5C5E\u6027\u3002\u8BE5\u6269\u5C55\u5C5E\u6027\u662F macOS \u7CFB\u7EDF\u7528\u6765\u6807\u8BB0\u4ECE\u5916\u90E8\u6765\u6E90\u4E0B\u8F7D\u7684\u6587\u4EF6\u6216\u5E94\u7528\u7A0B\u5E8F\u7684\u5C5E\u6027\uFF0C\u4EE5\u786E\u4FDD\u5B89\u5168\u6027\u3002",paraId:10,tocIndex:3},{value:`xattr -d com.apple.quarantine path/to/file
`,paraId:11,tocIndex:3},{value:"\u89E3\u538B\u7F29\uFF1A\u547D\u4EE4\u884C\u89E3\u538B\u6216\u8005\u76F4\u63A5\u70B9\u4E00\u4E0B\u89E3\u538B\u7F29\u5373\u53EF",paraId:12,tocIndex:4},{value:"\u9700\u8981\u5177\u5907 java8 \u548C python3.8 \u4EE5\u4E0A\u6267\u884C\u73AF\u5883",paraId:13,tocIndex:4},{value:"CodeFuse-Query \u89E3\u538B\u540E\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\u8FD0\u884C\u53EF\u6267\u884C\u6587\u4EF6\u6765\u8FD0\u884C sparrow \u8FDB\u7A0B\uFF1A",paraId:14,tocIndex:4},{value:"\u901A\u8FC7\u6267\u884C ",paraId:15,tocIndex:4},{value:"<extraction-root>/sparrow-cli/sparrow",paraId:15,tocIndex:4},{value:"\uFF0C\u5176\u4E2D ",paraId:15,tocIndex:4},{value:"<extraction-root>",paraId:15,tocIndex:4},{value:" \u662F\u63D0\u53D6 CodeFuse-Query \u5305\u7684\u6587\u4EF6\u5939\u3002",paraId:15,tocIndex:4},{value:"\u901A\u8FC7\u6DFB\u52A0 ",paraId:16,tocIndex:4},{value:"<extraction-root>/sparrow-cli",paraId:16,tocIndex:4},{value:" \u5230\u60A8\u7684 PATH\uFF0C\u4EE5\u4FBF\u60A8\u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\u53EF\u6267\u884C\u6587\u4EF6 sparrow\u3002",paraId:16,tocIndex:4},{value:"\u6B64\u65F6\uFF0C\u60A8\u53EF\u4EE5\u6267\u884C sparrow \u547D\u4EE4\u3002",paraId:17,tocIndex:4},{value:"\u786E\u8BA4\u9700\u8981\u6267\u884C\u67E5\u8BE2\u7684\u6E90\u4EE3\u7801\u76EE\u5F55",paraId:18,tocIndex:6},{value:"\u62BD\u53D6\u6E90\u4EE3\u7801\u7684\u4EE3\u7801\u6570\u636E",paraId:19,tocIndex:6},{value:"\u57FA\u4E8E\u4EE3\u7801\u6570\u636E\u7F16\u5199 godel \u811A\u672C\uFF0C\u83B7\u53D6\u81EA\u5DF1\u60F3\u8981\u7684\u4EE3\u7801\u6570\u636E",paraId:20,tocIndex:6},{value:"godel \u811A\u672C\u5982\u4F55\u7F16\u5199\u53C2\u7167 ",paraId:21,tocIndex:6},{value:"G\xF6delScript \u67E5\u8BE2\u8BED\u8A00",paraId:22,tocIndex:6},{value:`<extraction-root>/sparrow-cli/sparrow database create -s <src> -lang <language> -o <output>
`,paraId:23,tocIndex:8},{value:"<output>",paraId:24,tocIndex:8},{value:" \u4EE3\u7801\u5E93\u62BD\u53D6\u51FA\u7684\u4EE3\u7801\u6570\u636E\u7684\u8F93\u51FA\u76EE\u5F55\uFF0C\u540E\u6587\u6570\u636E\u5E93\u4F4D\u7F6E\uFF1A",paraId:24,tocIndex:8},{value:"<database>",paraId:24,tocIndex:8},{value:"<language>",paraId:25,tocIndex:8},{value:" \u9700\u8981\u8FDB\u884C\u4EE3\u7801\u62BD\u53D6\u7684\u8BED\u8A00\uFF0C\u5206\u6790 java \u5219\u586B\u5199 java",paraId:25,tocIndex:8},{value:"<src>",paraId:26,tocIndex:8},{value:" \u9700\u8981\u626B\u63CF\u7684\u6E90\u4EE3\u7801\u76EE\u5F55",paraId:26,tocIndex:8},{value:"\u5728\u6570\u636E\u62BD\u53D6\u6B65\u9AA4\uFF0C\u83B7\u5F97\u811A\u672C\u6267\u884C\u9700\u8981\u7684\u6570\u636E\u5E93 ",paraId:27,tocIndex:8},{value:"<database>",paraId:27,tocIndex:8},{value:"\u5047\u8BBE\u5177\u5907\u5982\u4E0B godel \u811A\u672C, \u83B7\u53D6\u6307\u5B9A\u4ED3\u5E93\u7684\u6240\u6709 java \u65B9\u6CD5\u540D",paraId:28,tocIndex:9},{value:"godel \u811A\u672C\u5177\u4F53\u7F16\u5199\u53EF\u53C2\u7167 ",paraId:29,tocIndex:9},{value:"G\xF6delScript \u67E5\u8BE2\u8BED\u8A00",paraId:30,tocIndex:9},{value:`// script
use coref::java::*

// \u5B9A\u4E49\u5168\u5C40java\u6570\u636E\u5E93
fn default_db() -> JavaDB {
    return JavaDB::load("coref_java_src.db")
}

// \u904D\u5386\u6240\u6709\u65B9\u6CD5\uFF0C\u83B7\u53D6\u65B9\u6CD5\u540D\uFF0C\u8F93\u51FA\u9650\u5236
fn getFunctionName(name: string) -> bool {
    let (db = default_db()) {
        for (method in Method(db)) {
            if (name = method.getName()) {
                return true
            }
        }
    }
}


fn main() {
    output(getFunctionName())
}
`,paraId:31,tocIndex:9},{value:`<extraction-root>/sparrow-cli/sparrow query run -d <database> -gdl <gdl_path> -o <output>
`,paraId:32,tocIndex:10},{value:"<database>",paraId:33,tocIndex:10},{value:" \u9700\u8981\u626B\u63CF\u7684\u4EE3\u7801\u5E93\u62BD\u53D6\u51FA\u7684\u4EE3\u7801\u6570\u636E\uFF0C\u4E0E\u4E0A\u6587\u7684 ",paraId:33,tocIndex:10},{value:"<output>",paraId:33,tocIndex:10},{value:" \u4E00\u81F4",paraId:33,tocIndex:10},{value:"<gdl_path>",paraId:34,tocIndex:10},{value:" godel \u811A\u672C\u6240\u5728\u8DEF\u5F84\uFF0C\u53EF\u586B\u5199\u6240\u5728\u76EE\u5F55\uFF0C\u4F1A\u4F9D\u6B21\u6267\u884C\u6240\u5728\u76EE\u5F55\u4E0B\u6240\u6709\u4EE5",paraId:34,tocIndex:10},{value:".gdl",paraId:34,tocIndex:10},{value:"\u7ED3\u5C3E\u7684\u6587\u4EF6",paraId:34,tocIndex:10},{value:"<output>",paraId:35,tocIndex:10},{value:" \u8F93\u51FA\u8DEF\u5F84\u76EE\u5F55\uFF0Cxxx.gdl \u7684\u6267\u884C\u7ED3\u679C\u4F1A\u4EE5 json \u683C\u5F0F\u5B58\u5165 ",paraId:35,tocIndex:10},{value:"<output>/xxx.json",paraId:35,tocIndex:10},{value:" \u4E2D",paraId:35,tocIndex:10},{value:"\u53EF\u901A\u8FC7\u67E5\u770B\u6570\u636E\u6587\u4EF6\u786E\u8BA4\u811A\u672C\u6267\u884C\u662F\u5426\u6B63\u786E",paraId:36,tocIndex:10},{value:"\u82E5\u5B58\u5728\u4EE5\u4E0B java \u4EE3\u7801",paraId:37,tocIndex:11},{value:`public class HelloWorld {
    public static void main(String[] args) {
        HelloWorld tmp = new HelloWorld();
        String hello = tmp.getHello();
        String world = tmp.getWorld();
        System.out.println(hello + " " + world);
    }

    public String getHello() {
        return "Hello";
    }

    public String getWorld() {
        return "World";
    }
}

`,paraId:38,tocIndex:11},{value:`sparrow database create -s <example> -lang java -o ./db/
sparrow query run -d ./db/ -gdl example.gdl -o ./
`,paraId:39,tocIndex:11},{value:"<example>",paraId:40,tocIndex:11},{value:" \u4E3A\u4E0A\u8FF0\u7ED9\u51FA\u7684 java \u6587\u4EF6\u5B58\u50A8\u76EE\u5F55",paraId:40,tocIndex:11},{value:"example.gdl \u4E3A\u4E0A\u8FF0\u7ED9\u51FA\u7684 gdl \u793A\u4F8B\uFF0C\u5B58\u50A8\u5230\u5F53\u524D\u76EE\u5F55",paraId:41,tocIndex:11},{value:"\u6267\u884C\u5B8C\u6BD5\u540E\u53EF\u5728\u5F53\u524D\u76EE\u5F55\u4E0B\u627E\u5230 example.json \u6587\u4EF6",paraId:42,tocIndex:11},{value:"\u5BF9\u5E94\u7684\u811A\u672C\u8F93\u51FA json \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B",paraId:43,tocIndex:11},{value:`[{"name": "getHello"},
{"name": "getWorld"},
{"name": "main"}]

`,paraId:44,tocIndex:11}]},95051:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"CodeFuse-Query \u662F\u4E00\u4E2A\u652F\u6301\u5BF9 ",paraId:0,tocIndex:0},{value:"\u5404\u79CD\u7F16\u7A0B\u8BED\u8A00",paraId:0,tocIndex:0},{value:" \u8FDB\u884C ",paraId:0,tocIndex:0},{value:"\u7ED3\u6784\u5316\u5206\u6790",paraId:0,tocIndex:0},{value:" \u7684 ",paraId:0,tocIndex:0},{value:"\u4EE3\u7801\u6570\u636E\u5E73\u53F0",paraId:0,tocIndex:0},{value:`\u3002\u6838\u5FC3\u601D\u60F3\u662F\u5229\u7528\u5404\u79CD\u8BED\u8A00\u89E3\u6790\u5668\u5C06\u6240\u6709\u4EE3\u7801\u8F6C\u5316\u4E3A\u6570\u636E\uFF0C\u5E76\u5C06\u5176\u7ED3\u6784\u5316\u5B58\u50A8\u5230\u4EE3\u7801\u6570\u636E\u5E93\u4E2D\u3002\u901A\u8FC7\u4F7F\u7528\u81EA\u5B9A\u4E49\u67E5\u8BE2\u8BED\u8A00\uFF0C\u6309\u7167\u4E1A\u52A1\u9700\u6C42\u8FDB\u884C\u6570\u636E\u5206\u6790\u3002\u5982\u4E0B\u56FE\u6240\u793A\uFF1A
`,paraId:0,tocIndex:0},{value:"\u4ECE\u6574\u4F53\u4E0A\u6765\u8BF4\uFF0CCodeFuse-Query \u4EE3\u7801\u6570\u636E\u5E73\u53F0\u5206\u4E3A\u4E09\u5927\u90E8\u5206\uFF1A\u4EE3\u7801\u6570\u636E\u6A21\u578B\u3001\u4EE3\u7801\u67E5\u8BE2 DSL\u3001\u5E73\u53F0\u4EA7\u54C1\u5316\u670D\u52A1\u3002\u4E3B\u8981\u5DE5\u4F5C\u6D41\u7A0B\u5982\u4E0B\u56FE\u6240\u793A\uFF1A",paraId:1,tocIndex:1},{value:`\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E00\u79CD\u4EE3\u7801\u6570\u636E\u5316\u548C\u6807\u51C6\u5316\u7684\u6A21\u578B\uFF1ACOREF\uFF0C\u8981\u6C42\u6240\u6709\u4EE3\u7801\u90FD\u8981\u80FD\u901A\u8FC7\u5404\u79CD\u8BED\u8A00\u62BD\u53D6\u5668\u8F6C\u5316\u5230\u8BE5\u6A21\u578B\u3002
COREF \u4E3B\u8981\u5305\u542B\u4EE5\u4E0B\u51E0\u79CD\u4FE1\u606F\uFF1A
`,paraId:2,tocIndex:3},{value:"COREF",paraId:2,tocIndex:3},{value:` = AST \uFF08\u62BD\u8C61\u8BED\u6CD5\u6811\uFF09 + ASG\uFF08\u62BD\u8C61\u8BED\u4E49\u56FE\uFF09 + CFG\uFF08\u63A7\u5236\u6D41\u56FE\uFF09 + PDG\uFF08\u7A0B\u5E8F\u4F9D\u8D56\u56FE\uFF09+ Call Graph\uFF08\u51FD\u6570\u8C03\u7528\u56FE\uFF09 + Class Hierarchy \uFF08\u7C7B\u7EE7\u627F\u5173\u7CFB\uFF09+ Documentation\uFF08\u6587\u6863/\u6CE8\u91CA\u4FE1\u606F\uFF09
\u6CE8\uFF1A\u7531\u4E8E\u6BCF\u79CD\u4FE1\u606F\u7684\u8BA1\u7B97\u96BE\u5EA6\u4E0D\u4E00\uFF0C\u6240\u4EE5\u5E76\u4E0D\u662F\u6240\u6709\u8BED\u8A00\u7684 COREF \u4FE1\u606F\u5747\u5305\u542B\u4EE5\u4E0A\u5168\u90E8\u4FE1\u606F\uFF0C\u57FA\u7840\u4FE1\u606F\u4E3B\u8981\u6709 AST\u3001ASG\u3001Call Graph\u3001Class Hierarchy \u548C Documentation\uFF0C\u5176\u4ED6\u4FE1\u606F\uFF08 CFG \u548C PDG \uFF09\u4ECD\u5728\u5EFA\u8BBE\u4E2D\uFF0C\u540E\u7EED\u4F1A\u9010\u6B65\u652F\u6301\u3002`,paraId:2,tocIndex:3},{value:"\u57FA\u4E8E\u751F\u6210\u7684 COREF \u4EE3\u7801\u6570\u636E\uFF0CCodeFuse-Query \u4F7F\u7528\u4E00\u79CD\u81EA\u5B9A\u4E49\u7684 DSL \u8BED\u8A00 ",paraId:3,tocIndex:4},{value:"G\xF6del",paraId:3,tocIndex:4},{value:` \u6765\u8FDB\u884C\u67E5\u8BE2\uFF0C\u4ECE\u800C\u5B8C\u6210\u4EE3\u7801\u5206\u6790\u9700\u6C42\u3002
G\xF6del \u662F\u4E00\u79CD\u903B\u8F91\u63A8\u7406\u8BED\u8A00\uFF0C\u5B83\u7684\u5E95\u5C42\u5B9E\u73B0\u662F\u57FA\u4E8E\u903B\u8F91\u63A8\u7406\u8BED\u8A00 Datalog\uFF0C\u901A\u8FC7\u63CF\u8FF0\u201C\u4E8B\u5B9E\u201D\u548C\u201C\u89C4\u5219\u201D\uFF0C \u7A0B\u5E8F\u53EF\u4EE5\u4E0D\u65AD\u5730\u63A8\u5BFC\u51FA\u65B0\u7684\u4E8B\u5B9E\u3002G\xF6del \u4E5F\u662F\u4E00\u4E2A\u58F0\u660E\u5F0F\u8BED\u8A00\uFF0C\u76F8\u8F83\u4E8E\u547D\u4EE4\u5F0F\u7F16\u7A0B\uFF0C\u58F0\u660E\u5F0F\u7F16\u7A0B\u66F4\u52A0\u7740\u91CD\u63CF\u8FF0\u201C\u8981\u4EC0\u4E48\u201D\uFF0C\u800C\u628A\u5982\u4F55\u5B9E\u73B0\u4EA4\u7ED9\u8BA1\u7B97\u5F15\u64CE\u3002
\u65E2\u7136\u4EE3\u7801\u5DF2\u7ECF\u8F6C\u5316\u4E3A\u5173\u7CFB\u578B\u6570\u636E\uFF08COREF \u6570\u636E\u4EE5\u5173\u7CFB\u578B\u6570\u636E\u8868\u7684\u5F62\u5F0F\u5B58\u50A8\uFF09\uFF0C\u76F8\u4FE1\u5927\u5BB6\u4F1A\u6709\u7591\u95EE\uFF0C\u4E3A\u4EC0\u4E48\u4E0D\u76F4\u63A5\u7528 SQL\uFF0C\u6216\u8005\u662F\u76F4\u63A5\u4F7F\u7528 SDK\uFF0C\u800C\u662F\u53C8\u8981\u4E13\u95E8\u53BB\u5B66\u4E60\u4E00\u4E2A\u65B0\u7684 DSL \u8BED\u8A00\u5462\uFF1F\u56E0\u4E3A Datalog \u7684\u8BA1\u7B97\u5177\u5907\u5355\u8C03\u6027\u548C\u7EC8\u6B62\u6027\uFF0C\u7B80\u5355\u7406\u89E3\u5C31\u662F\uFF0CDatalog \u662F\u5728\u727A\u7272\u4E86\u8868\u8FBE\u80FD\u529B\u7684\u524D\u63D0\u4E0B\u83B7\u5F97\u4E86\u66F4\u9AD8\u7684\u6027\u80FD\uFF0C\u800C G\xF6del \u7EE7\u627F\u4E86\u8FD9\u4E2A\u7279\u70B9\u3002`,paraId:3,tocIndex:4},{value:"\u76F8\u6BD4\u8F83 SDK\uFF0CG\xF6del \u7684\u4E3B\u8981\u4F18\u70B9\u662F\u6613\u5B66\u6613\u7528\uFF0C\u58F0\u660E\u5F0F\u7684\u63CF\u8FF0\uFF0C\u7528\u6237\u4E0D\u9700\u8981\u5173\u6CE8\u4E2D\u95F4\u7684\u8FD0\u7B97\u8FC7\u7A0B\uFF0C\u53EA\u9700\u8981\u50CF SQL \u4E00\u6837\u7B80\u5355\u63CF\u8FF0\u6E05\u695A\u9700\u6C42\u5373\u53EF\u3002",paraId:4,tocIndex:4},{value:"\u76F8\u6BD4\u8F83 SQL\uFF0CG\xF6del \u7684\u4F18\u70B9\u4E3B\u8981\u662F\u63CF\u8FF0\u80FD\u529B\u66F4\u5F3A\u3001\u8BA1\u7B97\u901F\u5EA6\u66F4\u5FEB\uFF0C\u4F8B\u5982\u63CF\u8FF0\u9012\u5F52\u7B97\u6CD5\u548C\u591A\u8868\u8054\u5408\u67E5\u8BE2\uFF0C\u800C\u8FD9\u4E9B\u5BF9\u4E8E SQL \u6765\u8BF4\u90FD\u662F\u6BD4\u8F83\u56F0\u96BE\u7684\u3002",paraId:4,tocIndex:4},{value:"CodeFuse-Query \u5305\u62EC",paraId:5,tocIndex:5},{value:"Sparrow CLI ",paraId:5,tocIndex:5},{value:"\u548C CodeFuse-Query",paraId:5,tocIndex:5},{value:"\u5728\u7EBF\u670D\u52A1 Query \u4E2D\u5FC3",paraId:5,tocIndex:5},{value:"\u3002Sparrow CLI \u5305\u542B\u4E86\u6240\u6709\u7EC4\u4EF6\u548C\u4F9D\u8D56\uFF0C\u4F8B\u5982\u62BD\u53D6\u5668\uFF0C\u6570\u636E\u6A21\u578B\uFF0C\u7F16\u8BD1\u5668\u7B49\uFF0C\u7528\u6237\u5B8C\u5168\u53EF\u4EE5\u901A\u8FC7\u4F7F\u7528 Sparrow CLI \u5728\u672C\u5730\u8FDB\u884C\u4EE3\u7801\u6570\u636E\u751F\u6210\u548C\u67E5\u8BE2\uFF08Sparrow CLI \u7684\u4F7F\u7528\u65B9\u5F0F\u8BF7\u89C1 \u7B2C 3 \u8282 \u5B89\u88C5\u3001\u914D\u7F6E\u3001\u8FD0\u884C\uFF09\u3002\u5982\u679C\u7528\u6237\u6709\u5728\u7EBF\u67E5\u8BE2\u7684\u9700\u6C42\uFF0C\u53EF\u4EE5\u4F7F\u7528 Query \u4E2D\u5FC3\u8FDB\u884C\u5B9E\u9A8C\u3002",paraId:5,tocIndex:5},{value:"\u622A\u81F3 2023-10-31 \u4E3A\u6B62\uFF0CCodeFuse-Query \u652F\u6301\u5BF9 11 \u79CD\u7F16\u7A0B\u8BED\u8A00\u8FDB\u884C\u6570\u636E\u5206\u6790\u3002\u5176\u4E2D\u5BF9 5 \u79CD\u7F16\u7A0B\u8BED\u8A00\uFF08 Java\u3001JavaScript\u3001TypeScript\u3001XML\u3001Go \uFF09\u7684\u652F\u6301\u5EA6\u975E\u5E38\u6210\u719F\uFF0C\u5BF9\u5269\u4F59 6 \u79CD\u7F16\u7A0B\u8BED\u8A00\uFF08Object-C\u3001C++\u3001Python3\u3001Swift\u3001SQL\u3001Properties \uFF09\u7684\u652F\u6301\u5EA6\u5904\u4E8E beta \u9636\u6BB5\uFF0C\u8FD8\u6709\u8FDB\u4E00\u6B65\u63D0\u5347\u548C\u5B8C\u5584\u7684\u7A7A\u95F4\uFF0C\u5177\u4F53\u7684\u652F\u6301\u60C5\u51B5\u89C1\u4E0B\u8868\uFF1A",paraId:6,tocIndex:6},{value:"\u8BED\u8A00",paraId:7,tocIndex:6},{value:"\u72B6\u6001",paraId:7,tocIndex:6},{value:"COREF \u6A21\u578B\u8282\u70B9\u6570",paraId:7,tocIndex:6},{value:"Java",paraId:7,tocIndex:6},{value:"\u6210\u719F",paraId:7,tocIndex:6},{value:"162",paraId:7,tocIndex:6},{value:"XML",paraId:7,tocIndex:6},{value:"\u6210\u719F",paraId:7,tocIndex:6},{value:"12",paraId:7,tocIndex:6},{value:"TS/JS",paraId:7,tocIndex:6},{value:"\u6210\u719F",paraId:7,tocIndex:6},{value:"392",paraId:7,tocIndex:6},{value:"Go",paraId:7,tocIndex:6},{value:"\u6210\u719F",paraId:7,tocIndex:6},{value:"40",paraId:7,tocIndex:6},{value:"OC/C++",paraId:7,tocIndex:6},{value:"beta",paraId:7,tocIndex:6},{value:"53/397",paraId:7,tocIndex:6},{value:"Python3",paraId:7,tocIndex:6},{value:"beta",paraId:7,tocIndex:6},{value:"93",paraId:7,tocIndex:6},{value:"Swift",paraId:7,tocIndex:6},{value:"beta",paraId:7,tocIndex:6},{value:"248",paraId:7,tocIndex:6},{value:"SQL",paraId:7,tocIndex:6},{value:"beta",paraId:7,tocIndex:6},{value:"750",paraId:7,tocIndex:6},{value:"Properties",paraId:7,tocIndex:6},{value:"beta",paraId:7,tocIndex:6},{value:"9",paraId:7,tocIndex:6},{value:"\u6CE8\uFF1A\u4EE5\u4E0A\u8BED\u8A00\u72B6\u6001\u7684\u6210\u719F\u7A0B\u5EA6\u5224\u65AD\u6807\u51C6\u662F\u6839\u636E COREF \u5305\u542B\u7684\u4FE1\u606F\u79CD\u7C7B\u548C\u5B9E\u9645\u843D\u5730\u60C5\u51B5\u6765\u8FDB\u884C\u5224\u5B9A\uFF0C\u9664\u4E86 OC/C++\u5916\uFF0C\u6240\u6709\u8BED\u8A00\u5747\u652F\u6301\u4E86\u5B8C\u6574\u7684 AST \u4FE1\u606F\u548C Documentation \u4FE1\u606F\uFF0C\u4EE5 Java \u4E3A\u4F8B\uFF0CCOREF for Java \u8FD8\u652F\u6301\u4E86 ASG\u3001Call Graph\u3001Class Hierarchy\u3001\u4EE5\u53CA\u90E8\u5206 CFG \u4FE1\u606F\u3002",paraId:8,tocIndex:6},{value:"\u5C0F\u5F00\u53D1\u540C\u5B66\u60F3\u77E5\u9053 Repo A \u91CC\u9762\u4F7F\u7528\u4E86\u54EA\u4E9B String \u578B\u7684\u53D8\u91CF\uFF0C\u6240\u4EE5\u4ED6\u5199\u4E86\u4E00\u4E2A Godel \u5982\u4E0B\uFF0C\u4EA4\u7ED9 CodeFuse-Query \u7CFB\u7EDF\u7ED9\u4ED6\u8FD4\u56DE\u4E86\u7ED3\u679C\u3002",paraId:9,tocIndex:8},{value:`// script
use coref::java::*

fn out(var: string) -> bool {
  for(v in Variable(JavaDB::load("coref_java_src.db"))) {
    if (v.getType().getName() = "String" && var = v.getName()) {
      return true
    }
  }
}

fn main() {
  output(out())
}
`,paraId:10,tocIndex:8},{value:"\u7C7B\u4F3C\u9700\u6C42\uFF1A\u67E5\u8BE2\uFF1A\u7C7B\uFF0C\u51FD\u6570\uFF0C\u53D8\u91CF\uFF0C\u8FD4\u56DE\u503C\uFF0C\u8C03\u7528\u56FE\uFF0C\u7C7B\u7EE7\u627F\u7B49\u7B49\u3002",paraId:11,tocIndex:8},{value:"\u5C0F\u5B89\u5168\u662F XX \u56E2\u961F\u7684\u5B89\u5168\u540C\u5B66\uFF0C\u4ED6\u505A\u4E86",paraId:12,tocIndex:9},{value:"\u4E00\u5957\u7CFB\u7EDF",paraId:12,tocIndex:9},{value:`\u4EA4\u53C9\u9A8C\u8BC1\u65E5\u5FD7\u6570\u636E\u548C\u4EE3\u7801\u6570\u636E\u662F\u5426\u4E00\u81F4\u3002\u4E3A\u4E86\u5B8C\u6210\u67D0\u4E2A\u5206\u6790\u4EFB\u52A1\uFF0C\u4ED6\u8BA1\u5212\u901A\u8FC7\u5199 Godel \u67E5\u8BE2\u51FA\u6765\u9759\u6001\u6570\u636E D1\uFF0C\u5408\u5E76\u52A8\u6001\u6570\u636E D2\uFF0C\u8054\u5408\u5206\u6790\u5F97\u51FA\u7ED3\u8BBA C\u3002\u5C0F\u5B89\u5168\u901A\u8FC7\u5728 CodeFuse-Query \u4E0A\u9762\u7F16\u5199 Godel Query \u6D4B\u8BD5\u6280\u672F\u4E0A\u53EF\u884C\u4E4B\u540E\uFF0C\u4F7F\u7528 CodeFuse-Query \u63D0\u4F9B\u7684\u6807\u51C6 API \u5C06\u7CFB\u7EDF\u5BF9\u63A5\u4E86\u8D77\u6765\u3002
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u901A\u8FC7\u9759\u6001\u5206\u6790\u8FDB\u884C\u7CFB\u7EDF\u7684\u5361\u70B9\uFF0C\u63D0\u9AD8\u6D4B\u8BD5\u7684\u6548\u7387\uFF0C\u901A\u8FC7\u5206\u6790\u51FA\u6765\u7684\u6570\u636E\u5408\u5E76\u6210\u8BF4\u660E\u6587\u6863\u3002`,paraId:12,tocIndex:9},{value:"\u5C0F TL \u540C\u5B66\u53D1\u73B0\u56E2\u961F\u603B\u662F\u5199\u51FA\u5F88\u591A\u7C7B\u4F3C\u7684 Bug A\uFF0C",paraId:13,tocIndex:10},{value:"\u4ED6\u60F3\u9488\u5BF9 Bug A \u5236\u5B9A\u4E00\u4E2A\u4EE3\u7801\u89C4\u5219\u548C\u5176\u68C0\u67E5\u5668",paraId:13,tocIndex:10},{value:`\uFF0C\u5E76\u5728 CodeReview \u9636\u6BB5\u505A\u4E2A\u5361\u70B9\u3002\u5C0F TL \u901A\u8FC7\u5728 CodeFuse-Query \u5E73\u53F0\u4E0A\u9762\u7F16\u5199\u4E86\u4E00\u6BB5\u5206\u6790 Query\uFF0C\u5728\u5E73\u53F0\u4E0A\u9762\u6D4B\u8BD5\u7B26\u5408\u8981\u6C42\uFF0C\u628A\u8FD9\u6BB5\u5206\u6790 Query \u56FA\u5316\u4E0B\u6765\u4F5C\u4E3A\u4E00\u4E2A\u4EE3\u7801\u89C4\u5219\uFF0C\u5E76\u4E0A\u7EBF\u5230\u4E86 CodeReview/CI \u9636\u6BB5\u3002\u4ECE\u6B64\u8FD9\u4E2A Bug \u518D\u4E5F\u6CA1\u53D1\u751F\u8FC7\u4E86\u3002
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u7F16\u5199\u9759\u6001\u7F3A\u9677\u626B\u63CF\u89C4\u5219\u8FDB\u884C\u4EE3\u7801\u98CE\u9669\u62E6\u622A\u3002`,paraId:13,tocIndex:10},{value:"\u7814\u53D1\u90E8\u540C\u5B66\u5C0F\u6846\u67B6\u60F3\u77E5\u9053\u76EE\u524D\u4EE3\u7801\u4ED3\u5E93\u4E2D Spring \u5DE5\u7A0B\u548C Spring Boot \u5DE5\u7A0B\u6BD4\u4F8B\u3002 \u597D\u91CF\u5316\u65B0\u6846\u67B6\u7684\u63A8\u5E7F\u60C5\u51B5\u3002\u5C0F\u67B6\u6784\u901A\u8FC7\u7F16\u5199 Godel Query \u63CF\u8FF0\u4E0D\u540C\u9879\u76EE\u5206\u6790\u7279\u5F81\uFF0C",paraId:14,tocIndex:11},{value:"\u7136\u540E\u4E00\u6B21\u6027 Query \u4E86 11 \u4E07\u4E2A\u4EE3\u7801\u4ED3\u5E93",paraId:14,tocIndex:11},{value:`\uFF0C\u8FC7\u4E86\u51E0\u5341\u5206\u949F\u540E\u5C31\u62FF\u5230\u4E86\u6240\u6709\u4EE3\u7801\u7684\u6570\u636E\uFF0C\u5F00\u5F00\u5FC3\u5FC3\u505A KPI \u53BB\u4E86\u3002
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u5E94\u7528\u753B\u50CF\uFF0C\u4EE3\u7801\u753B\u50CF\uFF0C\u67B6\u6784\u5206\u6790\u3002`,paraId:14,tocIndex:11},{value:"\u5C0F\u7814\u7A76\u53D1\u73B0\u4F20\u7EDF\u7684\u4EE3\u7801\u590D\u6742\u5EA6\u6307\u6807\u5F88\u96BE\u51C6\u786E\u5730\u8861\u91CF\u4EE3\u7801\u7684\u590D\u6742\u60C5\u51B5\uFF0C\u901A\u8FC7\u5B66\u4E60\u56FD\u9645\u5148\u8FDB\u7ECF\u9A8C\u52A0\u4E0A\u81EA\u6211\u7075\u5149\u4E00\u95EA\uFF0C\u8BBE\u8BA1\u4E86\u4E00\u5957\u590D\u6742\u5EA6\u6307\u6807\u548C\u7B97\u6CD5\u3002\u901A\u8FC7 Godel \u5B9E\u73B0\u51FA\u6765\u4EE5\u540E\uFF0C",paraId:15,tocIndex:12},{value:"\u53D1\u73B0\u4E0D\u600E\u4E48\u4F18\u5316\u5C31\u5DF2\u7ECF\u6027\u80FD\u975E\u5E38\u9AD8\u4E86",paraId:15,tocIndex:12},{value:"\uFF0C\u5F88\u5FEB\u5C31\u5E94\u7528\u5230\u4E86 10 \u51E0\u79CD\u8BED\u8A00\uFF0C11+\u4E07\u4E2A\u4ED3\u5E93\u5F53\u4E2D\u53BB\u4E86\u3002\u9A6C\u4E0A\u5C31\u5BF9\u4EE3\u7801\u4ED3\u5E93\u6574\u4F53\u7684\u590D\u6742\u5EA6\u6709\u4E86\u6DF1\u5165\u7684\u4E86\u89E3\u3002\u76F8\u6BD4\u8F83\u4EE5\u524D\u9700\u8981\u81EA\u5DF1\u89E3\u6790\u4EE3\u7801\uFF0C\u5206\u6790\u8BED\u6CD5\u6811\uFF0C\u5BF9\u63A5\u7CFB\u7EDF\uFF0C",paraId:15,tocIndex:12},{value:"\u4E0D\u77E5\u9053\u65B9\u4FBF\u4E86\u591A\u5C11\u3002",paraId:15,tocIndex:12},{value:`
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u4EE3\u7801\u7EDF\u8BA1\uFF0C\u4EE3\u7801\u5EA6\u91CF\uFF0C\u7B97\u6CD5\u8BBE\u8BA1\uFF0C\u5B66\u672F\u7814\u7A76\u3002`,paraId:15,tocIndex:12},{value:"\u5C0F\u67B6\u6784\u540C\u5B66\u6700\u8FD1\u63A8\u884C\u4E86\u4E00\u79CD\u65B0\u7684\u57FA\u4E8E txt \u6587\u4EF6\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\uFF0C\u76EE\u524D\u5DF2\u6709\u7684\u5206\u6790\u5E73\u53F0\u90FD\u4E0D\u80FD\u652F\u6301\u5206\u6790\u6B64\u7C7B\u7CFB\u7EDF\u7684\u4E0A\u4E0B\u6E38\u4F9D\u8D56\u3002\u5C0F\u67B6\u6784\u901A\u8FC7 Godel",paraId:16,tocIndex:13},{value:"\u5FEB\u901F\u5EFA\u6A21\u4E86\u8BE5\u6D88\u606F\u683C\u5F0F",paraId:16,tocIndex:13},{value:`\uFF0C\u5E76\u9A6C\u4E0A\u83B7\u53D6\u5230\u4E86\u76EE\u524D\u7CFB\u7EDF\u4E2D\u4E0D\u540C\u7EC4\u4EF6\u7684\u4F9D\u8D56\u5173\u7CFB\u3002
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u7CFB\u7EDF Overview\uFF0C\u67B6\u6784\u6CBB\u7406\uFF0C\u8840\u7F18\u5206\u6790\u3002`,paraId:16,tocIndex:13},{value:"\u5C0F\u4FC3\u9500\u8BBE\u8BA1\u7684\u7CFB\u7EDF\u91CC\u9762\u8981\u6C42\u7528\u6237\u4E00\u5B9A\u662F\u5148\u73A9\u6E38\u620F\u518D\u9886\u5238\u3002\u4ED6\u901A\u8FC7 Godel \u63CF\u8FF0\u4E86",paraId:17,tocIndex:14},{value:"\u8BE5\u6A21\u578B\u7684\u9A8C\u8BC1\u903B\u8F91",paraId:17,tocIndex:14},{value:"\uFF0C\u7136\u540E\u901A\u8FC7 CodeFuse-Query \u7CFB\u7EDF",paraId:17,tocIndex:14},{value:"\u4FDD\u969C\u5F53\u524D\u4EE5\u53CA\u672A\u6765\u7CFB\u7EDF\u7684\u4EE3\u7801\u5B9E\u73B0",paraId:17,tocIndex:14},{value:`\uFF0C\u90FD\u662F\u5B8C\u5168\u7B26\u5408\u8BE5\u6A21\u578B\u7684\u3002\u4ECE\u6B64\u518D\u4E0D\u62C5\u5FC3\u6E38\u620F\u51FA\u8D44\u635F~
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u7CFB\u7EDF\u9A8C\u8BC1\uFF0C\u7F51\u7EDC\u9A8C\u8BC1\uFF0C\u6743\u9650\u9A8C\u8BC1`,paraId:17,tocIndex:14},{value:"\u76EE\u524D\uFF0CCodeFuse-Query \u5728\u8682\u8681\u96C6\u56E2\u5DF2\u7ECF\u652F\u6301 ",paraId:18,tocIndex:15},{value:"CodeFuse \u5927\u8BED\u8A00\u6A21\u578B\u6570\u636E\u6E05\u6D17",paraId:18,tocIndex:15},{value:"\u3001",paraId:18,tocIndex:15},{value:"\u4EE3\u7801\u5EA6\u91CF\u8BC4\u4F30",paraId:18,tocIndex:15},{value:"\u3001",paraId:18,tocIndex:15},{value:"\u7814\u53D1\u98CE\u9669\u63A7\u5236",paraId:18,tocIndex:15},{value:"\u3001",paraId:18,tocIndex:15},{value:"\u9690\u79C1\u5B89\u5168\u5206\u6790",paraId:18,tocIndex:15},{value:"\u3001",paraId:18,tocIndex:15},{value:"\u4EE3\u7801\u667A\u80FD",paraId:18,tocIndex:15},{value:`\u3001**\u7EC8\u7AEF\u5305\u5927\u5C0F\u6CBB\u7406 **\u7B49\u591A\u4E2A\u573A\u666F\u7684\u843D\u5730\u5E94\u7528\uFF0C\u670D\u52A1\u6708\u5747\u8C03\u7528\u91CF\u8D85\u8FC7\u767E\u4E07\u3002
`,paraId:18,tocIndex:15},{value:`CodeFuse \u4EE3\u7801\u5927\u6A21\u578B\u662F\u8682\u8681\u96C6\u56E2\u5BF9\u5916\u5F00\u6E90\u7684\u5904\u7406\u4EE3\u7801\u76F8\u5173\u95EE\u9898\u7684\u6A21\u578B\uFF0C\u5BF9\u4E8E CodeFuse \u5927\u8BED\u8A00\u6A21\u578B\u800C\u8A00\uFF0C\u8BAD\u7EC3\u7684\u6570\u636E\u8D28\u91CF\u76F4\u63A5\u5F71\u54CD\u6A21\u578B\u7684\u63A8\u7406\u7ED3\u679C\u3002\u4F4E\u8D28\u91CF\u7684\u4EE3\u7801\u6570\u636E\u4F1A\u76F4\u63A5\u6C61\u67D3\u8BED\u8A00\u6A21\u578B\u7684\u8F93\u51FA\uFF0C\u4F8B\u5982\uFF1A\u6A21\u578B\u53EF\u80FD\u4F1A\u5B66\u4E60\u5230\u9519\u8BEF\u7684\u4EE3\u7801\u6A21\u5F0F\uFF0C\u4ECE\u800C\u751F\u6210\u9519\u8BEF\u7684\u4EE3\u7801\uFF1B\u6570\u636E\u4E2D\u53EA\u5305\u542B\u67D0\u79CD\u7F16\u7A0B\u8BED\u8A00\u7684\u4EE3\u7801\uFF0C\u6A21\u578B\u53EF\u80FD\u65E0\u6CD5\u5F88\u597D\u5730\u9002\u5E94\u5176\u4ED6\u7F16\u7A0B\u8BED\u8A00\u7684\u4EE3\u7801\u3002
\u4E3A\u4E86\u628A\u63A7\u8FDB\u5165\u6A21\u578B\u7684\u4EE3\u7801\u6570\u636E\u8D28\u91CF\uFF0C\u8FDB\u800C\u63D0\u5347\u6A21\u578B\u7684\u63A8\u7406\u80FD\u529B\u3002\u6211\u4EEC\u57FA\u4E8E\u8682\u8681\u7A0B\u5E8F\u5206\u6790\u56E2\u961F\u591A\u5E74\u7684\u5B9E\u8DF5\u79EF\u7D2F\u7ED3\u5408\u4E1A\u754C\u5171\u8BC6\uFF0C\u68B3\u7406\u4E86\u9AD8\u8D28\u91CF\u4EE3\u7801\u7684\u5B9A\u4E49\u65B9\u5F0F\uFF0C\u5E76\u5229\u7528\u5DF2\u6709\u7A0B\u5E8F\u5206\u6790\u6280\u672F\u5B9E\u73B0\u4E86\u81EA\u52A8\u5316\u3001\u5927\u89C4\u6A21\u7684\u4EE3\u7801\u6570\u636E\u6E05\u6D17\u3002
CodeFuse-Query \u4E3A CodeFuse \u4EE3\u7801\u5927\u6A21\u578B\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u6570\u636E\u6E05\u6D17\u80FD\u529B\uFF1A`,paraId:19,tocIndex:16},{value:"\u9AD8\u8D28\u91CF\u4EE3\u7801\u6570\u636E\u6E05\u6D17\uFF1A\u5BF9\u4EE3\u7801\u6570\u636E\u8FDB\u884C\u6E05\u6D17\uFF0C\u5305\u62EC\u5BF9 Python\uFF0CJava\uFF0CJavaScript\uFF0CTypeScript\uFF0CGo\uFF0CC\uFF0CC++ 7 \u79CD\u8BED\u8A00\u8FDB\u884C\u6F0F\u6D1E\u626B\u63CF\uFF0C\u5BF9\u8BED\u8A00\u79CD\u7C7B / star \u6570\u8FDB\u884C\u7B5B\u9009\uFF0C\u8FC7\u6EE4\u6709\u6548\u4EE3\u7801\u884C\u6570\u4E3A 0 \u7684\u6570\u636E\u7B49\u3002\u76EE\u524D\u5DF2\u6C89\u6DC0\u6E05\u6D17\u540E\u7684 GitHub \u548C\u8682\u8681\u5185\u90E8\u4EE3\u7801\u6570\u636E\u603B\u5171\u7EA6 ",paraId:20,tocIndex:16},{value:"2TB",paraId:20,tocIndex:16},{value:"\u3002",paraId:20,tocIndex:16},{value:"\u4EE3\u7801\u753B\u50CF\uFF1A\u5B9E\u73B0\u5BF9\u5927\u89C4\u6A21\u4EE3\u7801\u8FDB\u884C\u9AD8\u6027\u80FD\u591A\u7EF4\u5EA6\u7684\u81EA\u52A8\u6807\u6CE8\uFF0C\u652F\u6301 Java, Scala, Kotlin, JavaScript, JSX, TypeScript, TSX, Vue, Python, Go \u7B49 ",paraId:20,tocIndex:16},{value:"10",paraId:20,tocIndex:16},{value:" \u79CD\u8BED\u8A00\uFF0C",paraId:20,tocIndex:16},{value:"77",paraId:20,tocIndex:16},{value:" \u79CD\u901A\u7528\u6807\u7B7E\uFF0C",paraId:20,tocIndex:16},{value:"40",paraId:20,tocIndex:16},{value:" \u79CD\u8682\u8681\u7279\u6709\u6807\u7B7E\uFF0C\u5171 ",paraId:20,tocIndex:16},{value:"117",paraId:20,tocIndex:16},{value:" \u79CD\u6807\u7B7E\u3002\u76EE\u524D\u81EA\u52A8\u6807\u6CE8\u6027\u80FD\u80FD\u591F\u8FBE\u5230 ",paraId:20,tocIndex:16},{value:"40MB/s",paraId:20,tocIndex:16},{value:"\u3002",paraId:20,tocIndex:16},{value:`\u5176\u4ED6\u539F\u5B50\u80FD\u529B
`,paraId:20,tocIndex:16},{value:"\u9AD8\u7EA7\u4EE3\u7801\u7279\u5F81\u63D0\u53D6\uFF0C\u5305\u62EC\u63D0\u53D6 AST\uFF08\u62BD\u8C61\u8BED\u6CD5\u6811\uFF09\uFF0CDFG\uFF08\u6570\u636E\u6D41\u56FE\uFF09\u6570\u636E\u7B49\u3002\u76EE\u524D AST \u4FE1\u606F\u5DF2\u7528\u4E8E SFT \u8BAD\u7EC3\uFF0C\u51C6\u786E\u7387 97% \u5DE6\u53F3\u3002",paraId:21,tocIndex:16},{value:`\u4EE3\u7801\u7247\u6BB5\u8BC6\u522B\uFF0C\u7528\u4E8E\u9488\u5BF9\u6587\u672C\u6570\u636E\u4E2D\u7684\u4EE3\u7801\u8FDB\u884C\u63D0\u53D6\uFF0C\u65B9\u4FBF\u8FDB\u884C\u4EE3\u7801\u683C\u5F0F\u5316\u6216\u52A0\u4E0A Markdown \u683C\u5F0F\uFF1A
`,paraId:21,tocIndex:16},{value:"\u6587\u672C\u63D0\u53D6\u4EE3\u7801\uFF1A\u4ECE\u6587\u672C\u4E2D\u63D0\u53D6\u4EE3\u7801\u5757\u4FE1\u606F\uFF0C\u652F\u6301\u4E3B\u6D41\u8BED\u8A00\u7684\u89E3\u6790\uFF0C\u51FD\u6570\u53CA\u7C7B\u5B9A\u4E49\uFF0C\u4EC5\u9A8C\u8BC1\u4E8C\u5206\u7C7B\u95EE\u9898\uFF0C\u5C31\u662F\u8BF4\u4EC5\u9A8C\u8BC1\u6587\u672C\u662F\u5426\u542B\u6709\u4EE3\u7801\u5757\u51C6\u786E\u7387 83% \u5DE6\u53F3\u3002",paraId:22,tocIndex:16},{value:"\u8BC6\u522B\u4EE3\u7801\u7247\u6BB5\u7684\u7F16\u7A0B\u8BED\u8A00\u79CD\u7C7B\uFF1A\u8BC6\u522B\u4EFB\u610F\u4EE3\u7801\u7247\u6BB5\u7684\u7F16\u7A0B\u8BED\u8A00\u79CD\u7C7B\uFF0C\u652F\u6301 30+ \u79CD\u8BED\u8A00\uFF0C\u51C6\u786E\u7387 80%\u5DE6\u53F3\u3002",paraId:22,tocIndex:16},{value:"\u4EE3\u7801\u6CE8\u91CA\u5BF9\u63D0\u53D6\uFF1A\u652F\u6301\u63D0\u53D6\u65B9\u6CD5\u7EA7\u522B\u7684\u6CE8\u91CA-\u4EE3\u7801\u5BF9\u4FE1\u606F\uFF0C\u8986\u76D6 ",paraId:21,tocIndex:16},{value:"15 \u79CD",paraId:21,tocIndex:16},{value:" GitHub \u6700\u6D41\u884C\u7684\u8BED\u8A00\uFF0C\u7528\u4E8E Text To Code/Code To Text \u7684 SFT \u8BAD\u7EC3\u3002",paraId:21,tocIndex:16},{value:`\u5E7F\u76EE\u662F\u8682\u8681\u5185\u90E8\u4E00\u6B3E\u9762\u5411\u4E0D\u540C\u804C\u80FD\u7684\u7814\u53D1\u540C\u5B66\u548C\u56E2\u961F\u7BA1\u7406\u8005\uFF0C\u5BF9\u4EE3\u7801\u529B\u8FDB\u884C\u8BC4\u4F30\u3001\u5C55\u793A\u5BA2\u89C2\u6570\u636E\u548C\u5206\u6790\u7ED3\u679C\u7684\u6570\u636E\u4EA7\u54C1\u3002
\u5E7F\u76EE\u63D0\u4F9B\u4E86\u4E2A\u4EBA\u4EE3\u7801\u529B\u8BC4\u4F30\u62A5\u544A\u3001\u65E5\u5E38\u4EE3\u7801\u529B\u6307\u6807\u6570\u636E\u5206\u6790\u3001\u56E2\u961F\u4EE3\u7801\u529B\u7BA1\u7406\u3001\u4EE3\u7801\u8BC4\u4F18\u8363\u8A89\u5C55\u793A\u7B49\u529F\u80FD\uFF0C\u65E8\u5728\u5E2E\u52A9\u8682\u8681\u7814\u53D1\u5DE5\u7A0B\u5E08\u4E0D\u65AD\u63D0\u5347\u4EE3\u7801\u54C1\u8D28\u3001\u51CF\u5C11\u4EE3\u7801\u8D1F\u503A\uFF0C\u66F4\u957F\u8FDC\u7684\u63D0\u5347\u7814\u53D1\u6548\u80FD\u3002
CodeFuse-Query \u4E3A\u5E7F\u76EE\u63D0\u4F9B\u7684\u80FD\u529B\u5206\u4E3A\u4E24\u90E8\u5206\uFF1A`,paraId:23,tocIndex:17},{value:"\u4EE3\u7801\u8BC4\u4F30\u6307\u6807\uFF1A\u4EE3\u7801\u590D\u6742\u5EA6\u3001\u4EE3\u7801\u6CE8\u91CA\u7387\u3001\u6807\u51C6\u5F00\u53D1\u91CF\u7B49",paraId:24,tocIndex:17},{value:"\u4EE3\u7801\u8BC4\u4F18\u6307\u6807\uFF1A\u4EE3\u7801\u590D\u7528\u5EA6",paraId:24,tocIndex:17},{value:"\u4F18\u9177\u8D28\u91CF\u4FDD\u969C\u56E2\u961F\u4ECE 2023 \u5E74\u5F00\u59CB\u9488\u5BF9\u670D\u52A1\u7AEF\u7CBE\u51C6\u6D4B\u8BD5\u7684\u63A2\u7D22\uFF0C\u7ECF\u8FC7\u534A\u5E74\u7684\u6280\u672F\u6C89\u6DC0\u548C\u4F53\u7CFB\u642D\u5EFA\uFF0C\u5F62\u6210\u4E86\u5177\u5907",paraId:25,tocIndex:18},{value:"\u53D8\u66F4\u5185\u5BB9\u8BC6\u522B\u3001\u53D8\u66F4\u5F71\u54CD\u5206\u6790\u3001\u6D4B\u8BD5\u80FD\u529B\u63A8\u8350\u3001\u6D4B\u8BD5\u8986\u76D6\u8BC4\u4F30",paraId:25,tocIndex:18},{value:`\u7684\u7CBE\u51C6\u6D4B\u8BD5\u4F53\u7CFB\u3002
\u5728\u6B64\u8FC7\u7A0B\u4E2D\uFF0CCodeFuse-Query \u80FD\u63D0\u4F9B\u7684\u80FD\u529B\u4E3B\u8981\u6709\uFF1A`,paraId:25,tocIndex:18},{value:"\u6839\u636E\u4EE3\u7801\u53D8\u66F4\u5185\u5BB9\uFF08\u6587\u4EF6+\u884C\u53F7\uFF09\uFF0C\u5206\u6790\u51FA\u5F71\u54CD\u7684\u5BF9\u8C61\uFF1A\u65B9\u6CD5\u3001\u5165\u53E3\uFF08http \u5165\u53E3\u3001hsf \u5165\u53E3\uFF09\u3001\u8C03\u7528\u94FE\u8DEF\uFF08\u4ECE\u5165\u53E3\u5230\u53D8\u66F4\u65B9\u6CD5\u7684\u6240\u6709\u8C03\u7528\u94FE\u8DEF\uFF09\u3001\u6570\u636E\u5E93\u64CD\u4F5C\uFF08\u8868\u3001\u64CD\u4F5C\u7C7B\u578B\uFF09",paraId:26,tocIndex:18},{value:"\u7ED3\u5408\u7EBF\u4E0A\u52A8\u6001\u8C03\u7528\u94FE\u8DEF\uFF08\u65B9\u6CD5\u94FE\u8DEF\uFF09\u3001CodeFuse-Query \u9759\u6001\u5206\u6790\u8C03\u7528\u94FE\u8DEF\u7684\u5F71\u54CD\u9762\u7CBE\u51C6\u5206\u6790\u80FD\u529B\uFF0C\u63D0\u5347\u53D8\u66F4\u5206\u6790\u5F71\u54CD\u9762\u7684\u6709\u6548\u6027\u3001\u51C6\u5907\u7387",paraId:26,tocIndex:18},{value:"\u5230\u76EE\u524D\u4E3A\u6B62\uFF0C\u4F18\u9177\u5DF2\u901A\u8FC7 CodeFuse-Query \u63A5\u5165\u6240\u6709\u6838\u5FC3\u5E94\u7528\uFF0C\u5E76\u57FA\u4E8E\u9759\u6001\u5206\u6790\u91C7\u96C6\u6570\u636E\uFF0C\u6784\u5EFA\u4E86\u670D\u52A1\u7AEF\u5B8C\u6574\u7684\u4EE3\u7801\u77E5\u8BC6\u5E93\u548C\u6D41\u91CF\u77E5\u8BC6\u5E93\u3002",paraId:27,tocIndex:18}]},56955:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u63D2\u4EF6\u5730\u5740",paraId:0,tocIndex:2},{value:"\u4E0B\u8F7D\u63D2\u4EF6",paraId:1,tocIndex:3},{value:`\u624B\u52A8\u4ECE vsix \u5B89\u88C5:
`,paraId:1,tocIndex:3},{value:"\u6216\u8005\u4F7F\u7528\u6307\u4EE4\u76F4\u63A5\u4ECE\u7EC8\u7AEF\u5B89\u88C5:",paraId:1,tocIndex:3},{value:`code --install-extension [\u6269\u5C55vsix\u6587\u4EF6\u8DEF\u5F84]
`,paraId:2,tocIndex:3},{value:"Sparrow CLI \uFF0C\u53C2\u7167 3 \u5B89\u88C5\u3001\u914D\u7F6E\u3001\u8FD0\u884C",paraId:3,tocIndex:4},{value:"\u672C\u6269\u5C55\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u529F\u80FD\u6A21\u5757:",paraId:4,tocIndex:5},{value:"COREF AST Viewer",paraId:5,tocIndex:5},{value:"G\xF6del Language Server",paraId:5,tocIndex:5},{value:"G\xF6del Language Runner",paraId:5,tocIndex:5},{value:"\u4EE5\u4E0B\u529F\u80FD\u9700\u8981\u5728\u6269\u5C55\u8BBE\u7F6E\u4E2D\u8BBE\u7F6E\u76F8\u5173\u9879\u540E\u542F\u7528\u3002\u76EE\u524D\u4EC5\u652F\u6301\u4E8E Java \u8BED\u8A00",paraId:6,tocIndex:6},{value:"\u4EE5\u4E0B\u529F\u80FD\u5747\u9700\u8981\u5728\u8BBE\u7F6E\u6269\u5C55\u540E\u542F\u7528\u3002\u4E0D\u8BBE\u7F6E\u76F8\u5173\u9879\u7684\u60C5\u51B5\u4E0B\uFF0C\u8BED\u6CD5\u9AD8\u4EAE\u4ECD\u7136\u53EF\u7528\u3002",paraId:7,tocIndex:11},{value:`\u9519\u8BEF\u4FE1\u606F\u4F1A\u968F\u7740\u4EE3\u7801\u7684\u66F4\u65B0\u800C\u81EA\u52A8\u66F4\u65B0\u3002
`,paraId:8,tocIndex:12},{value:"\u5305\u542B local \u53D8\u91CF\u548C\u5168\u5C40\u7B26\u53F7\u4FE1\u606F\u7684\u8865\u5168\u63D0\u793A\uFF0C\u5173\u952E\u5B57\u7B49\u4FE1\u606F\u4F1A\u63D0\u4F9B\u5BF9\u5E94\u7684\u4F7F\u7528\u6837\u4F8B\uFF0C\u5168\u5C40\u7B26\u53F7\u4FE1\u606F\u4F1A\u63D0\u4F9B\u66F4\u8BE6\u7EC6\u7684\u5185\u90E8\u4FE1\u606F\uFF0C\u5982\u5305\u542B\u7684\u6210\u5458\u53D8\u91CF\u3001\u6210\u5458\u65B9\u6CD5\u3001\u9759\u6001\u65B9\u6CD5\u3002",paraId:9,tocIndex:13},{value:"\u5173\u952E\u5B57\u8865\u5168\u548C\u4F7F\u7528\u6837\u4F8B\u63D0\u793A",paraId:10,tocIndex:13},{value:"local \u53D8\u91CF\u7C7B\u578B\u4FE1\u606F\u548C\u7B26\u53F7\u8865\u5168",paraId:10,tocIndex:13},{value:".",paraId:10,tocIndex:13},{value:" \u8DDF\u968F\u7684\u7B26\u53F7\u4FE1\u606F\u548C\u8865\u5168",paraId:10,tocIndex:13},{value:"::",paraId:10,tocIndex:13},{value:" \u8DDF\u968F\u7684\u7B26\u53F7\u4FE1\u606F\u548C\u8865\u5168",paraId:10,tocIndex:13},{value:"\u6CE8\u89E3\u4F7F\u7528\u6837\u4F8B\u63D0\u793A",paraId:10,tocIndex:13},{value:"\u5168\u5C40\u7B26\u53F7\u7C7B\u578B\u4FE1\u606F (\u5185\u90E8\u7ED3\u6784\uFF0C\u6210\u5458\u65B9\u6CD5\uFF0C\u9759\u6001\u65B9\u6CD5)",paraId:10,tocIndex:13},{value:"\u53EF\u4EE5\u901A\u8FC7\u53F3\u952E\u8DF3\u8F6C\u5B9A\u4E49\u6216\u8005",paraId:11,tocIndex:14},{value:"ctrl",paraId:11,tocIndex:14},{value:"/",paraId:11,tocIndex:14},{value:"command",paraId:11,tocIndex:14},{value:"+",paraId:11,tocIndex:14},{value:"left click",paraId:11,tocIndex:14},{value:"\u76F4\u63A5\u8DF3\u8F6C\u5230\u51C6\u786E\u7684\u7B26\u53F7\u5B9A\u4E49\u4F4D\u7F6E\u3002",paraId:11,tocIndex:14},{value:"\u6269\u5C55\u63D0\u4F9B\u4E86\u4E00\u4E9B\u4EE3\u7801\u7247\u6BB5\u8865\u9F50\u4EE5\u4F9B\u5FEB\u901F\u7F16\u5199 G\xF6del 1.0/script \u4EE3\u7801\u3002",paraId:12,tocIndex:15},{value:"\u9700\u8981\u5728\u6269\u5C55\u4E2D\u8BBE\u7F6E sparrow cli \u8DEF\u5F84\u540E\u4F7F\u7528\u3002\u8FD0\u884C\u811A\u672C\u4E4B\u524D\u9700\u8981\u5148\u52A0\u8F7D\u6570\u636E\u5E93\u3002\u5173\u4E8E\u5982\u4F55\u751F\u6210\u6570\u636E\u5E93 \u53C2\u8003 3.4.\u7AE0\u8282 \u8FD0\u884C \u4E2D\u7684\u6570\u636E\u62BD\u53D6\u90E8\u5206\u3002",paraId:13,tocIndex:16},{value:`
\u63D0\u4F9B\u4E86\u56DB\u79CD\u4E0D\u540C\u7684\u811A\u672C\u8FD0\u884C\u6309\u94AE\uFF1A`,paraId:14,tocIndex:17},{value:"\u5728\u8981\u8FD0\u884C\u7684\u811A\u672C\u5904\u53F3\u952E\u6267\u884C\u3002",paraId:15,tocIndex:17},{value:"\u5728 extension ",paraId:15,tocIndex:17},{value:"GodelScript Runner",paraId:15,tocIndex:17},{value:" \u9762\u677F\u4E0A\u9009\u62E9 ",paraId:15,tocIndex:17},{value:"Run G\xF6delScript",paraId:15,tocIndex:17},{value:"\u3002",paraId:15,tocIndex:17},{value:"\u5728 extension ",paraId:15,tocIndex:17},{value:"GodelScript Runner Setting",paraId:15,tocIndex:17},{value:" \u9762\u677F\u4E0A\u9009\u62E9 ",paraId:15,tocIndex:17},{value:"Run",paraId:15,tocIndex:17},{value:"\u3002",paraId:15,tocIndex:17},{value:"\u5728 extension ",paraId:15,tocIndex:17},{value:"GodelScript Runner Setting",paraId:15,tocIndex:17},{value:" \u9762\u677F\u53F3\u4E0A\u89D2\u70B9\u51FB\u8FD0\u884C\u6309\u94AE\u3002",paraId:15,tocIndex:17},{value:"\u5728\u8981\u8FD0\u884C\u7684\u811A\u672C\u5904\u53F3\u952E\u9009\u62E9\u5305\u542B\u6570\u636E\u5E93\u7684\u6587\u4EF6\u5939\u8FDB\u884C\u52A0\u8F7D\u3002",paraId:16,tocIndex:18},{value:"\u5728 extension ",paraId:16,tocIndex:18},{value:"GodelScript Runner",paraId:16,tocIndex:18},{value:" \u9762\u677F\u4E0A\u9009\u62E9 ",paraId:16,tocIndex:18},{value:"Load Database Directory",paraId:16,tocIndex:18},{value:"\u3002",paraId:16,tocIndex:18},{value:"\u5728 extension ",paraId:16,tocIndex:18},{value:"GodelScript Runner Setting",paraId:16,tocIndex:18},{value:" \u9762\u677F\u4E0A\u9009\u62E9 ",paraId:16,tocIndex:18},{value:"Database",paraId:16,tocIndex:18},{value:"\u3002",paraId:16,tocIndex:18},{value:"\u5728 extension ",paraId:16,tocIndex:18},{value:"GodelScript Runner Setting",paraId:16,tocIndex:18},{value:" \u9762\u677F\u53F3\u4E0A\u89D2\u70B9\u51FB\u6570\u636E\u5E93\u52A0\u8F7D\u6309\u94AE\u3002",paraId:16,tocIndex:18},{value:"corefASTViewer.sparrowCliRoot",paraId:17,tocIndex:20},{value:"\u6307\u5B9A Sparrow CLI \u7684\u6839\u76EE\u5F55\uFF0C\u53C2\u7167\u7B2C 3 \u7AE0\u8282\u7684\u5B89\u88C5\u90E8\u5206",paraId:18,tocIndex:20},{value:"\u6269\u5C55\u542F\u52A8\u65F6\uFF0C\u4EE5\u4E0B\u4E24\u9879\u4E2D\u5B58\u5728\u4EFB\u610F\u4E00\u9879\u672A\u88AB\u8BBE\u7F6E\uFF0C\u5219\u4F1A\u5F39\u51FA\u63D0\u793A\u3002\u70B9\u51FB",paraId:19,tocIndex:21},{value:"configure",paraId:19,tocIndex:21},{value:"\u6309\u94AE\u4F1A\u8DF3\u8F6C\u81F3\u76F8\u5E94\u914D\u7F6E\u9875\u9762\u3002",paraId:19,tocIndex:21},{value:"godelScript.executablePath",paraId:20,tocIndex:21},{value:"\u7528\u4E8E\u6307\u5B9A G\xF6delScript \u7684\u53EF\u6267\u884C\u6587\u4EF6\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\u3002\u9700\u8981\u65F6\u8BF7\u66FF\u6362\u4E3A\u5B9E\u9645\u7684 G\xF6delScript \u53EF\u6267\u884C\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84\u3002",paraId:21,tocIndex:21},{value:"\u5982\u679C\u5DF2\u7ECF\u4E0B\u8F7D Sparrow CLI \uFF0C\u5219 G\xF6delScript \u53EF\u6267\u884C\u6587\u4EF6\u4E3A ",paraId:21,tocIndex:21},{value:"[sparrow cli root]/godel-script/usr/bin/godel",paraId:21,tocIndex:21},{value:"\u3002",paraId:21,tocIndex:21},{value:"godelScript.libraryDirectoryPath",paraId:20,tocIndex:21},{value:"\u7528\u4E8E\u6307\u5B9A G\xF6delScript \u7684\u5E93\u6587\u4EF6\u5939\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\u3002\u9700\u8981\u65F6\u8BF7\u66FF\u6362\u4E3A G\xF6delScript \u5E93\u6587\u4EF6\u5939\u7EDD\u5BF9\u8DEF\u5F84\u3002",paraId:22,tocIndex:21},{value:"\u5982\u679C\u5DF2\u7ECF\u4E0B\u8F7D Sparrow CLI \uFF0C\u5219\u5E93\u6587\u4EF6\u5939\u8DEF\u5F84\u4E3A ",paraId:22,tocIndex:21},{value:"[sparrow cli root]/lib-1.0",paraId:22,tocIndex:21},{value:"\u3002",paraId:22,tocIndex:21},{value:"\u5F85\u5F00\u653E\uFF0C\u5C3D\u60C5\u671F\u5F85\uFF01",paraId:23,tocIndex:22}]},29260:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5C0F\u5F00\u53D1\u540C\u5B66\u60F3\u77E5\u9053 Repo A \u91CC\u9762\u4F7F\u7528\u4E86\u54EA\u4E9B String \u578B\u7684\u53D8\u91CF\uFF0C\u6240\u4EE5\u4ED6\u5199\u4E86\u4E00\u4E2A G\xF6del \u5982\u4E0B\uFF0C\u4EA4\u7ED9 CodeFuse-Query \u7CFB\u7EDF\u7ED9\u4ED6\u8FD4\u56DE\u4E86\u7ED3\u679C\u3002",paraId:0,tocIndex:1},{value:`// script
use coref::java::*

fn out(var: string) -> bool {
  for(v in Variable(JavaDB::load("coref_java_src.db"))) {
    if (v.getType().getName() = "String" && var = v.getName()) {
      return true
    }
  }
}

fn main() {
  output(out())
}
`,paraId:1,tocIndex:1},{value:"\u7C7B\u4F3C\u9700\u6C42\uFF1A\u67E5\u8BE2\uFF1A\u7C7B\uFF0C\u51FD\u6570\uFF0C\u53D8\u91CF\uFF0C\u8FD4\u56DE\u503C\uFF0C\u8C03\u7528\u56FE\uFF0C\u7C7B\u7EE7\u627F\u7B49\u7B49\u3002",paraId:2,tocIndex:1},{value:"\u5C0F TL \u540C\u5B66\u53D1\u73B0\u56E2\u961F\u603B\u662F\u5199\u51FA\u5F88\u591A\u7C7B\u4F3C\u7684 Bug A\uFF0C",paraId:3,tocIndex:2},{value:"\u4ED6\u60F3\u9488\u5BF9 Bug A \u5236\u5B9A\u4E00\u4E2A\u4EE3\u7801\u89C4\u5219\u548C\u5176\u68C0\u67E5\u5668",paraId:3,tocIndex:2},{value:`\uFF0C\u5E76\u5728 CodeReview \u9636\u6BB5\u505A\u4E2A\u5361\u70B9\u3002\u5C0F TL \u901A\u8FC7\u5728 CodeFuse-Query \u5E73\u53F0\u4E0A\u9762\u7F16\u5199\u4E86\u4E00\u6BB5\u5206\u6790 Query\uFF0C\u5728\u5E73\u53F0\u4E0A\u9762\u6D4B\u8BD5\u7B26\u5408\u8981\u6C42\uFF0C\u628A\u8FD9\u6BB5\u5206\u6790 Query \u56FA\u5316\u4E0B\u6765\u4F5C\u4E3A\u4E00\u4E2A\u4EE3\u7801\u89C4\u5219\uFF0C\u5E76\u4E0A\u7EBF\u5230\u4E86 CodeReview/CI \u9636\u6BB5\u3002\u4ECE\u6B64\u8FD9\u4E2A Bug \u518D\u4E5F\u6CA1\u53D1\u751F\u8FC7\u4E86\u3002
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u7F16\u5199\u9759\u6001\u7F3A\u9677\u626B\u63CF\u89C4\u5219\u8FDB\u884C\u4EE3\u7801\u98CE\u9669\u62E6\u622A\u3002`,paraId:3,tocIndex:2},{value:"\u5C0F\u7814\u7A76\u53D1\u73B0\u4F20\u7EDF\u7684\u4EE3\u7801\u590D\u6742\u5EA6\u6307\u6807\u5F88\u96BE\u51C6\u786E\u5730\u8861\u91CF\u4EE3\u7801\u7684\u590D\u6742\u60C5\u51B5\uFF0C\u901A\u8FC7\u5B66\u4E60\u56FD\u9645\u5148\u8FDB\u7ECF\u9A8C\u52A0\u4E0A\u81EA\u6211\u7075\u5149\u4E00\u95EA\uFF0C\u8BBE\u8BA1\u4E86\u4E00\u5957\u590D\u6742\u5EA6\u6307\u6807\u548C\u7B97\u6CD5\u3002\u901A\u8FC7 G\xF6del \u5B9E\u73B0\u51FA\u6765\u4EE5\u540E\uFF0C",paraId:4,tocIndex:3},{value:"\u53D1\u73B0\u4E0D\u600E\u4E48\u4F18\u5316\u5C31\u5DF2\u7ECF\u6027\u80FD\u975E\u5E38\u9AD8\u4E86",paraId:4,tocIndex:3},{value:"\uFF0C\u5F88\u5FEB\u5C31\u5E94\u7528\u5230\u4E86 10 \u51E0\u79CD\u8BED\u8A00\uFF0C11+\u4E07\u4E2A\u4ED3\u5E93\u5F53\u4E2D\u53BB\u4E86\u3002\u9A6C\u4E0A\u5C31\u5BF9\u4EE3\u7801\u4ED3\u5E93\u6574\u4F53\u7684\u590D\u6742\u5EA6\u6709\u4E86\u6DF1\u5165\u7684\u4E86\u89E3\u3002\u76F8\u6BD4\u8F83\u4EE5\u524D\u9700\u8981\u81EA\u5DF1\u89E3\u6790\u4EE3\u7801\uFF0C\u5206\u6790\u8BED\u6CD5\u6811\uFF0C\u5BF9\u63A5\u7CFB\u7EDF\uFF0C",paraId:4,tocIndex:3},{value:"\u4E0D\u77E5\u9053\u65B9\u4FBF\u4E86\u591A\u5C11\u3002",paraId:4,tocIndex:3},{value:`
\u7C7B\u4F3C\u9700\u6C42\uFF1A\u4EE3\u7801\u7EDF\u8BA1\uFF0C\u4EE3\u7801\u5EA6\u91CF\uFF0C\u7B97\u6CD5\u8BBE\u8BA1\uFF0C\u5B66\u672F\u7814\u7A76\u3002`,paraId:4,tocIndex:3},{value:"\u76EE\u524D\uFF0CCodeFuse-Query \u5728\u8682\u8681\u96C6\u56E2\u5DF2\u7ECF\u652F\u6301 ",paraId:5,tocIndex:4},{value:"CodeFuse \u5927\u8BED\u8A00\u6A21\u578B\u6570\u636E\u6E05\u6D17",paraId:5,tocIndex:4},{value:"\u3001",paraId:5,tocIndex:4},{value:"\u4EE3\u7801\u5EA6\u91CF\u8BC4\u4F30",paraId:5,tocIndex:4},{value:"\u3001",paraId:5,tocIndex:4},{value:"\u7814\u53D1\u98CE\u9669\u63A7\u5236",paraId:5,tocIndex:4},{value:"\u3001",paraId:5,tocIndex:4},{value:"\u9690\u79C1\u5B89\u5168\u5206\u6790",paraId:5,tocIndex:4},{value:"\u3001",paraId:5,tocIndex:4},{value:"\u4EE3\u7801\u667A\u80FD",paraId:5,tocIndex:4},{value:"\u3001**\u7EC8\u7AEF\u5305\u5927\u5C0F\u6CBB\u7406 **\u7B49\u591A\u4E2A\u573A\u666F\u7684\u843D\u5730\u5E94\u7528\uFF0C\u670D\u52A1\u6708\u5747\u8C03\u7528\u91CF\u8D85\u8FC7\u767E\u4E07\u3002",paraId:5,tocIndex:4},{value:`CodeFuse \u4EE3\u7801\u5927\u6A21\u578B\u662F\u8682\u8681\u96C6\u56E2\u5BF9\u5916\u5F00\u6E90\u7684\u5904\u7406\u4EE3\u7801\u76F8\u5173\u95EE\u9898\u7684\u6A21\u578B\uFF0C\u5BF9\u4E8E CodeFuse \u5927\u8BED\u8A00\u6A21\u578B\u800C\u8A00\uFF0C\u8BAD\u7EC3\u7684\u6570\u636E\u8D28\u91CF\u76F4\u63A5\u5F71\u54CD\u6A21\u578B\u7684\u63A8\u7406\u7ED3\u679C\u3002\u4F4E\u8D28\u91CF\u7684\u4EE3\u7801\u6570\u636E\u4F1A\u76F4\u63A5\u6C61\u67D3\u8BED\u8A00\u6A21\u578B\u7684\u8F93\u51FA\uFF0C\u4F8B\u5982\uFF1A\u6A21\u578B\u53EF\u80FD\u4F1A\u5B66\u4E60\u5230\u9519\u8BEF\u7684\u4EE3\u7801\u6A21\u5F0F\uFF0C\u4ECE\u800C\u751F\u6210\u9519\u8BEF\u7684\u4EE3\u7801\uFF1B\u6570\u636E\u4E2D\u53EA\u5305\u542B\u67D0\u79CD\u7F16\u7A0B\u8BED\u8A00\u7684\u4EE3\u7801\uFF0C\u6A21\u578B\u53EF\u80FD\u65E0\u6CD5\u5F88\u597D\u5730\u9002\u5E94\u5176\u4ED6\u7F16\u7A0B\u8BED\u8A00\u7684\u4EE3\u7801\u3002
\u4E3A\u4E86\u628A\u63A7\u8FDB\u5165\u6A21\u578B\u7684\u4EE3\u7801\u6570\u636E\u8D28\u91CF\uFF0C\u8FDB\u800C\u63D0\u5347\u6A21\u578B\u7684\u63A8\u7406\u80FD\u529B\u3002\u6211\u4EEC\u57FA\u4E8E\u8682\u8681\u7A0B\u5E8F\u5206\u6790\u56E2\u961F\u591A\u5E74\u7684\u5B9E\u8DF5\u79EF\u7D2F\u7ED3\u5408\u4E1A\u754C\u5171\u8BC6\uFF0C\u68B3\u7406\u4E86\u9AD8\u8D28\u91CF\u4EE3\u7801\u7684\u5B9A\u4E49\u65B9\u5F0F\uFF0C\u5E76\u5229\u7528\u5DF2\u6709\u7A0B\u5E8F\u5206\u6790\u6280\u672F\u5B9E\u73B0\u4E86\u81EA\u52A8\u5316\u3001\u5927\u89C4\u6A21\u7684\u4EE3\u7801\u6570\u636E\u6E05\u6D17\u3002
CodeFuse-Query \u4E3A CodeFuse \u4EE3\u7801\u5927\u6A21\u578B\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u6570\u636E\u6E05\u6D17\u80FD\u529B\uFF1A`,paraId:6,tocIndex:5},{value:"\u9AD8\u8D28\u91CF\u4EE3\u7801\u6570\u636E\u6E05\u6D17\uFF1A\u5BF9\u4EE3\u7801\u6570\u636E\u8FDB\u884C\u6E05\u6D17\uFF0C\u5305\u62EC\u5BF9 Python\uFF0CJava\uFF0CJavaScript\uFF0CTypeScript\uFF0CGo\uFF0CC\uFF0CC++ 7 \u79CD\u8BED\u8A00\u8FDB\u884C\u6F0F\u6D1E\u626B\u63CF\uFF0C\u5BF9\u8BED\u8A00\u79CD\u7C7B / star \u6570\u8FDB\u884C\u7B5B\u9009\uFF0C\u8FC7\u6EE4\u6709\u6548\u4EE3\u7801\u884C\u6570\u4E3A 0 \u7684\u6570\u636E\u7B49\u3002\u76EE\u524D\u5DF2\u6C89\u6DC0\u6E05\u6D17\u540E\u7684 GitHub \u548C\u8682\u8681\u5185\u90E8\u4EE3\u7801\u6570\u636E\u603B\u5171\u7EA6 ",paraId:7,tocIndex:5},{value:"2TB",paraId:7,tocIndex:5},{value:"\u3002",paraId:7,tocIndex:5},{value:"\u4EE3\u7801\u753B\u50CF\uFF1A\u5B9E\u73B0\u5BF9\u5927\u89C4\u6A21\u4EE3\u7801\u8FDB\u884C\u9AD8\u6027\u80FD\u591A\u7EF4\u5EA6\u7684\u81EA\u52A8\u6807\u6CE8\uFF0C\u652F\u6301 Java, Scala, Kotlin, JavaScript, JSX, TypeScript, TSX, Vue, Python, Go \u7B49 ",paraId:7,tocIndex:5},{value:"10",paraId:7,tocIndex:5},{value:" \u79CD\u8BED\u8A00\uFF0C",paraId:7,tocIndex:5},{value:"77",paraId:7,tocIndex:5},{value:" \u79CD\u901A\u7528\u6807\u7B7E\uFF0C",paraId:7,tocIndex:5},{value:"40",paraId:7,tocIndex:5},{value:" \u79CD\u8682\u8681\u7279\u6709\u6807\u7B7E\uFF0C\u5171 ",paraId:7,tocIndex:5},{value:"117",paraId:7,tocIndex:5},{value:" \u79CD\u6807\u7B7E\u3002\u76EE\u524D\u81EA\u52A8\u6807\u6CE8\u6027\u80FD\u80FD\u591F\u8FBE\u5230 ",paraId:7,tocIndex:5},{value:"40MB/s",paraId:7,tocIndex:5},{value:"\u3002",paraId:7,tocIndex:5},{value:`\u5176\u4ED6\u539F\u5B50\u80FD\u529B
`,paraId:7,tocIndex:5},{value:"\u9AD8\u7EA7\u4EE3\u7801\u7279\u5F81\u63D0\u53D6\uFF0C\u5305\u62EC\u63D0\u53D6 AST\uFF08\u62BD\u8C61\u8BED\u6CD5\u6811\uFF09\uFF0CDFG\uFF08\u6570\u636E\u6D41\u56FE\uFF09\u6570\u636E\u7B49\u3002\u76EE\u524D AST \u4FE1\u606F\u5DF2\u7528\u4E8E SFT \u8BAD\u7EC3\uFF0C\u51C6\u786E\u7387 97% \u5DE6\u53F3\u3002",paraId:8,tocIndex:5},{value:`\u4EE3\u7801\u7247\u6BB5\u8BC6\u522B\uFF0C\u7528\u4E8E\u9488\u5BF9\u6587\u672C\u6570\u636E\u4E2D\u7684\u4EE3\u7801\u8FDB\u884C\u63D0\u53D6\uFF0C\u65B9\u4FBF\u8FDB\u884C\u4EE3\u7801\u683C\u5F0F\u5316\u6216\u52A0\u4E0A Markdown \u683C\u5F0F\uFF1A
`,paraId:8,tocIndex:5},{value:"\u6587\u672C\u63D0\u53D6\u4EE3\u7801\uFF1A\u4ECE\u6587\u672C\u4E2D\u63D0\u53D6\u4EE3\u7801\u5757\u4FE1\u606F\uFF0C\u652F\u6301\u4E3B\u6D41\u8BED\u8A00\u7684\u89E3\u6790\uFF0C\u51FD\u6570\u53CA\u7C7B\u5B9A\u4E49\uFF0C\u4EC5\u9A8C\u8BC1\u4E8C\u5206\u7C7B\u95EE\u9898\uFF0C\u5C31\u662F\u8BF4\u4EC5\u9A8C\u8BC1\u6587\u672C\u662F\u5426\u542B\u6709\u4EE3\u7801\u5757\u51C6\u786E\u7387 83% \u5DE6\u53F3\u3002",paraId:9,tocIndex:5},{value:"\u8BC6\u522B\u4EE3\u7801\u7247\u6BB5\u7684\u7F16\u7A0B\u8BED\u8A00\u79CD\u7C7B\uFF1A\u8BC6\u522B\u4EFB\u610F\u4EE3\u7801\u7247\u6BB5\u7684\u7F16\u7A0B\u8BED\u8A00\u79CD\u7C7B\uFF0C\u652F\u6301 30+ \u79CD\u8BED\u8A00\uFF0C\u51C6\u786E\u7387 80%\u5DE6\u53F3\u3002",paraId:9,tocIndex:5},{value:"\u4EE3\u7801\u6CE8\u91CA\u5BF9\u63D0\u53D6\uFF1A\u652F\u6301\u63D0\u53D6\u65B9\u6CD5\u7EA7\u522B\u7684\u6CE8\u91CA-\u4EE3\u7801\u5BF9\u4FE1\u606F\uFF0C\u8986\u76D6 ",paraId:8,tocIndex:5},{value:"15 \u79CD",paraId:8,tocIndex:5},{value:" GitHub \u6700\u6D41\u884C\u7684\u8BED\u8A00\uFF0C\u7528\u4E8E Text To Code/Code To Text \u7684 SFT \u8BAD\u7EC3\u3002",paraId:8,tocIndex:5},{value:"\u4F18\u9177\u8D28\u91CF\u4FDD\u969C\u56E2\u961F\u4ECE 2023 \u5E74\u5F00\u59CB\u9488\u5BF9\u670D\u52A1\u7AEF\u7CBE\u51C6\u6D4B\u8BD5\u7684\u63A2\u7D22\uFF0C\u7ECF\u8FC7\u534A\u5E74\u7684\u6280\u672F\u6C89\u6DC0\u548C\u4F53\u7CFB\u642D\u5EFA\uFF0C\u5F62\u6210\u4E86\u5177\u5907",paraId:10,tocIndex:6},{value:"\u53D8\u66F4\u5185\u5BB9\u8BC6\u522B\u3001\u53D8\u66F4\u5F71\u54CD\u5206\u6790\u3001\u6D4B\u8BD5\u80FD\u529B\u63A8\u8350\u3001\u6D4B\u8BD5\u8986\u76D6\u8BC4\u4F30",paraId:10,tocIndex:6},{value:`\u7684\u7CBE\u51C6\u6D4B\u8BD5\u4F53\u7CFB\u3002
\u5728\u6B64\u8FC7\u7A0B\u4E2D\uFF0CCodeFuse-Query \u80FD\u63D0\u4F9B\u7684\u80FD\u529B\u4E3B\u8981\u6709\uFF1A`,paraId:10,tocIndex:6},{value:"\u6839\u636E\u4EE3\u7801\u53D8\u66F4\u5185\u5BB9\uFF08\u6587\u4EF6+\u884C\u53F7\uFF09\uFF0C\u5206\u6790\u51FA\u5F71\u54CD\u7684\u5BF9\u8C61\uFF1A\u65B9\u6CD5\u3001\u5165\u53E3\uFF08http \u5165\u53E3\u3001hsf \u5165\u53E3\uFF09\u3001\u8C03\u7528\u94FE\u8DEF\uFF08\u4ECE\u5165\u53E3\u5230\u53D8\u66F4\u65B9\u6CD5\u7684\u6240\u6709\u8C03\u7528\u94FE\u8DEF\uFF09\u3001\u6570\u636E\u5E93\u64CD\u4F5C\uFF08\u8868\u3001\u64CD\u4F5C\u7C7B\u578B\uFF09",paraId:11,tocIndex:6},{value:"\u7ED3\u5408\u7EBF\u4E0A\u52A8\u6001\u8C03\u7528\u94FE\u8DEF\uFF08\u65B9\u6CD5\u94FE\u8DEF\uFF09\u3001CodeFuse-Query \u9759\u6001\u5206\u6790\u8C03\u7528\u94FE\u8DEF\u7684\u5F71\u54CD\u9762\u7CBE\u51C6\u5206\u6790\u80FD\u529B\uFF0C\u63D0\u5347\u53D8\u66F4\u5206\u6790\u5F71\u54CD\u9762\u7684\u6709\u6548\u6027\u3001\u51C6\u5907\u7387",paraId:11,tocIndex:6},{value:"\u5230\u76EE\u524D\u4E3A\u6B62\uFF0C\u4F18\u9177\u5DF2\u901A\u8FC7 CodeFuse-Query \u63A5\u5165\u6240\u6709\u6838\u5FC3\u5E94\u7528\uFF0C\u5E76\u57FA\u4E8E\u9759\u6001\u5206\u6790\u91C7\u96C6\u6570\u636E\uFF0C\u6784\u5EFA\u4E86\u670D\u52A1\u7AEF\u5B8C\u6574\u7684\u4EE3\u7801\u77E5\u8BC6\u5E93\u548C\u6D41\u91CF\u77E5\u8BC6\u5E93\u3002",paraId:12,tocIndex:6}]},30332:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`
  `,paraId:0},{value:`
    `,paraId:1},{value:"CodeFuseEval on ModelScope",paraId:1},{value:`\uFF5C
    `,paraId:1},{value:"CodeFuseEval on Hugging Face",paraId:1},{value:`
  `,paraId:1},{value:"CodeFuseEval \u5728 HumanEval-x\u3001MBPP \u7684\u57FA\u51C6\u4E0A\uFF0C\u7ED3\u5408 CodeFuse \u5927\u6A21\u578B\u591A\u4EFB\u52A1\u573A\u666F\uFF0C\u5F00\u53D1\u7684\u7F16\u7A0B\u9886\u57DF\u591A\u4EFB\u52A1\u7684\u8BC4\u6D4B\u57FA\u51C6\uFF0C \u53EF\u7528\u4E8E\u8BC4\u4F30\u6A21\u578B\u5728\u4EE3\u7801\u8865\u5168\uFF0C\u81EA\u7136\u8BED\u8A00\u751F\u6210\u4EE3\u7801\uFF0C\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210\u3001\u8DE8\u8BED\u8A00\u4EE3\u7801\u7FFB\u8BD1\uFF0C\u4E2D\u6587\u6307\u4EE4\u751F\u6210\u4EE3\u7801\u7B49\u591A\u7C7B\u4EFB\u52A1\u7684\u6027\u80FD\u3002\u6301\u7EED\u5F00\u653E\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85\uFF01",paraId:2}]},61567:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"CodeFuse-13B: python 3.8 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0Cpytorch 2.0 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0Ctransformers 4.24.0 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0CCUDA 11.4 \u53CA\u4EE5\u4E0A\uFF1B",paraId:0,tocIndex:0},{value:"CodeFuse-CodeLlama-34B: python 3.8 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0Cpytorch2.0 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0Ctransformers==4.32.0 \uFF0CSentencepiece\uFF0CCUDA 11.4 \u53CA\u4EE5\u4E0A\u3002",paraId:1,tocIndex:0},{value:"\u8BC4\u6D4B\u751F\u6210\u7684\u4EE3\u7801\u9700\u8981\u4F7F\u7528\u591A\u79CD\u8BED\u8A00\u7F16\u8BD1\u3001\u8FD0\u884C\u3002\u6211\u4EEC\u4F7F\u7528\u7684\u5404\u7F16\u7A0B\u8BED\u8A00\u4F9D\u8D56\u53CA\u6240\u7528\u5305\u7684\u7248\u672C\u5982\u4E0B\uFF1A",paraId:2,tocIndex:1},{value:"\u4F9D\u8D56",paraId:3,tocIndex:1},{value:"\u7248\u672C",paraId:3,tocIndex:1},{value:"Python",paraId:3,tocIndex:1},{value:"3.10.9",paraId:3,tocIndex:1},{value:"JDK",paraId:3,tocIndex:1},{value:"18.0.2.1",paraId:3,tocIndex:1},{value:"Node.js",paraId:3,tocIndex:1},{value:"16.14.0",paraId:3,tocIndex:1},{value:"js-md5",paraId:3,tocIndex:1},{value:"0.7.3",paraId:3,tocIndex:1},{value:"C++",paraId:3,tocIndex:1},{value:"11",paraId:3,tocIndex:1},{value:"g++",paraId:3,tocIndex:1},{value:"7.5.0",paraId:3,tocIndex:1},{value:"Boost",paraId:3,tocIndex:1},{value:"1.75.0",paraId:3,tocIndex:1},{value:"OpenSSL",paraId:3,tocIndex:1},{value:"3.0.0",paraId:3,tocIndex:1},{value:"go",paraId:3,tocIndex:1},{value:"1.18.4",paraId:3,tocIndex:1},{value:"cargo",paraId:3,tocIndex:1},{value:"1.71.1",paraId:3,tocIndex:1},{value:"\u4E3A\u4E86\u7701\u53BB\u4F7F\u7528\u8005\u914D\u7F6E\u8FD9\u4E9B\u8BED\u8A00\u73AF\u5883\u7684\u9EBB\u70E6\uFF0C\u6211\u4EEC\u6784\u5EFA\u4E86\u4E00\u4E2A Docker \u955C\u50CF\uFF0C\u5E76\u5728\u5176\u4E2D\u914D\u7F6E\u4E86\u6240\u9700\u8981\u7684\u73AF\u5883\uFF0C\u4F60\u53EF\u4EE5\u6309\u7167\u4E0B\u9762\u7684\u6307\u4EE4\u62C9\u53D6\u4F7F\u7528",paraId:4,tocIndex:1},{value:`docker pull registry.cn-hangzhou.aliyuncs.com/codefuse/codefuseeval:latest
`,paraId:5,tocIndex:1},{value:"\u5982\u679C\u60A8\u719F\u6089 Dockerfile\uFF0C\u4E5F\u53EF\u4EE5\u4ECE",paraId:6,tocIndex:1},{value:"codefuseEval/docker/Dockerfile",paraId:6,tocIndex:1},{value:"\u6784\u5EFA\u955C\u50CF\uFF0C\u6216\u8005\u4FEE\u6539\u4E4B\u4EE5\u5B9A\u5236\u81EA\u5DF1\u7684\u914D\u7F6E\uFF1A",paraId:6,tocIndex:1},{value:`cd codefuseEval/docker
docker build [OPTIONS] .
`,paraId:7,tocIndex:1},{value:"\u83B7\u53D6\u955C\u50CF\u540E\uFF0C\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u521B\u5EFA\u5BB9\u5668\uFF1A",paraId:8,tocIndex:1},{value:`docker run -it --gpus all --mount type=bind,source=<LOCAL PATH>,target=<PATH IN CONTAINER> [OPTIONS] <IMAGE NAME:TAG>
`,paraId:9,tocIndex:1},{value:"\u6211\u4EEC\u63D0\u4F9B\u811A\u672C\u6765\u68C0\u67E5\u6240\u63D0\u4F9B\u4EE3\u7801 LLM \u7684\u7ED3\u679C\u3002\u8BF7\u4F7F\u7528\u4EE5\u4E0B\u811A\u672C\u68C0\u67E5\u76F8\u5E94\u7684\u63A8\u7406\u7ED3\u679C\u3002",paraId:10,tocIndex:2},{value:`bash codefuseEval/script/check_reference.sh codefuseEval/result/CodeFuse-CodeLlama-34B/humaneval_result_python.jsonl humaneval_python
bash codefuseEval/script/check_reference.sh codefuseEval/result/CodeFuse-13B/humaneval_result_python.jsonl humaneval_python
`,paraId:11,tocIndex:2},{value:"\u4E0B\u8F7D\u6A21\u578B\u5E76\u66F4\u65B0 ckpt config.json \u4E2D\u7684\u5F53\u524D\u6A21\u578B\u4FE1\u606F\u3002 \u4E3B\u8981\u66F4\u65B0\u5BF9\u5E94\u578B\u53F7\u548C\u7248\u672C\u4E2D\u7684\u300Cpath\u300D\u53C2\u6570\u3002",paraId:12,tocIndex:3},{value:"\u8FD0\u884C\u4EE5\u4E0B\u751F\u6210\u547D\u4EE4\u4EE5\u751F\u6210\u7ED3\u679C\u3002",paraId:12,tocIndex:3},{value:`bash codefuseEval/script/generation.sh MODELNAME MODELVERSION EVALDATASET OUTFILE

eg:
bash codefuseEval/script/generation.sh CodeFuse-13B v1 humaneval_python result/test.jsonl
`,paraId:13,tocIndex:3},{value:"\u8FD0\u884C\u4EE5\u4E0B\u8BC4\u4F30\u547D\u4EE4\u6765\u8BC4\u4F30\u76F8\u5E94\u6A21\u578B\u7248\u672C\u7684\u751F\u6210\u7ED3\u679C\u3002",paraId:14,tocIndex:3},{value:`bash codefuseEval/script/evaluation.sh <RESULT_FILE> <METRIC> <PROBLEM_FILE>
eg:
bash codefuseEval/script/evaluation.sh codefuseEval/result/test.jsonl pass@k humaneval_python
`,paraId:15,tocIndex:3},{value:"\u6211\u4EEC\u63A8\u8350\u4F7F\u7528\u7ED9\u5B9A\u7684",paraId:16,tocIndex:4},{value:"\u8BC4\u6D4B\u73AF\u5883",paraId:17,tocIndex:4},{value:"\u8FDB\u884C\u8BC4\u6D4B\u3002\u5728\u8BC4\u6D4B\u524D\uFF0C\u5C06\u751F\u6210\u7684\u4EE3\u7801\u4EE5\u5982\u4E0B JSON \u5217\u8868\u5F62\u5F0F\u5B58\u50A8\uFF1A",paraId:16,tocIndex:4},{value:`{"task_id": "../..", "generation: "..."}
{"task_id": "../..", "generation: "..."}
...
`,paraId:18,tocIndex:4},{value:"\u6837\u672C\u4F7F\u7528 JSON \u5217\u8868\u683C\u5F0F\u5B58\u50A8\u5728",paraId:19,tocIndex:5},{value:"codefuseEval/data",paraId:19,tocIndex:5},{value:"\u4E2D,\u6839\u636E\u7528\u6237\u6240\u9700\u7684\u4E0B\u6E38\u4EFB\u52A1\u60C5\u51B5\uFF0C\u6BCF\u6761\u6837\u672C\u5305\u542B",paraId:19,tocIndex:5},{value:"task_id",paraId:20,tocIndex:5},{value:': \u9898\u76EE\u7684\u76EE\u6807\u8BED\u8A00\u4E0E ID\u3002\u8BED\u8A00\u4E3A["Python", "Java", "JavaScript", "CPP", "Go"]\u4E2D\u4E4B\u4E00\u3002',paraId:20,tocIndex:5},{value:"prompt",paraId:20,tocIndex:5},{value:": \u51FD\u6570\u58F0\u660E\u4E0E\u63CF\u8FF0\uFF0C\u7528\u4E8E\u4EE3\u7801\u751F\u6210\u3002",paraId:20,tocIndex:5},{value:"declaration",paraId:20,tocIndex:5},{value:": \u4EC5\u6709\u51FD\u6570\u58F0\u660E\uFF0C\u7528\u4E8E\u4EE3\u7801\u7FFB\u8BD1\u3002",paraId:20,tocIndex:5},{value:"canonical_solution",paraId:20,tocIndex:5},{value:": \u624B\u5199\u7684\u793A\u4F8B\u89E3\u7B54\u3002",paraId:20,tocIndex:5},{value:"test",paraId:20,tocIndex:5},{value:": \u9690\u85CF\u6D4B\u4F8B\uFF0C\u7528\u4E8E\u8BC4\u6D4B\u3002",paraId:20,tocIndex:5},{value:"example_test",paraId:20,tocIndex:5},{value:": \u516C\u5171\u6D4B\u8BD5\u6837\u672C\uFF0C\u7528\u4E8E\u8BC4\u4F30\u751F\u6210\u4EE3\u7801\u3002",paraId:20,tocIndex:5},{value:"prompt_text",paraId:20,tocIndex:5},{value:": prompt \u6587\u672C\u60C5\u51B5\u3002",paraId:20,tocIndex:5},{value:"prompt_explain",paraId:20,tocIndex:5},{value:": prompt \u4FE1\u606F\u8BF4\u660E\u3002",paraId:20,tocIndex:5},{value:"func_title",paraId:20,tocIndex:5},{value:": \u751F\u6210\u51FD\u6570\u5934\u4FE1\u606F\u3002",paraId:20,tocIndex:5},{value:"prompt_text_chinese",paraId:20,tocIndex:5},{value:": \u4E2D\u6587 prompt \u4FE1\u606F\u3002",paraId:20,tocIndex:5},{value:"\u9664\u4E86\u76EE\u524D\u63D0\u4F9B\u7684",paraId:21,tocIndex:6},{value:"Codex",paraId:21,tocIndex:6},{value:" \u4E2D\u63D0\u51FA\u7684\u65E0\u504F pass@k \u6307\u6807\u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u5C06 huggingface \u5F00\u6E90\u7684\u76F8\u5173\u6307\u6807\u4E0E",paraId:21,tocIndex:6},{value:"CodeBLEU",paraId:21,tocIndex:6},{value:`\u63D0\u51FA\u7684\u76F8\u4F3C\u6027\u6307\u6807\u8FDB\u884C\u96C6\u6210\u3002
\u76EE\u524D\u5EFA\u8BAE\u7528\u6237\u4E3B\u8981\u4F7F\u7528\u7684\u6307\u6807\u5982\u4E0B\uFF1A`,paraId:21,tocIndex:6},{value:"codebleu",paraId:22,tocIndex:6},{value:": codebleu \u76F8\u4F3C\u6027\u8BC4\u6D4B\u6307\u6807\u3002",paraId:22,tocIndex:6},{value:"pass@k",paraId:22,tocIndex:6},{value:": \u65E0\u504F pass@k \u7684\u8BC4\u6D4B\u6307\u6807\u3002",paraId:22,tocIndex:6},{value:"bleu",paraId:22,tocIndex:6},{value:": \u6587\u672C\u76F8\u4F3C\u6027\u6307\u6807 bleu",paraId:22,tocIndex:6},{value:"bleurt",paraId:22,tocIndex:6},{value:": \u6587\u672C\u8BED\u4E49\u76F8\u4F3C\u6027\u6307\u6807 bleurt",paraId:22,tocIndex:6},{value:"total_time_cost",paraId:22,tocIndex:6},{value:": \u57FA\u4E8E\u88AB\u8BC4\u6570\u636E\u96C6\u3001\u6A21\u578B\u63A8\u7406\u603B\u8017\u65F6",paraId:22,tocIndex:6},{value:"Average time cost",paraId:22,tocIndex:6},{value:": \u57FA\u4E8E\u88AB\u8BC4\u6570\u636E\u96C6\u5355\u4E2A\u4EFB\u52A1\u3001\u6A21\u578B\u63A8\u7406\u5E73\u5747\u8017\u65F6",paraId:22,tocIndex:6},{value:`bash codefuseEval/script/evaluation.sh <RESULT_FILE> <METRIC> <PROBLEM_FILE> <TEST_GROUDTRUTH>
eg:
bash codefuseEval/script/evaluation.sh codefuseEval/result/test.jsonl pass@k humaneval_python
`,paraId:23,tocIndex:7},{value:"\u5E76\u5728\u672C\u4ED3\u5E93\u7684\u6839\u76EE\u5F55\u4E0B\u4F7F\u7528\u5982\u4E0B\u6307\u4EE4\uFF08",paraId:24,tocIndex:7},{value:"\u8BF7\u8C28\u614E\u6267\u884C\uFF0C\u751F\u6210\u7684\u4EE3\u7801\u53EF\u80FD\u6709\u6781\u4F4E\u6982\u7387\u4EA7\u751F\u610F\u5916\u884C\u4E3A\u3002\u5728",paraId:24,tocIndex:7},{value:"execution.py",paraId:25,tocIndex:7},{value:"\u4E2D\u67E5\u770B\u8B66\u544A\u5E76\u53D6\u6D88\u6267\u884C\u4EE3\u7801\u7684\u6CE8\u91CA\uFF0C\u98CE\u9669\u81EA\u8D1F",paraId:24,tocIndex:7},{value:"\uFF09\uFF1A",paraId:24,tocIndex:7},{value:"\u540C\u65F6\u6211\u4EEC\u5F53\u524D\u63D0\u4F9B\u5982\u4E0B\u7684\u6807\u5FD7\u4F4D\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5C06\u6D4B\u8BD5\u6570\u636E\u96C6\u4E2D\u7684\u793A\u4F8B\u89E3\u7B54\u4F5C\u4E3A\u751F\u6210\u7B54\u6848\u5E26\u5165\u8FDB\u884C\u6D4B\u8BD5\u3002",paraId:26,tocIndex:7},{value:"TEST_GROUDTRUTH",paraId:27,tocIndex:7},{value:" \u53D6\u503C\u4E3A True \u6216 False",paraId:27,tocIndex:7},{value:`\u5F53 TEST_GROUDTRUTH \u4E3A True \u65F6\uFF0C\u5F00\u542F self-test \u6A21\u5F0F\uFF0C\u5C06\u8BFB\u53D6 PROBLEM_FILE\uFF0C\u5C06\u793A\u4F8B\u89E3\u7B54\u4F5C\u4E3A\u751F\u6210\u7B54\u6848\u4EE3\u5165\u8FDB\u884C\u6D4B\u8BD5\u3002
TEST_GROUDTRUTH \u4E3A False \u65F6\uFF0C\u5F00\u542F\u8BC4\u6D4B\u6A21\u5F0F\uFF0C\u8BFB\u53D6 RESULT_FILE \u548C\u5C06\u8BFB\u53D6 PROBLEM_FILE\uFF0C\u5C06\u751F\u6210\u7B54\u6848\u4EE3\u5165\u8FDB\u884C\u6D4B\u8BD5`,paraId:28,tocIndex:7},{value:"\u5982\u679C\u4F60\u60F3\u7528\u81EA\u5DF1\u7684\u6570\u636E\u96C6\u8BC4\u4F30\u81EA\u5DF1\u7684\u6A21\u578B\uFF0C\u53EF\u4EE5\u53C2\u8003\u4EE5\u4E0B\u6B65\u9AA4\uFF1A",paraId:29,tocIndex:9},{value:"\u6CE8\u518C\u81EA\u5DF1\u7684\u6570\u636E\u96C6",paraId:30,tocIndex:9},{value:"\u4E0B\u8F7D\u8BC4\u4F30\u6570\u636E\u96C6\u5E76\u5B58\u50A8\u5728",paraId:31,tocIndex:9},{value:"codefuseEval/data",paraId:31,tocIndex:9},{value:"\u6216\u5176\u4ED6\u76EE\u5F55\u4E2D\u3002 \u6570\u636E\u96C6\u5FC5\u987B\u662F jsonl \u683C\u5F0F\u3002",paraId:31,tocIndex:9},{value:"\u9488\u5BF9\u4E8E\u6570\u636E\u96C6\u8DEF\u5F84\u3001\u6570\u636E\u96C6\u4EFB\u52A1\u6A21\u5F0F task_mode \u548C\u4F7F\u7528\u6570\u636E\u96C6\u540E\u751F\u6210\u7ED3\u679C\u7684\u4EE3\u7801\u8BED\u8A00\u60C5\u51B5\uFF0C\u9700\u8981\u5728",paraId:31,tocIndex:9},{value:"codefuseEval/util.py",paraId:31,tocIndex:9},{value:"\u4E2D\u7684",paraId:31,tocIndex:9},{value:"EVAL_DATASET",paraId:31,tocIndex:9},{value:"\u3001",paraId:31,tocIndex:9},{value:"DATASET_SUPPORT",paraId:31,tocIndex:9},{value:"\u548C",paraId:31,tocIndex:9},{value:"DATASET_LANGUAGE",paraId:31,tocIndex:9},{value:"\u53D8\u91CF\u4E2D\u8FDB\u884C\u8BBE\u7F6E\u3002",paraId:31,tocIndex:9},{value:"\u6CE8\u518C\u4F60\u7684\u8BC4\u6D4B\u6A21\u578B",paraId:32,tocIndex:9},{value:"\u4E0B\u8F7D\u8BC4\u4F30\u6A21\u578B\u5E76\u5B58\u50A8\u5728",paraId:33,tocIndex:9},{value:"codefuseEval/model",paraId:33,tocIndex:9},{value:"\u6216\u5176\u4ED6\u76EE\u5F55\u4E2D\u3002",paraId:33,tocIndex:9},{value:"\u5728",paraId:33,tocIndex:9},{value:"codefuseEval/processor",paraId:33,tocIndex:9},{value:"\u5305\u4E2D\u7F16\u5199\u8BC4\u4F30\u6A21\u578B\u5904\u7406\u5668\u4EE3\u7801\u3002",paraId:33,tocIndex:9},{value:"\u6211\u4EEC\u8BBE\u8BA1\u4E86\u4E00\u4E2A\u540D\u4E3A Processor \u7684\u57FA\u7840\u7ED3\u6784\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u5DF1\u6839\u636E\u63A8\u7406\u6A21\u578B\u7684\u60C5\u51B5\u521B\u5EFA\u81EA\u5DF1\u9700\u8981\u7684\u5904\u7406\u5668, \u4E3B\u8981\u76EE\u7684\u662F\u4E3A\u4E86\u5904\u7406\u4E0D\u540C\u6A21\u578B\u7684\u533A\u522B\u60C5\u51B5\u8FDB\u884C\u5904\u7406\uFF0C\u4E3B\u8981\u9700\u8981\u5B8C\u6210 3 \u4E2A\u62BD\u8C61\u51FD\u6570\uFF1A",paraId:34,tocIndex:10},{value:`load_model_tokenizer: \u7531\u4E8E\u6A21\u578B\u52A0\u8F7D\u53C2\u6570\u7684\u533A\u522B\u4EE5\u53CAtokenizer\u7684\u7EC8\u6B62\u7B26\u7684\u533A\u522B\uFF0C\u6A21\u578B\u9700\u8981\u4F7F\u7528\u4E0D\u540C\u7684\u53C2\u6570\u8FDB\u884C\u9002\u914D\u52A0\u8F7D\uFF0C\u5F53\u524D\u51FD\u6570\u4E3B\u8981\u662F\u4E3A\u4E86\u5E2E\u52A9\u7528\u6237\u52A0\u8F7D\u9002\u914D\u4E0D\u540C\u7684\u6A21\u578B
process_before\uFF1A\u7531\u4E8Eprompt\u6839\u636E\u7528\u6237\u4E0D\u540C\u7684\u9009\u62E9\u8BC4\u6D4B\u4EFB\u52A1\u7684\u7C7B\u578B\u6216\u4E0D\u540C\u6A21\u578B\u6765\u9002\u914D\u4E0D\u540C\u7684prompt\u6837\u5F0F\uFF0C\u56E0\u6B64\u62BD\u53D6\u51FAprocess_before\u51FD\u6570\u4E3B\u8981\u7528\u6765\u5E2E\u52A9\u7528\u6237\u5904\u7406prompt
process_after\uFF1A\u7531\u4E8E\u6A21\u578B\u751F\u6210\u7ED3\u679C\u591A\u6837\u6027\uFF0C\u4E3A\u4E86\u9002\u914D\u8BC4\u6D4B\u6846\u67B6\uFF0C\u65B9\u4FBF\u751F\u6210\u7ED3\u679C\u6570\u636E\u53EF\u4EE5\u62FC\u63A5\u6210\u5408\u9002\u7684\u7528\u4F8B\u8FDB\u884C\u81EA\u52A8\u5316\u8FD0\u884C\uFF0C\u5F53\u524D\u51FD\u6570\u4E3B\u8981\u662F\u6839\u636E\u4EFB\u52A1\u7C7B\u578B\u548C\u6570\u636E\u96C6\u60C5\u51B5\uFF0C\u5904\u7406\u751F\u6210\u7ED3\u679C\u9002\u914D\u8BC4\u6D4B\u6570\u636E\u96C6\u548C\u7ED3\u679C\u8FDB\u884C\u8BC4\u6D4B
`,paraId:35,tocIndex:10},{value:"\u60A8\u53EF\u4EE5\u5728",paraId:36,tocIndex:10},{value:"codefuseEval/processor/base.py",paraId:36,tocIndex:10},{value:"\u4E2D\u67E5\u770B",paraId:36,tocIndex:10},{value:"BaseProcessor",paraId:36,tocIndex:10},{value:"\u60C5\u51B5\uFF0C\u521B\u5EFA\u81EA\u5DF1\u6A21\u578B\u7684\u5904\u7406\u5668\uFF0C\u5E76\u5B9E\u73B0\u4E0A\u8FF0\u51FD\u6570\u529F\u80FD",paraId:36,tocIndex:10},{value:"\u5728",paraId:37,tocIndex:10},{value:"ckpt_config.json",paraId:37,tocIndex:10},{value:"\u4E2D\u8BBE\u7F6E\u4FE1\u606F\u6A21\u578B\u3002 \u4E3E\u4F8B\u5982\u4E0B",paraId:37,tocIndex:10},{value:`{
  "CodeFuse-13B": {     //\u6A21\u578B\u540D\u79F0
    "v1": {             //\u6A21\u578B\u7248\u672C
      "path": "/mnt/model/CodeFuse13B-evol-instruction-4K/",       // \u6A21\u578B\u8DEF\u5F84
      "processor_class": "codefuseEval.process.codefuse13b.Codefuse13BProcessor",  // \u6A21\u578B\u5904\u7406\u5668\u8DEF\u5F84
      "tokenizer": {                 // \u5C06prompt token\u5316\u65F6tokenizer\u4F20\u5165\u7684\u53C2\u6570
        "truncation": true,
        "padding": true,
        "max_length": 600
      },
      "generation_config": {        //\u751F\u6210\u914D\u7F6E\u53C2\u6570
        "greedy": {                 //\u5982\u679C\u662FJsonObject\uFF0C\u5F53\u524D\u914D\u7F6E\u7684\u662F\u89E3\u7801\u7B56\u7565\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u4E0B\u65B9\u300Cdecode_mode\u300D\u53C2\u6570\u6765\u52A0\u8F7D\u751F\u6210\u914D\u7F6E\u53C2\u6570\u4E2D\u5B9A\u4E49\u7684\u4E0D\u540C\u7684\u89E3\u7801\u7B56\u7565\u3002
          "do_sample": false,
          "num_beams": 1,
          "max_new_tokens": 512
        },
        "beams": {
          "do_sample": false,
          "num_beams": 5,
          "max_new_tokens": 600,
          "num_return_sequences": 1
        },
        "dosample": {
          "da_sample": true
        },
        "temperature": 0.2,          //\u5982\u679C\u4E0D\u662F JsonObject\uFF0C\u5B83\u662F\u4E00\u4E2A\u9ED8\u8BA4\u53C2\u6570\uFF0C\u6211\u4EEC\u5C06\u5728 Generation_config \u4E2D\u8BBE\u7F6E\u9ED8\u8BA4\u503C\u3002 \u4F60\u53EF\u4EE5\u901A\u8FC7\u8BFB\u53D6\u89E3\u7801\u7B56\u7565\u4E2D\u540C\u540D\u53C2\u6570\u7684\u65B9\u5F0F\u8986\u76D6\u5F53\u524D\u53C2\u6570\u7684\u9ED8\u8BA4\u503C\u3002
        "max_new_tokens": 600,
        "num_return_sequences": 1,
        "top_p": 0.9,
        "num_beams": 1,
        "do_sample": true
      },
      "batch_size": 1,            // \u5355\u6B21\u751F\u6210\u7684batch size\u5927\u5C0F
      "sample_num": 1,            // \u5355\u6761\u8BC4\u6D4B\u6570\u636E\u751F\u6210\u7684\u6837\u672C\u6570
      "decode_mode": "beams"      // \u9009\u62E9\u5728 Generation_config \u4E2D\u5B9A\u4E49\u7684\u89E3\u7801\u6A21\u5F0F
    }
  }
`,paraId:38,tocIndex:10},{value:"\u4E3A\u4E86\u68C0\u67E5\u8BC4\u4F30\u6570\u636E\u96C6\u63D0\u4F9B\u7684\u53C2\u8003\u503C\u662F\u5426\u6B63\u786E\uFF0C\u6211\u4EEC\u63D0\u4F9B\u4EE5\u4E0B\u547D\u4EE4\u6765\u68C0\u67E5\u6570\u636E\u96C6\uFF0C\u9488\u5BF9\u4E8E\u5DF2\u7ECF\u96C6\u6210\u7684\u6570\u636E\u96C6\u60C5\u51B5\uFF0C\u68C0\u67E5\u6570\u636E\u96C6\u7684\u547D\u4EE4\u5982\u4E0B\u6240\u793A",paraId:39,tocIndex:11},{value:"\u4EE3\u7801\u8865\u5168",paraId:40,tocIndex:11},{value:`bash codefuseEval/script/check_dataset.sh humaneval_python

bash codefuseEval/script/check_dataset.sh humaneval_java

bash codefuseEval/script/check_dataset.sh humaneval_js

bash codefuseEval/script/check_dataset.sh humaneval_rust

bash codefuseEval/script/check_dataset.sh humaneval_go

bash codefuseEval/script/check_dataset.sh humaneval_cpp
`,paraId:41,tocIndex:11},{value:"\u81EA\u7136\u8BED\u8A00\u751F\u6210\u4EE3\u7801",paraId:42,tocIndex:11},{value:`bash codefuseEval/script/check_dataset.sh mbpp
`,paraId:43,tocIndex:11},{value:"\u4EE3\u7801\u7FFB\u8BD1",paraId:44,tocIndex:11},{value:`bash codefuseEval/script/check_dataset.sh codeTrans_python_to_java

bash codefuseEval/script/check_dataset.sh codeTrans_python_to_cpp

bash codefuseEval/script/check_dataset.sh codeTrans_cpp_to_java

bash codefuseEval/script/check_dataset.sh codeTrans_cpp_to_python

bash codefuseEval/script/check_dataset.sh codeTrans_java_to_python

bash codefuseEval/script/check_dataset.sh codeTrans_java_to_cpp
`,paraId:45,tocIndex:11},{value:"\u79D1\u5B66\u8BA1\u7B97",paraId:46,tocIndex:11},{value:`bash codefuseEval/script/check_dataset.sh codeCompletion_matplotlib

bash codefuseEval/script/check_dataset.sh codeCompletion_numpy

bash codefuseEval/script/check_dataset.sh codeCompletion_pandas

bash codefuseEval/script/check_dataset.sh codeCompletion_pytorch

bash codefuseEval/script/check_dataset.sh codeCompletion_scipy

bash codefuseEval/script/check_dataset.sh codeCompletion_sklearn

bash codefuseEval/script/check_dataset.sh codeCompletion_tensorflow

bash codefuseEval/script/check_dataset.sh codeInsertion_matplotlib

bash codefuseEval/script/check_dataset.sh codeInsertion_numpy

bash codefuseEval/script/check_dataset.sh codeInsertion_pandas

bash codefuseEval/script/check_dataset.sh codeInsertion_pytorch

bash codefuseEval/script/check_dataset.sh codeInsertion_scipy

bash codefuseEval/script/check_dataset.sh codeInsertion_sklearn

bash codefuseEval/script/check_dataset.sh codeInsertion_tensorflow
`,paraId:47,tocIndex:11}]},73592:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`
    \u{1F917} `,paraId:0},{value:"HuggingFace",paraId:0},{value:`
    \u2022 \u{1F916} `,paraId:0},{value:"\u9B54\u642D",paraId:0},{value:"\u65B0\u95FB",paraId:1,tocIndex:0},{value:"\u6587\u7AE0",paraId:2,tocIndex:0},{value:"\u9879\u76EE\u7B80\u4ECB",paraId:3,tocIndex:0},{value:"\u73AF\u5883",paraId:4,tocIndex:0},{value:"\u8BAD\u7EC3",paraId:5,tocIndex:0},{value:"\u6A21\u578B",paraId:6,tocIndex:0},{value:"\u6570\u636E\u96C6",paraId:7,tocIndex:0},{value:"\u{1F525}\u{1F525}\u{1F525} [2024/01/17] ",paraId:8,tocIndex:1},{value:"MFTCoder-v0.3.0",paraId:8,tocIndex:1},{value:"\u53D1\u5E03\u3002\u65B0\u589E\u5BF9 Mixtral(MoE), DeepSeek \u7B49\u6A21\u578B\u7684\u652F\u6301\uFF1B\u65B0\u589E\u652F\u6301 FSDP(Fully Sharded Data Parallel)\uFF1B\u65B0\u589E Self-paced Loss, \u652F\u6301\u591A\u4EFB\u52A1\u6536\u655B\u5747\u8861\u3002 \u611F\u5174\u8DA3\u8BE6\u89C1\u5FAE\u4FE1\u516C\u4F17\u53F7 CodeFuse \u7684\u6587\u7AE0",paraId:8,tocIndex:1},{value:"MFTCoder \u91CD\u78C5\u5347\u7EA7 v0.3.0 \u53D1\u5E03",paraId:8,tocIndex:1},{value:"\u{1F525}\u{1F525}\u{1F525} [2024/01/17] \u5F00\u6E90\u4E86",paraId:9,tocIndex:1},{value:"CodeFuse-DeepSeek-33B",paraId:9,tocIndex:1},{value:"\u6A21\u578B\uFF0C\u5728 HumanEval pass@1(greedy decoding)\u4E0A\u53EF\u4EE5\u8FBE\u5230 78.7%\u3002\u8BE5\u6A21\u578B\u5728 Big Code \u699C\u5355\u7684\u7ED3\u679C\u8FD1\u671F\u53D1\u5E03\uFF0C\u8BF7\u5173\u6CE8\u516C\u4F17\u53F7\u83B7\u53D6\u6700\u65B0\u4FE1\u606F\u3002",paraId:9,tocIndex:1},{value:"\u{1F525}\u{1F525}\u{1F525} [2024/01/17] \u5F00\u6E90\u4E86",paraId:10,tocIndex:1},{value:"CodeFuse-Mixtral-8x7B",paraId:10,tocIndex:1},{value:"\u6A21\u578B\uFF0C\u5728 HumanEval pass@1(greedy decoding)\u4E0A\u53EF\u4EE5\u8FBE\u5230 56.1%\u3002\u611F\u5174\u8DA3\u8BE6\u89C1\u5FAE\u4FE1\u516C\u4F17\u53F7 CodeFuse \u7684\u6587\u7AE0",paraId:10,tocIndex:1},{value:"MFTCoder \u63D0\u5347 Mixtral-8x7B \u6DF7\u5408\u4E13\u5BB6\u6A21\u578B\u7684\u4EE3\u7801\u80FD\u529B\u5B9E\u8DF5",paraId:10,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/11/07] ",paraId:11,tocIndex:1},{value:"MFTCoder \u8BBA\u6587",paraId:11,tocIndex:1},{value:"\u5728 Arxiv \u516C\u5E03\uFF0C\u4ECB\u7ECD\u4E86\u591A\u4EFB\u52A1\u5FAE\u8C03\u7684\u6280\u672F\u7EC6\u8282\u3002",paraId:11,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/10/20] \u5F00\u6E90\u4E86",paraId:12,tocIndex:1},{value:"CodeFuse-QWen-14B",paraId:12,tocIndex:1},{value:"\u6A21\u578B\uFF0C\u5728 HumanEval pass@1(greedy decoding)\u4E0A\u53EF\u4EE5\u8FBE\u5230 48.8%\u3002\u76F8\u6BD4\u8F83\u4E0E\u57FA\u5EA7\u6A21\u578B Qwen-14b \u63D0\u5347 16%\u3002\u611F\u5174\u8DA3\u8BE6\u89C1\u5FAE\u4FE1\u516C\u4F17\u53F7 CodeFuse",paraId:12,tocIndex:1},{value:"\u6587\u7AE0",paraId:12,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/09/27] \u5F00\u6E90\u4E86",paraId:13,tocIndex:1},{value:"CodeFuse-StarCoder-15B",paraId:13,tocIndex:1},{value:"\u6A21\u578B\uFF0C\u5728 HumanEval pass@1(greedy decoding)\u4E0A\u53EF\u4EE5\u8FBE\u5230 54.9%\u3002",paraId:13,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/09/26] ",paraId:14,tocIndex:1},{value:"CodeFuse-CodeLlama-34B-4bits",paraId:14,tocIndex:1},{value:"\u91CF\u5316\u7248\u672C\u53D1\u5E03\uFF0C\u91CF\u5316\u540E\u6A21\u578B\u5728 HumanEval pass@1 \u6307\u6807\u4E3A 73.8% (\u8D2A\u5A6A\u89E3\u7801)\u3002",paraId:14,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/09/07]MFTCoder \u5FAE\u8C03\u7684\u6A21\u578B",paraId:15,tocIndex:1},{value:"CodeFuse-CodeLlama-34B",paraId:15,tocIndex:1},{value:"\u5728",paraId:15,tocIndex:1},{value:"HumanEval Benchmarks",paraId:15,tocIndex:1},{value:"\u7684 Python ",paraId:15,tocIndex:1},{value:"Pass@1",paraId:15,tocIndex:1},{value:" \u53D6\u5F97\u4E86",paraId:15,tocIndex:1},{value:"74.4%",paraId:15,tocIndex:1},{value:"\uFF08greedy decoding\uFF09\u7684\u5F00\u6E90 SOTA \u6210\u7EE9\u3002",paraId:15,tocIndex:1},{value:"\u{1F525}\u{1F525} [2023/08/26]MFTCoder-v0.1.0 \u652F\u6301\u4F7F\u7528 LoRA/QLoRA \u5BF9 Code Llama\u3001Llama\u3001Llama2\u3001StarCoder\u3001ChatGLM2\u3001CodeGeeX2\u3001Qwen \u548C GPT-NeoX \u6A21\u578B\u8FDB\u884C\u5FAE\u8C03\u3002",paraId:16,tocIndex:1},{value:"\u6A21\u578B",paraId:17,tocIndex:2},{value:"HumanEval(Pass@1)",paraId:17,tocIndex:2},{value:"\u65E5\u671F",paraId:17,tocIndex:2},{value:"CodeFuse-DeepSeek-33B",paraId:17,tocIndex:2},{value:"78.7%",paraId:17,tocIndex:2},{value:"2024/01",paraId:17,tocIndex:2},{value:"CodeFuse-CodeLlama-34B",paraId:17,tocIndex:2},{value:"74.4%",paraId:17,tocIndex:2},{value:"2023/09",paraId:17,tocIndex:2},{value:"CodeFuse-CodeLlama-34B-4bits",paraId:17,tocIndex:2},{value:"73.8%",paraId:17,tocIndex:2},{value:"2023/09",paraId:17,tocIndex:2},{value:"WizardCoder-Python-34B-V1.0",paraId:17,tocIndex:2},{value:"73.2%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"GPT-4(zero-shot)",paraId:17,tocIndex:2},{value:"67.0%",paraId:17,tocIndex:2},{value:"2023/03",paraId:17,tocIndex:2},{value:"PanGu-Coder2 15B",paraId:17,tocIndex:2},{value:"61.6%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"CodeFuse-Mixtral-8x7B",paraId:17,tocIndex:2},{value:"56.1%",paraId:17,tocIndex:2},{value:"2024/01",paraId:17,tocIndex:2},{value:"CodeFuse-StarCoder-15B",paraId:17,tocIndex:2},{value:"54.9%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"CodeLlama-34b-Python",paraId:17,tocIndex:2},{value:"53.7%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"CodeFuse-QWen-14B",paraId:17,tocIndex:2},{value:"48.8%",paraId:17,tocIndex:2},{value:"2023/10",paraId:17,tocIndex:2},{value:"CodeLlama-34b",paraId:17,tocIndex:2},{value:"48.8%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"GPT-3.5(zero-shot)",paraId:17,tocIndex:2},{value:"48.1%",paraId:17,tocIndex:2},{value:"2022/11",paraId:17,tocIndex:2},{value:"OctoCoder",paraId:17,tocIndex:2},{value:"46.2%",paraId:17,tocIndex:2},{value:"2023/08",paraId:17,tocIndex:2},{value:"StarCoder-15B",paraId:17,tocIndex:2},{value:"33.6%",paraId:17,tocIndex:2},{value:"2023/05",paraId:17,tocIndex:2},{value:"QWen-14B",paraId:17,tocIndex:2},{value:"32.3%",paraId:17,tocIndex:2},{value:"2023/10",paraId:17,tocIndex:2},{value:"\u{1F525} ",paraId:18,tocIndex:3},{value:"CodeFuse-MFTCoder \u63D0\u5347 CodeGeeX2-6B \u4EE3\u7801\u80FD\u529B",paraId:18,tocIndex:3},{value:"\u{1F525} ",paraId:19,tocIndex:3},{value:"CodeFuse-MFTCoder \u63D0\u5347 Qwen-14B \u4EE3\u7801\u80FD\u529B",paraId:19,tocIndex:3},{value:"\u56FD\u9645\u9996\u4E2A\u9AD8\u7CBE\u5EA6\u3001\u9AD8\u6548\u7387\u3001\u591A\u4EFB\u52A1\u3001\u591A\u6A21\u578B\u652F\u6301\u3001\u591A\u8BAD\u7EC3\u7B97\u6CD5\uFF0C\u5927\u6A21\u578B\u4EE3\u7801\u80FD\u529B\u5FAE\u8C03\u6846\u67B6\uFF1B",paraId:20,tocIndex:4},{value:"Codefuse-MFTCoder",paraId:21,tocIndex:4},{value:" \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u591A\u4EFB\u52A1\u4EE3\u7801\u5927\u8BED\u8A00\u6A21\u578B\u9879\u76EE\uFF0C\u5305\u542B\u4EE3\u7801\u5927\u6A21\u578B\u7684\u6A21\u578B\u3001\u6570\u636E\u3001\u8BAD\u7EC3\u7B49\u3002\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u5F00\u6E90\uFF0C\u5206\u4EAB\u4EA4\u6D41\u5927\u8BED\u8A00\u6A21\u578B\u5728\u4EE3\u7801\u9886\u57DF\u7684\u8FDB\u6B65\u3002",paraId:21,tocIndex:4},{value:":white_check_mark: ",paraId:22,tocIndex:6},{value:"\u591A\u4EFB\u52A1",paraId:22,tocIndex:6},{value:"\uFF1A\u4E00\u4E2A\u6A21\u578B\u540C\u65F6\u652F\u6301\u591A\u4E2A\u4EFB\u52A1\uFF0C\u4F1A\u4FDD\u8BC1\u591A\u4E2A\u4EFB\u52A1\u4E4B\u95F4\u7684\u5E73\u8861\uFF0C\u751A\u81F3\u53EF\u4EE5\u6CDB\u5316\u5230\u65B0\u7684\u6CA1\u6709\u89C1\u8FC7\u7684\u4EFB\u52A1\u4E0A\u53BB\uFF1B",paraId:22,tocIndex:6},{value:":white_check_mark: ",paraId:23,tocIndex:6},{value:"\u591A\u6A21\u578B",paraId:23,tocIndex:6},{value:"\uFF1A\u652F\u6301\u6700\u65B0\u7684\u591A\u4E2A\u5F00\u6E90\u6A21\u578B\uFF0C\u5305\u62EC gpt-neox\uFF0Cllama\uFF0Cllama-2\uFF0Cbaichuan\uFF0CQwen\uFF0Cchatglm2 \u7B49\uFF1B",paraId:23,tocIndex:6},{value:":white_check_mark: ",paraId:24,tocIndex:6},{value:"\u591A\u6846\u67B6",paraId:24,tocIndex:6},{value:"\uFF1A\u65E2\u652F\u6301\u4E3B\u6D41\u5F00\u6E90\u7684 Accelerate+DeepSpeed/FSDP\uFF0C\u4E5F\u652F\u6301\u65B0\u5F00\u6E90\u7684",paraId:24,tocIndex:6},{value:"ATorch \u6846\u67B6",paraId:24,tocIndex:6},{value:"\uFF1B",paraId:24,tocIndex:6},{value:":white_check_mark: ",paraId:25,tocIndex:6},{value:"\u9AD8\u6548\u5FAE\u8C03",paraId:25,tocIndex:6},{value:"\uFF1A\u652F\u6301 LoRA \u548C QLoRA\uFF0C\u53EF\u4EE5\u7528\u5F88\u5C11\u7684\u8D44\u6E90\u53BB\u5FAE\u8C03\u5F88\u5927\u7684\u6A21\u578B\uFF0C\u4E14\u8BAD\u7EC3\u901F\u5EA6\u80FD\u6EE1\u8DB3\u51E0\u4E4E\u6240\u6709\u5FAE\u8C03\u573A\u666F\uFF1B",paraId:25,tocIndex:6},{value:"\u672C\u9879\u76EE\u4E3B\u8981\u5185\u5BB9\u5982\u4E0B\uFF1A",paraId:26,tocIndex:6},{value:"\u540C\u65F6\u652F\u6301\u5355\u4EFB\u52A1 SFT(Supervised FineTuning)\u548C MFT(Multi-task FineTuning), \u5F53\u524D\u5F00\u6E90\u652F\u6301\u6570\u636E\u5747\u8861\uFF0C\u672A\u6765\u5C06\u6301\u7EED\u5F00\u6E90\u96BE\u6613\u5747\u8861\uFF0C \u6536\u655B\u5747\u8861\u7B49",paraId:27,tocIndex:6},{value:"\u652F\u6301 QLoRA \u4F4E\u6210\u672C\u9AD8\u6548\u6307\u4EE4\u5FAE\u8C03\u3001LoRA \u9AD8\u6548\u6307\u4EE4\u5FAE\u8C03\u3001\u5168\u91CF\u53C2\u6570\u9AD8\u7CBE\u5EA6\u5FAE\u8C03\u3002",paraId:27,tocIndex:6},{value:"\u652F\u6301\u7EDD\u5927\u90E8\u5206\u4E3B\u6D41\u7684\u5F00\u6E90\u5927\u6A21\u578B\uFF0C\u91CD\u70B9\u5173\u6CE8\u4EE3\u7801\u80FD\u529B\u4F18\u79C0\u7684\u5F00\u6E90\u5927\u6A21\u578B\uFF0C\u5982 DeepSeek-coder, Mistral, Mistral(MoE), Chatglm3, Qwen, GPT-Neox, Starcoder, Codegeex2, Code-LLaMA \u7B49\u3002",paraId:27,tocIndex:6},{value:"\u652F\u6301 lora \u4E0E base model \u8FDB\u884C\u6743\u91CD\u5408\u5E76\uFF0C\u63A8\u7406\u66F4\u4FBF\u6377\u3002",paraId:27,tocIndex:6},{value:"\u6574\u7406\u5E76\u5F00\u6E90 2 \u4E2A\u6307\u4EE4\u5FAE\u8C03\u6570\u636E\u96C6\uFF1A",paraId:27,tocIndex:6},{value:"Evol-instruction-66k",paraId:27,tocIndex:6},{value:"\u548C",paraId:27,tocIndex:6},{value:"CodeExercise-Python-27k",paraId:27,tocIndex:6},{value:"\u3002",paraId:27,tocIndex:6},{value:"\u5F00\u6E90\u591A\u4E2A[Codefuse \u7CFB\u5217\u6307\u4EE4\u5FAE\u8C03\u6A21\u578B\u6743\u91CD]\uFF0C\u5177\u4F53\u53C2\u89C1\u6211\u4EEC\u7684 huggingface \u7EC4\u7EC7\u548C modelscope \u7EC4\u7EC7\u4E0B\u7684\u6A21\u578B\uFF1A",paraId:27,tocIndex:6},{value:"codefuse-ai huggingface",paraId:27,tocIndex:6},{value:" or ",paraId:27,tocIndex:6},{value:"codefuse-ai \u9B54\u642D",paraId:27,tocIndex:6},{value:`\u3002
|`,paraId:27,tocIndex:6},{value:"\u5982\u679C\u4F60\u89C9\u5F97\u6211\u4EEC\u7684\u5DE5\u4F5C\u5BF9\u4F60\u6709\u5E2E\u52A9\uFF0C\u8BF7\u5F15\u7528\u6211\u4EEC\u7684\u8BBA\u6587",paraId:28,tocIndex:7},{value:`@article{mftcoder2023,
      title={MFTCoder: Boosting Code LLMs with Multitask Fine-Tuning},
      author={Bingchang Liu and Chaoyu Chen and Cong Liao and Zi Gong and Huan Wang and Zhichao Lei and Ming Liang and Dajun Chen and Min Shen and Hailian Zhou and Hang Yu and Jianguo Li},
      year={2023},
      journal={arXiv preprint arXiv},
      archivePrefix={arXiv},
      eprint={2311.02303}
}
`,paraId:29,tocIndex:7}]},49941:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\xA0
`,paraId:0},{value:"\u{1F525} MFTCoder-accelerate \u65B0\u589E\u652F\u6301 accelerate + FSDP \u6846\u67B6\uFF0C \u652F\u6301\u5168\u91CF\u5FAE\u8C03\u548C LoRA;",paraId:1,tocIndex:0},{value:"\u{1F525} MFTCoder-accelerate \u652F\u6301\u6700\u65B0\u66F4\u591A\u4E3B\u6D41\u5F00\u6E90\u6A21\u578B: mistral, mixtral-8x7b(Mixture of Experts), deepseek, chatglm3\uFF1B",paraId:2,tocIndex:0},{value:"\u{1F525} MFTCoder-accelerate \u65B0\u589E self-paced Loss, \u7528\u4E8E\u6536\u655B\u5747\u8861\uFF1B",paraId:3,tocIndex:0},{value:"\u{1F525} MFTCoder-accelerate \u652F\u6301\u4F7F\u7528 accelerate + DeepSpeed \u6846\u67B6\u4E0B\u652F\u6301 \u5168\u91CF\u53C2\u6570/QLoRA/LoRA \u5FAE\u8C03\uFF1B",paraId:4,tocIndex:0},{value:"\u{1F525} MFTCoder-accelerate \u5728\u8BAD\u7EC3\u4E2D\u652F\u6301\u4E86\u591A\u4EFB\u52A1\u5FAE\u8C03 MFT\uFF0C \u53EF\u4EE5\u540C\u65F6\u5E73\u8861\u591A\u4E2A\u4EFB\u52A1\u7684\u8BAD\u7EC3\uFF0C\u8BAD\u7EC3\u7684\u6A21\u578B\u652F\u6301\u591A\u4EFB\u52A1\u63A8\u7406\uFF1B",paraId:5,tocIndex:0},{value:"\u{1F525} MFTCoder-accelerate \u5728\u8BAD\u7EC3\u4E2D\u652F\u6301\u591A\u79CD\u6A21\u578B\u57FA\u5EA7\uFF1A codellama, llama2, llama, starcoder, codegeex2, chatglm2, qwen \u7B49",paraId:6,tocIndex:0},{value:`\u8BAD\u7EC3\u6570\u636E\u4E3A jsonl \u683C\u5F0F\uFF0C\u6BCF\u4E00\u884C\u7684\u6570\u636E\u683C\u5F0F\u5982\u4E0B\uFF0C\u5176\u4E2D chat_rounds \u5B57\u6BB5\u662F\u5FC5\u9700\u7684\uFF0C\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u9700\u6C42\u6DFB\u52A0\u6216\u5220\u9664\u5176\u4ED6\u5B57\u6BB5\u3002
\u53EF\u4EE5\u53C2\u8003\u9879\u76EE\u4E2D\u7684 xxx.jsonl \u6587\u4EF6\u3002`,paraId:7,tocIndex:2},{value:`{
  "id": 0,
  "data_name": "code-helper",
  "chat_rounds": [
    {
      "role": "system",
      "content": "\u4F60\u662F\u4E00\u4E2A\u667A\u80FD\u4EE3\u7801\u52A9\u624B\uFF0C\u53EF\u4EE5\u56DE\u590D\u7528\u6237\u4E0E\u4EE3\u7801\u76F8\u5173\u7684\u95EE\u9898"
    },
    {
      "role": "human",
      "content": "\u5199\u4E00\u4E2A\u5FEB\u901F\u6392\u5E8F"
    },
    {
      "role": "bot",
      "content": "\u4EE5\u4E0B\u662F\u4E00\u4E2A\u5FEB\u901F\u6392\u5E8F\u7B97\u6CD5xxxxxx"
    },
    {
      "role": "human",
      "content": "\u89E3\u91CA\u4E00\u4E0B\u8FD9\u6BB5\u4EE3\u7801"
    },
    {
      "role": "bot",
      "content": "\u597D\u7684\uFF0C\u8FD9\u6BB5\u4EE3\u7801xxx"
    }
  ]
}
`,paraId:8,tocIndex:2},{value:"\u63A8\u7406\u6570\u636E\u683C\u5F0F\u4E3A\u6A21\u578B\u5728\u8BAD\u7EC3\u6570\u636E\u683C\u5F0F\u4E0B\u62FC\u63A5\u7684\u5B57\u7B26\u4E32\u5F62\u5F0F\uFF0C\u5B83\u4E5F\u662F\u63A8\u7406\u65F6\u8F93\u5165 prompt \u62FC\u63A5\u7684\u65B9\u5F0F\uFF1A",paraId:9,tocIndex:3},{value:`"""
<s>system
\u8FD9\u662FSystem\u6307\u4EE4
<s>human
\u8FD9\u662F\u7B2C1\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<s>bot
\u8FD9\u662F\u7B2C1\u8F6E\u6A21\u578B\u751F\u6210\u7684\u5185\u5BB9{EOS_TOKEN}
<s>human
\u8FD9\u662F\u7B2C2\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<s>bot
\u8FD9\u662F\u7B2C2\u8F6E\u6A21\u578B\u751F\u6210\u7684\u5185\u5BB9{EOS_TOKEN}
...
...
...
<s>human
\u8FD9\u662F\u7B2Cn\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<s>bot
{\u6A21\u578B\u73B0\u5728\u8981\u751F\u6210\u7684\u5185\u5BB9}{EOS_TOKEN}
"""
`,paraId:10,tocIndex:3},{value:`\u76EE\u524D\u652F\u6301\u5168\u91CF\u53C2\u6570(Full-parameters)\u6307\u4EE4\u5FAE\u8C03\u3001QLoRA \u6307\u4EE4\u5FAE\u8C03\uFF0CLoRA \u6307\u4EE4\u5FAE\u8C03\u3002
\u4E00\u4E9B\u4F18\u79C0\u7684\u4EE3\u7801\u9884\u8BAD\u7EC3\u6A21\u578B\u6743\u91CD\uFF0C\u7406\u8BBA\u4E0A\uFF0CHuggingFace \u4E0A\u5F00\u6E90\u7684\u6A21\u578B\uFF0C\u5747\u53EF\u4F7F\u7528\u672C\u9879\u76EE\u8FDB\u884C\u8BAD\u7EC3\uFF1A`,paraId:11,tocIndex:4},{value:"\u{1F917} ",paraId:12,tocIndex:4},{value:"\u6700\u65B0\u4EE3\u7801\u9884\u8BAD\u7EC3 SOTA\uFF0CCodeLlama",paraId:12,tocIndex:4},{value:" \uFF1Acode-llama-34b\uFF0C code-llama-34b-python, \u65B0\u7684 SOTA \u57FA\u5EA7\u3002",paraId:12,tocIndex:4},{value:"\u{1F917} ",paraId:13,tocIndex:4},{value:"10B \u7EA7\u522B\u6700\u4F73\u4EE3\u7801\u9884\u8BAD\u7EC3\u6A21\u578B Starcoder",paraId:13,tocIndex:4},{value:" wizardCoder-15B, PanGu-coder2 \u7B49\u524D SOTA \u7684\u57FA\u5EA7\u6A21\u578B\u3002",paraId:13,tocIndex:4},{value:"\u{1F917} ",paraId:14,tocIndex:4},{value:"\u591A\u8BED\u8A00\u80FD\u624B Qwen-7b",paraId:14,tocIndex:4},{value:" \uFF1A\u9002\u7528\u4E8E\u591A\u8BED\u8A00\u4EFB\u52A1\uFF0C\u4E5F\u9002\u7528\u4E2D\u6587\u4EFB\u52A1\u3002\u8FDB\u884C\u6307\u4EE4\u5FAE\u8C03\u65F6\u3002",paraId:14,tocIndex:4},{value:"mftcoder_accelerate \u6587\u4EF6\u7ED3\u6784",paraId:15,tocIndex:4},{value:`mftcoder_accelerate
       |
       src
          configs
          |
          data
          |
          model
          |
          *pefts*
          |
          tokenizer
          |
          utils
       |
       evals
`,paraId:16,tocIndex:4},{value:"\u6211\u4EEC\u5C06\u8BAD\u7EC3\u4E2D\u4F7F\u7528\u7684\u5404\u79CD\u7EC4\u4EF6\u62BD\u53D6\u51FA\u6765\uFF0C\u4EE5\u4FBF\u540E\u7EED\u7684\u6269\u5C55\u548C\u4F18\u5316\uFF0C \u8BE6\u89C1",paraId:17,tocIndex:4},{value:"src",paraId:17,tocIndex:4},{value:"\u76EE\u5F55\u4E0B\u7684\u5B9E\u73B0\u3002",paraId:17,tocIndex:4},{value:"\u8BAD\u7EC3\u5165\u53E3\u6587\u4EF6\u662F",paraId:18,tocIndex:4},{value:"mftcoder_accelerate/src/pefts/mft_accelerate.py",paraId:18,tocIndex:4},{value:"\u53C2\u6570\u914D\u7F6E\u5B58\u50A8\u5728",paraId:19,tocIndex:4},{value:"mftcoder_accelerate/src/configs",paraId:19,tocIndex:4},{value:"\u76EE\u5F55\u4E0B\uFF0C\u65B9\u4FBF\u7EDF\u4E00\u7BA1\u7406\u548C\u66F4\u6539\u3002",paraId:19,tocIndex:4},{value:"\u6240\u4EE5\uFF0C\u5728\u4F60\u5F00\u542F\u8BAD\u7EC3\u4E4B\u524D\uFF0C\u8BF7\u8FDB\u5165 src \u76EE\u5F55",paraId:20,tocIndex:4},{value:`cd mftcoder_accelerate/src
`,paraId:21,tocIndex:4},{value:`\u8BAD\u7EC3\u65F6\uFF0C\u6211\u4EEC\u5C06\u591A\u8F6E\u5BF9\u8BDD\u62FC\u63A5\u6210\u5982\u4E0B\u683C\u5F0F\uFF08\u4E5F\u662F\u4E0A\u6587\u4E2D\u7684\u63A8\u7406\u6570\u636E\u683C\u5F0F\uFF09\uFF0C\u7136\u540E\u8FDB\u884C tokenize\u3002
\u5176\u4E2D\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF1A`,paraId:22,tocIndex:5},{value:"<s>human\\n",paraId:23,tocIndex:5},{value:"\u4F5C\u4E3A human/user \u7684\u8D77\u59CB\u7B26\uFF0C",paraId:23,tocIndex:5},{value:"<s>bot\\n",paraId:23,tocIndex:5},{value:"\u4F5C\u4E3A bot/assistant \u7684\u8D77\u59CB\u7B26\uFF0C",paraId:23,tocIndex:5},{value:"{EOS_TOKEN}",paraId:23,tocIndex:5},{value:` \u8868\u793A eos_token\u3002
\u5176\u4E2D eos_token \u53EF\u4EE5\u6839\u636E\u4E0D\u540C\u6A21\u578B\u4FEE\u6539\u66FF\u6362\u3002\u4E0D\u540C\u89D2\u8272\u7684\u8D77\u59CB\u7B26\u53EF\u4EE5\u914D\u7F6E\uFF0C\u7528\u6765\u5B9E\u73B0\u4E0D\u540C\u7684\u5BF9\u8BDD/\u95EE\u7B54\u6A21\u7248\u3002`,paraId:23,tocIndex:5},{value:`"<s>human\\n{input1}<s>bot\\n{target1}{EOS_TOKEN}<s>human\\n{input2}<s>bot\\n{target2}{EOS_TOKEN}\\n"
`,paraId:24,tocIndex:5},{value:`\u5728\u8BA1\u7B97 loss \u65F6\uFF0C\u6211\u4EEC\u901A\u8FC7 loss mask \u7684\u65B9\u5F0F\uFF0Cinput \u90E8\u5206\u7684 loss \u4E0D\u53C2\u4E0E\u53C2\u6570\u66F4\u65B0\uFF0C\u53EA\u6709\u201Ctarget{EOS_TOKEN}\u201D\u90E8\u5206\u7684 loss \u53C2\u4E0E\u53C2\u6570\u66F4\u65B0\u3002
\u8FD9\u79CD\u65B9\u5F0F\u5145\u5206\u5229\u7528\u4E86\u6A21\u578B\u5E76\u884C\u8BA1\u7B97\u7684\u4F18\u52BF\uFF0C\u8BAD\u7EC3\u66F4\u52A0\u9AD8\u6548\uFF0C\u540C\u65F6\u4E5F\u5145\u5206\u5229\u7528\u4E86 decoder-only \u6A21\u578B\u4ECE\u5DE6\u5230\u53F3 attention \u7684\u7279\u6027\uFF0C\u4E00\u6B21\u6027\u5C06\u591A\u8F6E\u5BF9\u8BDD\u4E2D\u7684\u6BCF\u4E2A target \u90E8\u5206\u90FD\u53C2\u4E0E\u4E86\u8BAD\u7EC3\uFF0C\u8BAD\u7EC3\u66F4\u5145\u5206\u9AD8\u6548\u3002`,paraId:25,tocIndex:5},{value:"\u5173\u4E8E LoRA \u7684\u8BE6\u7EC6\u4ECB\u7ECD\u53EF\u53C2\u8003\u8BBA\u6587\uFF1A",paraId:26,tocIndex:7},{value:"LORA: LOW-RANK ADAPTATION OF LARGE LANGUAGE MODELS",paraId:26,tocIndex:7},{value:"\u5173\u4E8E QLoRA \u7684\u8BE6\u7EC6\u4ECB\u7ECD\u53EF\u53C2\u8003\u8BBA\u6587\uFF1A",paraId:27,tocIndex:7},{value:"QLORA: Efficient Finetuning of Quantized LLMs",paraId:27,tocIndex:7},{value:`QLoRA \u901A\u8FC7 4-bit \u7684 nf4 \u91CF\u5316\uFF0C\u4E14\u52A0\u5165\u66F4\u591A adapter\uFF0C\u5728\u5927\u5E45\u51CF\u5C11\u663E\u5B58\u6D88\u8017\u7684\u540C\u65F6\uFF0C\u5C3D\u53EF\u80FD\u903C\u8FD1\u5168\u91CF\u53C2\u6570\u5FAE\u8C03\u7684\u6548\u679C\u3002
QLoRA \u8BBA\u6587\u6307\u51FA\uFF0C\u8BE5\u65B9\u6CD5\u53EF\u4EE5\u5728\u4E00\u5F20 V100 \u4E0A\u5BF9 33B \u7684\u6A21\u578B\u8FDB\u884C\u5FAE\u8C03\uFF0C\u5E76\u4E14\u6027\u80FD\u903C\u8FD1\u5168\u91CF\u53C2\u6570\u5FAE\u8C03\u3002`,paraId:28,tocIndex:7},{value:"\u6267\u884C\u5982\u4E0B\u547D\u4EE4\u5373\u53EF\u8FDB\u884C Lora/QLora/\u5168\u91CF \u5FAE\u8C03\uFF1A",paraId:29,tocIndex:7},{value:"DeepSpeed \u914D\u7F6E\u5728 accelerate_ds_config.yaml \u4E2D\u3002",paraId:30,tocIndex:8},{value:`accelerate launch --config_file accelerate_ds_config.yaml pefts/mft_accelerate.py --train_config configs/xxx_train_config.json --distributed_type "DeepSpeed"
`,paraId:31,tocIndex:8},{value:"\u6216\u8005",paraId:32,tocIndex:8},{value:"DeepSpeed \u914D\u7F6E\u5728\u811A\u672C\u4E2D\u901A\u8FC7\u547D\u4EE4\u884C\u8F93\u5165\u3002",paraId:33,tocIndex:8},{value:`sh ds_single_launch.sh
`,paraId:34,tocIndex:8},{value:"FSDP \u914D\u7F6E\u5728 accelerate_fsdp_config.yaml \u4E2D\u3002",paraId:35,tocIndex:9},{value:`accelerate launch --config_file accelerate_fsdp_config.yaml pefts/mft_accelerate.py --train_config configs/xxx_train_config.json --distributed_type "FSDP"
`,paraId:36,tocIndex:9},{value:"\u6216\u8005",paraId:37,tocIndex:9},{value:"FSDP \u914D\u7F6E\u5728\u811A\u672C\u4E2D\u901A\u8FC7\u547D\u4EE4\u884C\u8F93\u5165\u3002",paraId:38,tocIndex:9},{value:`sh fsdp_single_launch.sh
`,paraId:39,tocIndex:9},{value:"\u8BAD\u7EC3\u9700\u8981\u7684\u53C2\u6570\u914D\u7F6E\u5728",paraId:40,tocIndex:10},{value:"configs/*_train_config",paraId:40,tocIndex:10},{value:"\u4E2D\uFF0C\u4E3B\u8981\u53C2\u6570\u8BF4\u660E\u5982\u4E0B\uFF1A",paraId:40,tocIndex:10},{value:"load_raw_dataset",paraId:41,tocIndex:10},{value:": \u9700\u8981\u4FDD\u6301 true\uFF0C\u540E\u7EED\u4F1A\u652F\u6301\u5176\u5B83\u6A21\u5F0F\u6570\u636E\uFF0C\u5F53\u524D\u4EC5\u652F\u6301 jsonl \u8F93\u5165",paraId:41,tocIndex:10},{value:"data_paths",paraId:41,tocIndex:10},{value:': "[path1,path2,path3]" \u8F93\u5165\u6570\u636E\u5730\u5740\uFF0C\u5B57\u7B26\u4E32\uFF0C\u5F00\u5934\u7ED3\u5C3E\u7528[]\uFF0C\u4E2D\u95F4\u7528',paraId:41,tocIndex:10},{value:",",paraId:41,tocIndex:10},{value:"\u95F4\u9694\u4E0D\u540C path\uFF0C\u6BCF\u4E2A path \u662F\u4E00\u4E2A\u76EE\u5F55\uFF0C\u76EE\u5F55\u7684\u6700\u540E\u4E00\u7EA7\u540D\u5B57\u4F5C\u4E3A\u4EFB\u52A1\u540D\u79F0\uFF0C\u4E0B\u9762\u5305\u542B 1 \u5230\u591A\u4E2A jsonl \u6570\u636E",paraId:41,tocIndex:10},{value:"output_dir",paraId:41,tocIndex:10},{value:"\uFF1A\u8BAD\u7EC3\u8F93\u51FA\u76EE\u5F55\uFF0C\u5B58\u50A8 checkpoint(\u5168\u91CF\u8BAD\u7EC3\u65F6)\u3001lora_adaptor\uFF08Lora \u6216\u8005 Qlora \u65F6\uFF09\u7B49",paraId:41,tocIndex:10},{value:"tb_dir",paraId:41,tocIndex:10},{value:": \u5B58\u50A8 tensorboard \u7B49",paraId:41,tocIndex:10},{value:"model_type",paraId:41,tocIndex:10},{value:': "mixtral|mistral|deepseek|llama|starcoder|chatglm2|qwen|gpt_neox"',paraId:41,tocIndex:10},{value:"attn_implementation",paraId:41,tocIndex:10},{value:': "flash_attention_2" \u6216\u8005 "eager"',paraId:41,tocIndex:10},{value:"peft_type",paraId:41,tocIndex:10},{value:": lora \u6216\u8005 qlora \u6216\u8005 null(\u5168\u91CF\u5FAE\u8C03)",paraId:41,tocIndex:10},{value:"lora_rank",paraId:41,tocIndex:10},{value:": lora rank",paraId:41,tocIndex:10},{value:"lora_alpha",paraId:41,tocIndex:10},{value:": lora alpha",paraId:41,tocIndex:10},{value:"lora_dropout",paraId:41,tocIndex:10},{value:": lora dropout",paraId:41,tocIndex:10},{value:"target_modules",paraId:41,tocIndex:10},{value:": List[str], lora \u76EE\u6807\u6A21\u5757\uFF0C\u5982\u679C null\uFF0C\u4F1A\u4F7F\u7528\u9ED8\u8BA4\uFF0C\u53C2\u8003 model_mapping.py",paraId:41,tocIndex:10},{value:"quantization",paraId:41,tocIndex:10},{value:': \u662F\u5426\u91CF\u5316\uFF0C"4bit", "8bit" \u6216\u8005 null\uFF0C qlora \u63A8\u8350 4bit \u91CF\u5316',paraId:41,tocIndex:10},{value:"pretrained_model_path",paraId:41,tocIndex:10},{value:"\uFF1A\u9884\u8BAD\u7EC3\u6A21\u578B\u7684\u672C\u5730\u76EE\u5F55\uFF0C\u6216\u8005\u5728 huggingface \u4E0A\u7684\u6A21\u578B\u540D\u79F0\u3002",paraId:41,tocIndex:10},{value:"weighted_loss_mode",paraId:41,tocIndex:10},{value:': \u591A\u4EFB\u52A1 loss \u52A0\u6743\u6A21\u5F0F\uFF0C "case3"\u662F\u5F53\u524D\u63A8\u8350\u3002',paraId:41,tocIndex:10},{value:"padding_mode",paraId:41,tocIndex:10},{value:': \u6570\u636E\u7684\u6837\u672C\u7EC4\u7EC7\u65B9\u5F0F\uFF0C "padding"\u662F\u5C06\u6BCF\u4E2A\u539F\u59CB\u6837\u672C\u586B\u5145\u5230 seq_length, "pack"\u662F\u5C06\u5C3D\u91CF\u591A\u7684\u6837\u672C\u6253\u5305\u5230\u6BCF\u4E2A seq_length \u7684\u5E8F\u5217\u4E2D\u3002',paraId:41,tocIndex:10},{value:"num_train_epochs",paraId:41,tocIndex:10},{value:"\uFF1A\u8BAD\u7EC3\u7684\u8F6E\u6B21\u3002\u5982\u679C\u6570\u636E\u91CF\u8DB3\u591F\u5927\uFF0C\u4E00\u822C\u5EFA\u8BAE\u53EA\u8BAD 1-2 \u4E2A epoch\u3002",paraId:41,tocIndex:10},{value:"per_device_train_batch_size",paraId:41,tocIndex:10},{value:"\uFF1A\u6BCF\u5F20\u663E\u5361 train \u7684 batch size\u3002",paraId:41,tocIndex:10},{value:"per_device_eval_batch_size",paraId:41,tocIndex:10},{value:"\uFF1A\u6BCF\u5F20\u663E\u5361 eval \u7684 batch size\u3002",paraId:41,tocIndex:10},{value:"gradient_accumulation_steps",paraId:41,tocIndex:10},{value:"\uFF1A\u68AF\u5EA6\u7D2F\u8BA1\u6B65\u6570\u3002global batch=num",paraId:41,tocIndex:10},{value:"gpus * per",paraId:41,tocIndex:10},{value:"device_train_batch_size * gradient_accumulation_steps\u3002",paraId:41,tocIndex:10},{value:"learning_rate",paraId:41,tocIndex:10},{value:"\uFF1A\u5B66\u4E60\u7387\u3002\u5168\u91CF\u53C2\u6570\u5FAE\u8C03\u7684\u65F6\u5019\uFF0C\u5EFA\u8BAE\u5C0F\u4E00\u4E9B\uFF0C1e-5 \u6216 5e-6\u3002qlora \u4E2D\u7684\u5B66\u4E60\u7387\u8BBE\u7F6E\u66F4\u5927\u4E00\u4E9B\uFF0C\u4E00\u822C\u4E3A 1e-4\u30012e-4\u3002",paraId:41,tocIndex:10},{value:"min_lr",paraId:41,tocIndex:10},{value:": \u6700\u4F4E\u5B66\u4E60\u7387\uFF0C \u4E00\u822C\u662F learning_rate \u7684\u5341\u5206\u4E4B\u4E00",paraId:41,tocIndex:10},{value:"seq_length",paraId:41,tocIndex:10},{value:"\uFF1A\u8BAD\u7EC3\u65F6\u7684\u6700\u5927\u957F\u5EA6\u3002\u6309\u7167\u81EA\u5DF1\u7684\u8BBE\u5907\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u8D8A\u957F\u9700\u8981\u5360\u7528\u8D8A\u591A\u663E\u5B58\u3002",paraId:41,tocIndex:10},{value:"log_interval",paraId:41,tocIndex:10},{value:"\uFF1A\u6BCF\u9694\u591A\u5C11\u6B65\u7EDF\u8BA1\u4E00\u6B21 train loss\u3002",paraId:41,tocIndex:10},{value:"checkpointing_steps",paraId:41,tocIndex:10},{value:"\uFF1A\u6BCF\u9694\u591A\u5C11\u6B65\u4FDD\u5B58\u4E00\u4E2A\u6A21\u578B\u3002",paraId:41,tocIndex:10},{value:"evaluation_steps",paraId:41,tocIndex:10},{value:"\uFF1A\u6BCF\u9694\u591A\u5C11\u6B65\u5728\u9A8C\u8BC1\u96C6\u4E0A evaluate \u4E00\u6B21\u3002",paraId:41,tocIndex:10},{value:"early_stopping",paraId:41,tocIndex:10},{value:" \uFF1A \u662F\u5426\u6267\u884C early_stop",paraId:41,tocIndex:10},{value:"early_stopping_stall_num",paraId:41,tocIndex:10},{value:"\uFF1A \u591A\u5C11\u4E2A eval point \u4E0D\u7EE7\u7EED\u6536\u655B\uFF0C\u5219\u505C\u6B62\u8BAD\u7EC3",paraId:41,tocIndex:10},{value:"lr_scheduler_type",paraId:41,tocIndex:10},{value:'\uFF1A\u5B66\u4E60\u7387\u53D8\u5316\u7B56\u7565\u3002\u5E38\u7528"cosine"',paraId:41,tocIndex:10},{value:"warmup_steps",paraId:41,tocIndex:10},{value:"\uFF1Awarm up \u6B65\u6570\u3002\u5B66\u4E60\u7387\u7ECF\u8FC7\u591A\u5C11\u6B65\uFF0C\u589E\u957F\u5230\u6307\u5B9A\u7684\u6570\u503C\u3002",paraId:41,tocIndex:10},{value:"seed",paraId:41,tocIndex:10},{value:"\uFF1A\u968F\u673A\u79CD\u5B50\uFF0C\u7528\u4E8E\u590D\u73B0\u5B9E\u9A8C\u7ED3\u679C\u3002",paraId:41,tocIndex:10},{value:"saving_limit",paraId:41,tocIndex:10},{value:"\uFF1A\u6574\u6570\uFF0Cckpt \u5B58\u50A8\u6570\u91CF\u4E0A\u9650\uFF0C \u5168\u91CF\u8BAD\u7EC3\u5FC5\u987B\u8BBE\u7F6E\u3002\u9ED8\u8BA4 null \u5373\u4E0D\u9650\u5236\u6570\u91CF\u3002",paraId:41,tocIndex:10},{value:"role_markers",paraId:41,tocIndex:10},{value:': null\uFF0C\u5373\u4F7F\u7528{"system": "<s>system\\n", "user": "<s>human\\n", "assistant": "<s>bot\\n"}\u3002 \u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49 "system", "user" and "assistant"\u7684\u6A21\u677F\uFF0C \u7528\u4E8E\u5B9A\u5236\u81EA\u5DF1\u7684\u95EE\u7B54\u6216\u8005\u5BF9\u8BDD\u6A21\u677F\uFF0C\u6BD4\u5982 {"system": "### System:\\n", "user": "### Instruction:\\n", "assistant": "### Response:\\n"}',paraId:41,tocIndex:10},{value:`\u5982\u679C\u4F7F\u7528 LoRA \u6216\u8005 QLoRA \u8FDB\u884C\u8BAD\u7EC3\uFF0C\u672C\u9879\u76EE\u4EC5\u4FDD\u5B58 adapter \u7684\u6743\u91CD\u548C\u914D\u7F6E\u6587\u4EF6\uFF0C\u9700\u8981\u5C06 adapter \u6743\u91CD\u4E0E base model \u8FDB\u884C\u5408\u5E76\u3002
\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B merge_base_and_lora_to_hf.py \u811A\u672C\u3002`,paraId:42,tocIndex:12},{value:`python pefts/merge_base_and_lora_to_hf.py \\
    --base_model_or_path model_path \\
    --adaptor_path lora_adapter_path \\
    --model_type model_type \\
    --merged_output_path output_path
`,paraId:43,tocIndex:12},{value:"\u6211\u4EEC\u63D0\u4F9B\u4E86\u5355\u8F6E\u5BF9\u8BDD\u548C\u591A\u8F6E\u5BF9\u8BDD\u7684\u5982\u4E0B\u811A\u672C\uFF0C\u8BE5\u811A\u672C\u53EF\u540C\u65F6\u517C\u5BB9\u5927\u90E8\u5206 huggingface \u683C\u5F0F\u7684\u6A21\u578B\u3002",paraId:44,tocIndex:13},{value:`from transformers import (
    AutoTokenizer,
    AutoModelForCausalLM,
)
model_name_or_path = "codefuse-ai/CodeFuse-Deepseek-33B"
tokenizer = AutoTokenizer.from_pretrained(model_name_or_path, trust_remote_code=True, padding_side="left")
tokenizer.eos_token_id = tokenizer.convert_tokens_to_ids("<\uFF5Cend\u2581of\u2581sentence\uFF5C>")
tokenizer.pad_token_id = tokenizer.eos_token_id
model = AutoModelForCausalLM.from_pretrained(model_name_or_path, trust_remote_code=True)

HUMAN_ROLE_START_TAG = "<s>human\\n"
BOT_ROLE_START_TAG = "<s>bot\\n"
texts = ["write a python function of quick sort."]
texts = [f"{HUMAN_ROLE_START_TAG}{text}{BOT_ROLE_START_TAG}" for text in texts]

inputs = tokenizer(texts, return_tensors='pt', padding=True, add_special_tokens=False).to("cuda")
outputs = model.generate(
        inputs=inputs["input_ids"],
        attention_mask=inputs["attention_mask"],
        max_new_tokens=512,
        top_p=0.95,
        temperature=0.1,
        do_sample=True,
        eos_token_id=tokenizer.eos_token_id,
        pad_token_id=tokenizer.pad_token_id
    )
gen_text = tokenizer.batch_decode(outputs[:, inputs["input_ids"].shape[1]:], skip_special_tokens=True)
print(gen_text)
`,paraId:45,tocIndex:13},{value:`\u751F\u6210\u811A\u672C\u4E2D\u7684 top_p\u3001temperature\u3001repetition_penalty\u3001do_sample \u7B49\u53C2\u6570\u5BF9\u6A21\u578B\u7684\u751F\u6210\u6548\u679C\u5F71\u54CD\u8F83\u5927\uFF0C\u53EF\u6309\u7167\u81EA\u5DF1\u7684\u4F7F\u7528\u573A\u666F\u8FDB\u884C\u8C03\u8BD5\u4FEE\u6539\u3002
\u5B9E\u8DF5\u4E2D\uFF0C\u5728\u4EE3\u7801\u751F\u6210\u573A\u666F\u4E2D\uFF0C\u5982\u679C\u91C7\u6837\u6A21\u5F0F\uFF0Cdo_sample=True, top_p=0.95, temperature=0.1 \u662F pass@1 \u6307\u6807\u7684\u4E0D\u9519\u9009\u62E9\uFF1B
\u5982\u679C\u975E\u91C7\u6837\u6A21\u5F0F\uFF0C do_sample=False, beam_num=1 \u6216\u8005 3 \u662F\u4E0D\u9519\u7684\u9009\u62E9\uFF0C\u5176\u4E2D beam_num=1 \u5373\u4E3A greedy decoding\u3002`,paraId:46,tocIndex:13},{value:"\u5982\u679C\u53D1\u751F OOM\uFF0C\u53EF\u4EE5\u7F29\u5C0F per_device_train_batch_size\u3001seq_length \u7B49\u53C2\u6570\u6765\u7F13\u89E3\u3002\u7531\u4E8E\u9762\u5BF9\u7684\u6A21\u578B\u666E\u904D\u8F83\u5927\uFF086b\uFF0C 13b\uFF0C 34b\uFF0C 70b \u7B49\uFF09\u6211\u4EEC\u5DF2\u7ECF\u9ED8\u8BA4\u4F7F\u7528 gradient_checkpointing \u6280\u672F\uFF0C\u53EF\u4EE5\u5927\u5E45\u964D\u4F4E\u663E\u5B58\u5360\u7528\uFF0C\u4F46\u8BAD\u7EC3\u901F\u5EA6\u4F1A\u7A0D\u6162\u4E00\u4E9B\u3002",paraId:47,tocIndex:15},{value:"\u53C2\u8003 init_env.sh \u548C requirements.txt",paraId:48,tocIndex:16},{value:"\u901A\u8FC7\u5982\u4E0B\u65B9\u5F0F\uFF0C\u5373\u53EF\u6307\u5B9A\u4F7F\u7528 0 \u548C 1 \u53F7\u5361\u8FDB\u884C\u8BAD\u7EC3:",paraId:49,tocIndex:17},{value:`CUDA_VISIBLE_DEVICES=0,1 accelerate launch --config_file pefts/accelerate_ds_config.yaml pefts/mft_accelerate.py --train_config configs/xxx_train_config.json --distributed_type "deepspeed"
`,paraId:50,tocIndex:17},{value:"\u9996\u5148\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u5B89\u88C5 Flash Attention 2(FA2)\uFF0C\uFF08>=2.1.0, 2.3.6 \u529F\u80FD\u66F4\u9F50\u5168\uFF09\u3002",paraId:51,tocIndex:18},{value:'\u8BAD\u7EC3\u53C2\u6570\u4E2D"attn_implementation" \u8BBE\u7F6E\u6210 "eager" \u53EF\u4EE5\u7528 naive attention\uFF0C\u4E5F\u5C31\u662F\u672A\u7ECF\u52A0\u901F\u7684 attention\u3002',paraId:52,tocIndex:18},{value:'\u8BAD\u7EC3\u53C2\u6570\u4E2D"attn_implementation" \u8BBE\u7F6E\u6210 "flash_attention_2" \u53EF\u4EE5\u7528 FA2\uFF0C\u901F\u5EA6\u5FEB\uFF0C\u7701\u663E\u5B58\u3002',paraId:53,tocIndex:18},{value:'\u5982\u679C\u4F60\u53EF\u4EE5\u81EA\u884C\u5B89\u88C5\u73AF\u5883\u5E76\u4F7F\u7528 torch>=2.1.1\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u8BBE\u7F6E\u53C2\u6570"attn_implementation"\u4E3A "sdpa"\u3002\u8FD9\u6837\u4F1A\u5C1D\u8BD5\u4F7F\u7528 transformers \u517C\u5BB9\u7684 torch.nn.functional.scaled_dot_product_attention\u3002\u652F\u6301\u7684\u6A21\u578B\u8FD8\u4E0D\u5168\u9762\u3002',paraId:54,tocIndex:18},{value:`\u5BF9\u4E8E LoRA/QLoRA, \u6211\u4EEC\u63A8\u8350\u4F7F\u7528 DeepSpeed \u4F5C\u4E3A\u5E95\u5C42\u5206\u5E03\u5F0F\u6846\u67B6\uFF0C\u5B83\u5177\u6709\u6613\u7528\u6027\u548C\u517C\u5BB9\u6027\u597D\u7684\u7279\u70B9\uFF0C\u5E76\u4E14\u901F\u5EA6\u5F88\u5FEB\u3002
FSDP \u4E0D\u652F\u6301 QLoRA, \u56E0\u4E3A bitsandbytes \u6682\u4E0D\u652F\u6301 FSDP\u3002`,paraId:55,tocIndex:19},{value:"\u5BF9\u4E8E\u5168\u91CF\u5FAE\u8C03\uFF0C\u6211\u4EEC\u63A8\u8350\u4F7F\u7528 FSDP\uFF0C \u56E0\u4E3A\u5B83\u5728\u5168\u91CF\u8BAD\u7EC3\u65F6\u53EF\u4EE5\u53D1\u6325 fully sharding \u7684\u4F18\u52BF\uFF0C\u8FBE\u5230\u66F4\u5FEB\u7684\u8BAD\u7EC3\u901F\u5EA6\u3002",paraId:56,tocIndex:19},{value:`\u56FD\u4EA7\u5927\u6A21\u578B\u6BD4\u5982 chatglm2\uFF0C chatglm3\uFF0C baichuan2\uFF0C qwen\uFF0C aquila2 \u7B49\uFF0C\u4F7F\u7528\u7684\u662F\u548C\u6A21\u578B\u5171\u540C\u53D1\u5E03\u7684 modeling_xxx.py.
\u5176\u5B83\u88AB transformers \u5B98\u65B9\u652F\u6301\u7684\u5927\u6A21\u578B\uFF0C\u7531\u4E8E\u5DF2\u7ECF\u5347\u7EA7\u652F\u6301 flash attention \u7B49\uFF0C\u6240\u4EE5\u5168\u9762\u5207\u6362\u5230\u5B98\u65B9\u7684 modeling \u652F\u6301\u8BAD\u7EC3\uFF0C\u4E4B\u524D\u7684\u81EA\u5B9A\u4E49 modeling \u4F1A\u88AB deprecated`,paraId:57,tocIndex:20}]},59289:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\xA0
`,paraId:0},{value:"\u{1F525} MFTCoder \u5728 Atorch \u6846\u67B6\u4E0B\u652F\u6301 GPTNeoX \u6A21\u578B\u7684\u5FAE\u8C03\uFF1B",paraId:1,tocIndex:0},{value:"\u{1F525} MFTCoder \u652F\u6301\u5168\u91CF\u7684\u6709\u76D1\u7763\u5FAE\u8C03\uFF1B",paraId:2,tocIndex:0},{value:"\u{1F525} MFTCoder \u652F\u6301 LoRA \u5FAE\u8C03\uFF1B",paraId:3,tocIndex:0},{value:`\u8BAD\u7EC3\u6570\u636E\u4E3A jsonl \u683C\u5F0F\uFF0C\u6BCF\u4E00\u884C\u7684\u6570\u636E\u683C\u5F0F\u5982\u4E0B\uFF0C\u5176\u4E2D chat_rounds \u5B57\u6BB5\u662F\u5FC5\u9700\u7684\uFF0C\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u9700\u6C42\u6DFB\u52A0\u6216\u5220\u9664\u5176\u4ED6\u5B57\u6BB5\u3002
\u53EF\u4EE5\u53C2\u8003\u9879\u76EE\u4E2D\u7684 xxx.jsonl \u6587\u4EF6\u3002`,paraId:4,tocIndex:2},{value:`{
  "id": 0,
  "data_name": "code-helper",
  "chat_rounds": [
    {
      "role": "system",
      "content": "\u4F60\u662F\u4E00\u4E2A\u667A\u80FD\u4EE3\u7801\u52A9\u624B\uFF0C\u53EF\u4EE5\u56DE\u590D\u7528\u6237\u4E0E\u4EE3\u7801\u76F8\u5173\u7684\u95EE\u9898",
      "chat_round_id": 0
    },
    {
      "role": "human",
      "content": "\u5199\u4E00\u4E2A\u5FEB\u901F\u6392\u5E8F",
      "chat_round_id": 1
    },
    {
      "role": "bot",
      "content": "\u4EE5\u4E0B\u662F\u4E00\u4E2A\u5FEB\u901F\u6392\u5E8F\u7B97\u6CD5xxxxxx",
      "chat_round_id": 1
    },
    {
      "role": "human",
      "content": "\u89E3\u91CA\u4E00\u4E0B\u8FD9\u6BB5\u4EE3\u7801",
      "chat_round_id": 2
    },
    {
      "role": "bot",
      "content": "\u597D\u7684\uFF0C\u8FD9\u6BB5\u4EE3\u7801xxx",
      "chat_round_id": 2
    }
  ]
}
`,paraId:5,tocIndex:2},{value:"\u63A8\u7406\u6570\u636E\u683C\u5F0F\u4E3A\u6A21\u578B\u5728\u8BAD\u7EC3\u6570\u636E\u683C\u5F0F\u4E0B\u62FC\u63A5\u7684\u5B57\u7B26\u4E32\u5F62\u5F0F\uFF0C\u5B83\u4E5F\u662F\u63A8\u7406\u65F6\u8F93\u5165 prompt \u62FC\u63A5\u7684\u65B9\u5F0F\uFF1A",paraId:6,tocIndex:3},{value:`"""
<|role_start|>system<|role_end|>\u8FD9\u662FSystem\u6307\u4EE4
<|role_start|>human<|role_end|>\u8FD9\u662F\u7B2C1\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<|role_start|>bot<|role_end|>\u8FD9\u662F\u7B2C1\u8F6E\u6A21\u578B\u751F\u6210\u7684\u5185\u5BB9</s>
<|role_start|>human<|role_end|>\u8FD9\u662F\u7B2C2\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<|role_start|>bot<|role_end|>\u8FD9\u662F\u7B2C2\u8F6E\u6A21\u578B\u751F\u6210\u7684\u5185\u5BB9</s>
...
...
...
<|role_start|>human<|role_end|>\u8FD9\u662F\u7B2Cn\u8F6E\u7528\u6237\u8F93\u5165\u7684\u95EE\u9898
<|role_start|>bot<|role_end|>{\u6A21\u578B\u73B0\u5728\u8981\u751F\u6210\u7684\u5185\u5BB9}</s>
"""
`,paraId:7,tocIndex:3},{value:`\u76EE\u524D "MFTCoder/mft_atorch" \u4EE3\u7801\u5E93\u652F\u6301\u5168\u91CF\u53C2\u6570\u6307\u4EE4\u5FAE\u8C03\u548C LoRA \u6307\u4EE4\u5FAE\u8C03\u3002
\u76EE\u524D\u4EC5\u652F\u6301 GPTNeoX \u6A21\u578B\u7684\u8BAD\u7EC3\uFF0C\u7406\u8BBA\u4E0A\uFF0CHuggingFace \u4E0A\u5F00\u6E90\u7684 GPTNeoX \u6A21\u578B\u6743\u91CD\uFF0C\u5747\u53EF\u4F7F\u7528\u672C\u9879\u76EE\u8FDB\u884C\u8BAD\u7EC3\u3002`,paraId:8,tocIndex:4},{value:"\u6211\u4EEC\u5C06\u8BAD\u7EC3\u4E2D\u4F7F\u7528\u7684\u5404\u79CD\u7EC4\u4EF6\u62BD\u53D6\u51FA\u6765\uFF0C\u4EE5\u4FBF\u540E\u7EED\u7684\u6269\u5C55\u548C\u4F18\u5316\uFF0C\u8BE6\u89C1\u4E3B\u76EE\u5F55\u4E0B\u7684\u5B9E\u73B0\u3002\u5FAE\u8C03\u8BAD\u7EC3\u7684\u5165\u53E3\u76EE\u5F55\u662F",paraId:9,tocIndex:4},{value:"train/",paraId:9,tocIndex:4},{value:", \u8BAD\u7EC3\u5165\u53E3\u6587\u4EF6\u662F",paraId:9,tocIndex:4},{value:"train/run_train.py",paraId:9,tocIndex:4},{value:", \u53C2\u6570\u914D\u7F6E\u5B58\u50A8\u5728\u542F\u52A8\u811A\u672C",paraId:9,tocIndex:4},{value:"train/run_gpt_*.sh",paraId:9,tocIndex:4},{value:"\u7B49\u6587\u4EF6\u4E2D\uFF0C\u65B9\u4FBF\u7EDF\u4E00\u7BA1\u7406\u548C\u66F4\u6539\u3002",paraId:9,tocIndex:4},{value:"\u8BAD\u7EC3\u65F6\uFF0C\u6211\u4EEC\u5C06\u591A\u8F6E\u5BF9\u8BDD\u62FC\u63A5\u6210\u5982\u4E0B\u683C\u5F0F\uFF0C\u7136\u540E\u8FDB\u884C tokenize\u3002\u5176\u4E2D<|role_start|>human<|role_end|>\u8868\u793A human \u8F93\u5165\u63D0\u793A\u7B26\uFF0C<|role_start|>bot<|role_end|>\u8868\u793A bot \u8F93\u51FA\u63D0\u793A\u7B26\uFF0C",paraId:10,tocIndex:5},{value:"</s>",paraId:10,tocIndex:5},{value:" \u8868\u793A eos_token\u3002",paraId:10,tocIndex:5},{value:`"<|role_start|>human<|role_end|>input1</s>target1</s>input2</s>target2</s>...
`,paraId:11,tocIndex:5},{value:`\u5728\u8BA1\u7B97 loss \u65F6\uFF0C\u6211\u4EEC\u901A\u8FC7 mask \u7684\u65B9\u5F0F\uFF0Cinput \u90E8\u5206\u7684 loss \u4E0D\u53C2\u4E0E\u53C2\u6570\u66F4\u65B0\uFF0C\u53EA\u6709\u201Ctarget\u201D\u90E8\u5206\u7684 loss \u53C2\u4E0E\u53C2\u6570\u66F4\u65B0\u3002
\u8FD9\u79CD\u65B9\u5F0F\u5145\u5206\u5229\u7528\u4E86\u6A21\u578B\u5E76\u884C\u8BA1\u7B97\u7684\u4F18\u52BF\uFF0C\u8BAD\u7EC3\u66F4\u52A0\u9AD8\u6548\uFF0C\u4E14\u591A\u8F6E\u5BF9\u8BDD\u4E2D\u7684\u6BCF\u4E2A target \u90E8\u5206\u90FD\u53C2\u4E0E\u4E86\u8BAD\u7EC3\uFF0C\u8BAD\u7EC3\u66F4\u5145\u5206\u3002
\u5426\u5219\uFF0C\u5C31\u9700\u8981\u628A\u4E00\u4E2A n \u8F6E\u5BF9\u8BDD\uFF0C\u62C6\u5206\u6210 n \u6761\u6570\u636E\uFF0C\u4E14\u53EA\u8BA1\u7B97\u6700\u540E\u4E00\u4E2A target \u7684 loss\uFF0C\u5927\u5927\u964D\u4F4E\u4E86\u8BAD\u7EC3\u6548\u7387\u3002`,paraId:12,tocIndex:5},{value:"\u6267\u884C\u5982\u4E0B\u547D\u4EE4\u5373\u53EF\u8FDB\u884C\u5168\u91CF SFT\uFF1A",paraId:13,tocIndex:6},{value:`sh run_gpt_mft.sh 10 1 8 5
`,paraId:14,tocIndex:6},{value:"\u9700\u6CE8\u610F\uFF0C\u542F\u52A8\u811A\u672C\u540E\u7684\u56DB\u4E2A\u53C2\u6570\uFF0C\u5206\u522B\u662F\uFF1A",paraId:15,tocIndex:6},{value:"\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u603B\u7684 per gpu batch size",paraId:16,tocIndex:6},{value:"\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F tensor parallel \u6570\uFF08\u6682\u65F6\u53EA\u652F\u6301 1\uFF09",paraId:16,tocIndex:6},{value:"\u7B2C\u4E09\u4E2A\u53C2\u6570\u662F data parallel \u6570\uFF0C\u4E0E\u6240\u7528 GPU \u6570\u4FDD\u6301\u4E00\u81F4",paraId:16,tocIndex:6},{value:"\u7B2C\u56DB\u4E2A\u53C2\u6570\u662F\u8BAD\u7EC3 epoch \u6570",paraId:16,tocIndex:6},{value:"\u540E\u9762\u5176\u4ED6\u7684\u8BAD\u7EC3\u65B9\u5F0F\u542F\u52A8\u811A\u672C\uFF0C\u4E5F\u540C\u6837\u9700\u8981\u914D\u7F6E\u8FD9\u56DB\u4E2A\u53C2\u6570",paraId:17,tocIndex:6},{value:"\u6267\u884C\u5982\u4E0B\u547D\u4EE4\u5373\u53EF\u8FDB\u884C Lora \u5FAE\u8C03\uFF1A",paraId:18,tocIndex:7},{value:`sh run_gpt_mft_peft.sh 10 1 8 5
`,paraId:19,tocIndex:7},{value:"train/run_gpt_*.sh",paraId:20,tocIndex:8},{value:"\u4E2D\u7684\u4E3B\u8981\u53C2\u6570\u8BF4\u660E\u5982\u4E0B\uFF0C\u4EE5\u4E0B\u53C2\u6570\u53EF\u4EE5\u6839\u636E\u9700\u6C42\u8FDB\u884C\u4FEE\u6539\uFF0C\u5176\u4ED6\u53C2\u6570\u5EFA\u8BAE\u4E0D\u505A\u4FEE\u6539\uFF1A",paraId:20,tocIndex:8},{value:'tokenize_mode: \u76EE\u524D\u4EC5\u652F\u6301"sft"\u3002',paraId:21,tocIndex:8},{value:'train_mode: \u76EE\u524D\u4EC5\u652F\u6301"sft"\u3002',paraId:22,tocIndex:8},{value:'load_raw_dataset: \u9700\u8981\u4FDD\u6301"True"\uFF0C\u540E\u7EED\u4F1A\u652F\u6301\u5176\u5B83\u6A21\u5F0F\u6570\u636E\uFF0C\u5F53\u524D\u4EC5\u652F\u6301 jsonl \u8F93\u5165',paraId:23,tocIndex:8},{value:'data_paths: "[path1,path2,path3]" \u8F93\u5165\u6570\u636E\u5730\u5740\uFF0C\u5B57\u7B26\u4E32\uFF0C\u5F00\u5934\u7ED3\u5C3E\u7528[]\uFF0C\u4E2D\u95F4\u7528',paraId:24,tocIndex:8},{value:",",paraId:24,tocIndex:8},{value:"\u95F4\u9694\u4E0D\u540C path\uFF0C\u6BCF\u4E2A path \u662F\u4E00\u4E2A\u76EE\u5F55\uFF0C\u76EE\u5F55\u7684\u6700\u540E\u4E00\u7EA7\u540D\u5B57\u4F5C\u4E3A\u4EFB\u52A1\u540D\u79F0\uFF0C\u4E0B\u9762\u5305\u542B 1 \u5230\u591A\u4E2A jsonl \u6570\u636E\u3002",paraId:24,tocIndex:8},{value:"output_dir: \u8BAD\u7EC3\u8F93\u51FA\u76EE\u5F55\uFF0C\u5B58\u50A8 checkpoint\u3001lora_adaptor checkpoint \u7B49\u3002",paraId:25,tocIndex:8},{value:"tensorboard_dir: \u53EF\u4EE5\u6682\u65F6\u5FFD\u7565\uFF0C\u5B9E\u9645 tensorboard \u5B58\u50A8\u5728 output_dir \u7684 runs \u76EE\u5F55\u4E0B\u3002",paraId:26,tocIndex:8},{value:"model_type: \u76EE\u524D\u4EC5\u652F\u6301 gpt_neox\u3002",paraId:27,tocIndex:8},{value:"peft_type: \u76EE\u524D\u4EC5\u652F\u6301 lora\u3002",paraId:28,tocIndex:8},{value:"pretrained_model_path: \u9884\u8BAD\u7EC3\u6A21\u578B\u7684\u672C\u5730\u76EE\u5F55\u3002",paraId:29,tocIndex:8},{value:"total_train_batch_size: \u6240\u6709\u663E\u5361 train \u7684 batch size \u7684\u603B\u548C\uFF0C\u4F1A\u6839\u636E\u542F\u52A8\u811A\u672C\u65F6\u8F93\u5165\u7684 per gpu batch size \u81EA\u52A8\u8BA1\u7B97\u3002",paraId:30,tocIndex:8},{value:"per_device_valid_batch_size: \u6BCF\u5F20\u663E\u5361 eval \u7684 batch size\uFF0C\u4F1A\u6839\u636E\u542F\u52A8\u811A\u672C\u65F6\u8F93\u5165\u7684 per gpu batch size \u81EA\u52A8\u8BA1\u7B97\u3002",paraId:31,tocIndex:8},{value:"gradient",paraId:32,tocIndex:8},{value:"accumulation_steps: \u68AF\u5EA6\u7D2F\u8BA1\u6B65\u6570\u3002global batch=num_gpus * per",paraId:32,tocIndex:8},{value:"device_train_batch_size * gradient_accumulation_steps\u3002",paraId:32,tocIndex:8},{value:"checkpoint_activations: \u5982\u679C\u663E\u5B58\u6349\u895F\u89C1\u8098\uFF0C\u53EF\u4EE5\u5F00\u542F\u3002\u4EE5\u65F6\u95F4\u6362\u7A7A\u95F4\uFF0C\u6A21\u578B\u4E0D\u7F13\u5B58\u6FC0\u6D3B\u72B6\u6001\uFF0C\u4F1A\u8FDB\u884C\u4E24\u6B21 forward \u8BA1\u7B97\uFF0C\u4EE5\u8282\u7701\u663E\u5B58\u3002",paraId:33,tocIndex:8},{value:"learning_rate: \u5B66\u4E60\u7387\u3002\u5168\u91CF\u53C2\u6570\u5FAE\u8C03\u7684\u65F6\u5019\uFF0C\u5EFA\u8BAE\u5C0F\u4E00\u4E9B\uFF0C1e-5 \u6216 5e-6\u3002qlora \u4E2D\u7684\u5B66\u4E60\u7387\u8BBE\u7F6E\u66F4\u5927\u4E00\u4E9B\uFF0C\u4E00\u822C\u4E3A 1e-4\u30012e-4\u3002",paraId:34,tocIndex:8},{value:"min_lr: \u6700\u4F4E\u5B66\u4E60\u7387\uFF0C \u4E00\u822C\u662F learning_rate \u7684\u5341\u5206\u4E4B\u4E00\u3002",paraId:35,tocIndex:8},{value:"seq_length: \u8BAD\u7EC3\u65F6\u7684\u6700\u5927\u957F\u5EA6\u3002\u6309\u7167\u81EA\u5DF1\u7684\u8BBE\u5907\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u8D8A\u957F\u9700\u8981\u5360\u7528\u8D8A\u591A\u663E\u5B58\u3002",paraId:36,tocIndex:8},{value:"log_interval: \u6BCF\u9694\u591A\u5C11\u6B65\u7EDF\u8BA1\u4E00\u6B21 train loss\u3002",paraId:37,tocIndex:8},{value:"checkpointing_steps: \u6BCF\u9694\u591A\u5C11\u6B65\u4FDD\u5B58\u4E00\u4E2A\u6A21\u578B\u3002",paraId:38,tocIndex:8},{value:"evalation_steps: \u6BCF\u9694\u591A\u5C11\u6B65\u5728\u9A8C\u8BC1\u96C6\u4E0A evaluate \u4E00\u6B21\u3002",paraId:39,tocIndex:8},{value:"early_stopping_patience: \u591A\u5C11\u4E2A eval point \u4E0D\u7EE7\u7EED\u6536\u655B\uFF0C\u5219\u505C\u6B62\u8BAD\u7EC3\u3002",paraId:40,tocIndex:8},{value:"lr_scheduler_type: \u5B66\u4E60\u7387\u53D8\u5316\u7B56\u7565\u3002",paraId:41,tocIndex:8},{value:"num_warmup_steps: warm up \u6B65\u6570\uFF0C\u5B66\u4E60\u7387\u7ECF\u8FC7\u591A\u5C11\u6B65\uFF0C\u589E\u957F\u5230\u6307\u5B9A\u7684\u6570\u503C\u3002",paraId:42,tocIndex:8},{value:"seed: \u968F\u673A\u79CD\u5B50\uFF0C\u7528\u4E8E\u590D\u73B0\u5B9E\u9A8C\u7ED3\u679C\u3002",paraId:43,tocIndex:8},{value:"train_iters: \u53EF\u4EE5\u6682\u65F6\u8BBE\u4E3A\u6BD4\u8F83\u5C0F\u7684\u6570\uFF0C\u5982 10\uFF0C\u5B9E\u9645\u4E0A\u4E0D\u4F1A\u5F71\u54CD\u8BAD\u7EC3\u6B65\u6570\uFF0C\u7559\u4F5C\u540E\u9762\u62D3\u5C55\u8BFB\u53D6\u5176\u4ED6\u5F62\u5F0F\u6570\u636E\u96C6\u7684\u529F\u80FD\u3002",paraId:44,tocIndex:8},{value:"valid_iters: \u53EF\u4EE5\u6682\u65F6\u8BBE\u4E3A\u6BD4\u8F83\u5C0F\u7684\u6570\uFF0C\u5982 10\uFF0C\u5B9E\u9645\u4E0A\u4E0D\u4F1A\u5F71\u54CD\u8BAD\u7EC3\u6B65\u6570\uFF0C\u7559\u4F5C\u540E\u9762\u62D3\u5C55\u8BFB\u53D6\u5176\u4ED6\u5F62\u5F0F\u6570\u636E\u96C6\u7684\u529F\u80FD\u3002",paraId:45,tocIndex:8},{value:'evaluation_strategy: \u8BAD\u7EC3\u671F\u95F4 evaluate \u7684\u7B56\u7565\uFF0C"steps"\u8868\u793A\u6BCF\u9694"valid_interval"\u6B65\u505A\u4E00\u6B21 evaluate\uFF0C"epoch"\u8868\u793A\u6BCF\u9694\u4E00\u4E2A epoch \u505A\u4E00\u6B21 evaluate\uFF0C\u652F\u6301\u540C\u65F6\u5F00\u542F\u3002',paraId:46,tocIndex:8},{value:'save_strategy: \u8BAD\u7EC3\u671F\u95F4\u4FDD\u5B58\u6A21\u578B\u6743\u91CD\u7684\u7B56\u7565\uFF0C"steps"\u8868\u793A\u6BCF\u9694"checkpointing_steps"\u6B65\u4FDD\u5B58\u4E00\u6B21\u3002',paraId:47,tocIndex:8},{value:"extra_save_by_epoch: \u6BCF\u8FC7\u4E00\u4E2A epoch \u662F\u5426\u8981\u4FDD\u5B58\u4E00\u4E2A epoch \u7EA7\u522B\u7684 checkpoint\u3002",paraId:48,tocIndex:8},{value:"save_total_limit: \u6700\u591A\u4FDD\u7559\u7684\u6A21\u578B checkpoint \u4E2A\u6570\uFF0C\u4E00\u822C\u8BBE\u7F6E\u4E3A 2\uFF0C\u4F1A\u4FDD\u7559 valid loss \u6700\u4F4E\uFF0C\u4EE5\u53CA\u6700\u65B0\u7684 checkpoint\uFF0C\u6CE8\u610F epoch \u7EA7\u522B\u7684 checkpoint \u4F1A\u4E00\u76F4\u4FDD\u7559\uFF0C\u4E14\u4E0D\u53D7\u9650\u5236\u3002",paraId:49,tocIndex:8},{value:"weighted_loss_mode: \u591A\u4EFB\u52A1\u8BAD\u7EC3\u7684 loss \u52A0\u6743\u65B9\u5F0F\u3002",paraId:50,tocIndex:8},{value:"\u5982\u679C\u4F7F\u7528 LoRA \u8FDB\u884C\u8BAD\u7EC3\uFF0C\u672C\u9879\u76EE\u4EC5\u4FDD\u5B58 adapter \u7684\u6743\u91CD\u548C\u914D\u7F6E\u6587\u4EF6\uFF0C\u9700\u8981\u5C06 adapter \u6743\u91CD\u4E0E base model \u8FDB\u884C\u5408\u5E76\u3002\u811A\u672C\u89C1",paraId:51,tocIndex:10},{value:"utils/merge_base_and_lora_to_hf.py",paraId:51,tocIndex:10},{value:"\u6211\u4EEC\u63D0\u4F9B\u4E86\u5355\u8F6E\u5BF9\u8BDD\u548C\u591A\u8F6E\u5BF9\u8BDD\u7684\u5982\u4E0B\u811A\u672C\uFF0C\u8BE5\u811A\u672C\u53EF\u540C\u65F6\u517C\u5BB9\u5927\u90E8\u5206 huggingface \u683C\u5F0F\u7684\u6A21\u578B\u3002",paraId:52,tocIndex:11},{value:`from transformers import (
    AutoTokenizer,
    AutoModelForCausalLM,
)
tokenizer = AutoTokenizer.from_pretrained(mode_name_or_path, trust_remote_code=True, use_fast=False, legacy=False)
tokenizer.padding_side = "left"
tokenizer.pad_token_id = tokenizer.convert_tokens_to_ids("<unk>")
tokenizer.eos_token_id = tokenizer.convert_tokens_to_ids("</s>")
model = AutoModelForCausalLM.from_pretrained(mode_name_or_path, trust_remote_code=True)

HUMAN_ROLE_START_TAG = "<|role_start|>human<|role_end|>"
BOT_ROLE_START_TAG = "<|role_start|>bot<|role_end|>"
texts = ["write a python function of quick sort."]
texts = [f"{HUMAN_ROLE_START_TAG}{text}{BOT_ROLE_START_TAG}" for text in texts]

inputs = tokenizer(texts, return_tensors='pt', padding=True, add_special_tokens=False).to("cuda")
outputs = model.generate(
        inputs=inputs["input_ids"],
        attention_mask=inputs["attention_mask"],
        max_new_tokens=512,
        top_p=0.95,
        temperature=0.1,
        do_sample=True,
        eos_token_id=tokenizer.eos_token_id,
        pad_token_id=tokenizer.pad_token_id
    )
gen_text = tokenizer.batch_decode(outputs[:, inputs["input_ids"].shape[1]:], skip_special_tokens=True)
print(gen_text)
`,paraId:53,tocIndex:11},{value:`\u751F\u6210\u811A\u672C\u4E2D\u7684 top_p\u3001temperature\u3001repetition_penalty\u3001do_sample \u7B49\u53C2\u6570\u5BF9\u6A21\u578B\u7684\u751F\u6210\u6548\u679C\u5F71\u54CD\u8F83\u5927\uFF0C\u53EF\u6309\u7167\u81EA\u5DF1\u7684\u4F7F\u7528\u573A\u666F\u8FDB\u884C\u8C03\u8BD5\u4FEE\u6539\u3002
\u5B9E\u8DF5\u4E2D\uFF0C\u5728\u4EE3\u7801\u751F\u6210\u573A\u666F\u4E2D\uFF0C\u5982\u679C\u91C7\u6837\u6A21\u5F0F\uFF0Cdo_sample=True, top_p=0.95, temperature=0.1 \u662F pass@1 \u6307\u6807\u7684\u4E0D\u9519\u9009\u62E9\uFF1B
\u5982\u679C\u975E\u91C7\u6837\u6A21\u5F0F\uFF0C do_sample=False, beam_num=1 \u6216\u8005 3 \u662F\u4E0D\u9519\u7684\u9009\u62E9\uFF0C\u5176\u4E2D beam_num=1 \u5373\u4E3A greedy decoding\u3002`,paraId:54,tocIndex:11},{value:"\u5982\u679C\u53D1\u751F OOM\uFF0C\u53EF\u4EE5\u7F29\u5C0F per GPU batch size (\u542F\u52A8\u8BAD\u7EC3\u811A\u672C\u65F6\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570)\u3001seq_length \u7B49\u53C2\u6570\u6765\u7F13\u89E3\u3002\u4E5F\u53EF\u4EE5\u8BBE gradient_checkpointing=true\uFF0C\u53EF\u4EE5\u5927\u5E45\u964D\u4F4E\u663E\u5B58\u5360\u7528\uFF0C\u4F46\u8BAD\u7EC3\u901F\u5EA6\u4F1A\u53D8\u6162\u4E00\u4E9B\u3002",paraId:55,tocIndex:13}]},28562:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u56FD\u9645\u9996\u4E2A\u9AD8\u7CBE\u5EA6\u3001\u9AD8\u6548\u7387\u3001\u591A\u4EFB\u52A1\u3001\u591A\u6A21\u578B\u652F\u6301\u3001\u591A\u8BAD\u7EC3\u7B97\u6CD5\uFF0C\u5927\u6A21\u578B\u4EE3\u7801\u80FD\u529B\u5FAE\u8C03\u6846\u67B6\uFF1B",paraId:0,tocIndex:0},{value:"Codefuse-MFTCoder",paraId:1,tocIndex:0},{value:" \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u591A\u4EFB\u52A1\u4EE3\u7801\u5927\u8BED\u8A00\u6A21\u578B\u9879\u76EE\uFF0C\u5305\u542B\u4EE3\u7801\u5927\u6A21\u578B\u7684\u6A21\u578B\u3001\u6570\u636E\u3001\u8BAD\u7EC3\u7B49\u3002\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u5F00\u6E90\uFF0C\u5206\u4EAB\u4EA4\u6D41\u5927\u8BED\u8A00\u6A21\u578B\u5728\u4EE3\u7801\u9886\u57DF\u7684\u8FDB\u6B65\u3002",paraId:1,tocIndex:0},{value:":white_check_mark: ",paraId:2,tocIndex:2},{value:"\u591A\u4EFB\u52A1",paraId:2,tocIndex:2},{value:"\uFF1A\u4E00\u4E2A\u6A21\u578B\u540C\u65F6\u652F\u6301\u591A\u4E2A\u4EFB\u52A1\uFF0C\u4F1A\u4FDD\u8BC1\u591A\u4E2A\u4EFB\u52A1\u4E4B\u95F4\u7684\u5E73\u8861\uFF0C\u751A\u81F3\u53EF\u4EE5\u6CDB\u5316\u5230\u65B0\u7684\u6CA1\u6709\u89C1\u8FC7\u7684\u4EFB\u52A1\u4E0A\u53BB\uFF1B",paraId:2,tocIndex:2},{value:":white_check_mark: ",paraId:3,tocIndex:2},{value:"\u591A\u6A21\u578B",paraId:3,tocIndex:2},{value:"\uFF1A\u652F\u6301\u6700\u65B0\u7684\u591A\u4E2A\u5F00\u6E90\u6A21\u578B\uFF0C\u5305\u62EC gpt-neox\uFF0Cllama\uFF0Cllama-2\uFF0Cbaichuan\uFF0CQwen\uFF0Cchatglm2 \u7B49\uFF1B",paraId:3,tocIndex:2},{value:":white_check_mark: ",paraId:4,tocIndex:2},{value:"\u591A\u6846\u67B6",paraId:4,tocIndex:2},{value:"\uFF1A\u65E2\u652F\u6301\u4E3B\u6D41\u5F00\u6E90\u7684 Accelerate+DeepSpeed/FSDP\uFF0C\u4E5F\u652F\u6301\u65B0\u5F00\u6E90\u7684",paraId:4,tocIndex:2},{value:"ATorch \u6846\u67B6",paraId:4,tocIndex:2},{value:"\uFF1B",paraId:4,tocIndex:2},{value:":white_check_mark: ",paraId:5,tocIndex:2},{value:"\u9AD8\u6548\u5FAE\u8C03",paraId:5,tocIndex:2},{value:"\uFF1A\u652F\u6301 LoRA \u548C QLoRA\uFF0C\u53EF\u4EE5\u7528\u5F88\u5C11\u7684\u8D44\u6E90\u53BB\u5FAE\u8C03\u5F88\u5927\u7684\u6A21\u578B\uFF0C\u4E14\u8BAD\u7EC3\u901F\u5EA6\u80FD\u6EE1\u8DB3\u51E0\u4E4E\u6240\u6709\u5FAE\u8C03\u573A\u666F\uFF1B",paraId:5,tocIndex:2},{value:"\u672C\u9879\u76EE\u4E3B\u8981\u5185\u5BB9\u5982\u4E0B\uFF1A",paraId:6,tocIndex:2},{value:"\u540C\u65F6\u652F\u6301\u5355\u4EFB\u52A1 SFT(Supervised FineTuning)\u548C MFT(Multi-task FineTuning), \u5F53\u524D\u5F00\u6E90\u652F\u6301\u6570\u636E\u5747\u8861\uFF0C\u672A\u6765\u5C06\u6301\u7EED\u5F00\u6E90\u96BE\u6613\u5747\u8861\uFF0C \u6536\u655B\u5747\u8861\u7B49",paraId:7,tocIndex:2},{value:"\u652F\u6301 QLoRA \u4F4E\u6210\u672C\u9AD8\u6548\u6307\u4EE4\u5FAE\u8C03\u3001LoRA \u9AD8\u6548\u6307\u4EE4\u5FAE\u8C03\u3001\u5168\u91CF\u53C2\u6570\u9AD8\u7CBE\u5EA6\u5FAE\u8C03\u3002",paraId:7,tocIndex:2},{value:"\u652F\u6301\u7EDD\u5927\u90E8\u5206\u4E3B\u6D41\u7684\u5F00\u6E90\u5927\u6A21\u578B\uFF0C\u91CD\u70B9\u5173\u6CE8\u4EE3\u7801\u80FD\u529B\u4F18\u79C0\u7684\u5F00\u6E90\u5927\u6A21\u578B\uFF0C\u5982 DeepSeek-coder, Mistral, Mistral(MoE), Chatglm3, Qwen, GPT-Neox, Starcoder, Codegeex2, Code-LLaMA \u7B49\u3002",paraId:7,tocIndex:2},{value:"\u652F\u6301 lora \u4E0E base model \u8FDB\u884C\u6743\u91CD\u5408\u5E76\uFF0C\u63A8\u7406\u66F4\u4FBF\u6377\u3002",paraId:7,tocIndex:2},{value:"\u6574\u7406\u5E76\u5F00\u6E90 2 \u4E2A\u6307\u4EE4\u5FAE\u8C03\u6570\u636E\u96C6\uFF1A",paraId:7,tocIndex:2},{value:"Evol-instruction-66k",paraId:7,tocIndex:2},{value:"\u548C",paraId:7,tocIndex:2},{value:"CodeExercise-Python-27k",paraId:7,tocIndex:2},{value:"\u3002",paraId:7,tocIndex:2},{value:"\u5F00\u6E90\u591A\u4E2A[Codefuse \u7CFB\u5217\u6307\u4EE4\u5FAE\u8C03\u6A21\u578B\u6743\u91CD]\uFF0C\u5177\u4F53\u53C2\u89C1\u6211\u4EEC\u7684 huggingface \u7EC4\u7EC7\u548C modelscope \u7EC4\u7EC7\u4E0B\u7684\u6A21\u578B\uFF1A",paraId:7,tocIndex:2},{value:"codefuse-ai huggingface",paraId:7,tocIndex:2},{value:" or ",paraId:7,tocIndex:2},{value:"codefuse-ai \u9B54\u642D",paraId:7,tocIndex:2},{value:"\u3002",paraId:7,tocIndex:2}]},96864:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:`\u9996\u5148, \u4F60\u9700\u8981\u5C06 CUDA(>=11.4, \u63A8\u8350 11.7)\u53CA\u5176\u76F8\u5173\u9A71\u52A8\u5B89\u88C5\u6210\u529F\uFF0C\u5E76\u786E\u4FDD\u5176\u5DE5\u4F5C\u6B63\u5E38, \u5E76\u4E14\u5B89\u88C5\u57FA\u672C\u7684 torch\uFF08>=2.0.0\uFF09
\u5728 requirements.txt \u4E0B\u56FA\u5B9A\u4E86\u51E0\u4E2A\u4E3B\u8981\u7684 python \u5305\u7684\u7248\u672C\uFF0C\u6267\u884C\u5982\u4E0B\u811A\u672C\u5373\u53EF\uFF1A`,paraId:0,tocIndex:0},{value:`sh init_env.sh
`,paraId:1,tocIndex:0},{value:"\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u5B89\u88C5 flash attention\uFF08>=2.1.0, \u63A8\u8350 2.3.6\uFF09, \u5B89\u88C5\u8BF7\u53C2\u8003 ",paraId:2,tocIndex:0},{value:"https://github.com/Dao-AILab/flash-attention",paraId:2,tocIndex:0},{value:"\u5982\u679C\u4F60\u719F\u6089\u5927\u6A21\u578B\u8BAD\u7EC3\u7684\u5404\u79CD\u4E3B\u6D41\u5F00\u6E90\u8D44\u6E90\uFF0C\u4F8B\u5982 ",paraId:3,tocIndex:1},{value:"transformers",paraId:3,tocIndex:1},{value:", ",paraId:3,tocIndex:1},{value:"DeepSpeed",paraId:3,tocIndex:1},{value:", ",paraId:3,tocIndex:1},{value:"FSDP",paraId:3,tocIndex:1},{value:"\u7B49\uFF0C \u4E3A\u4E86\u7528\u5F00\u6E90\u9879\u76EE\u5FEB\u901F\u4E0A\u624B\u9AD8\u6027\u80FD\u5FAE\u8C03\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u60A8\u5C1D\u8BD5\uFF1A",paraId:3,tocIndex:1},{value:"\u{1F680}\u{1F680} ",paraId:4,tocIndex:1},{value:"MFTCoder-accelerate: Accelerate + DeepSpeed/FSDP Codebase for MFT(Multi-task Finetuning)",paraId:5,tocIndex:1},{value:"\u5982\u679C\u4F60\u60F3\u63A2\u7D22\u4E00\u4E9B\u65B0\u5174\u7684\u8BAD\u7EC3\u6846\u67B6\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\uFF1A",paraId:6,tocIndex:1},{value:"\u{1F680} ",paraId:7,tocIndex:1},{value:"MFTCoder-atorch: Atorch Codebase for MFT(Multi-task Finetuning)",paraId:8,tocIndex:1},{value:"\u4F7F\u7528\u672C\u9879\u76EE\u7684\u8BAD\u7EC3\u4EE3\u7801\uFF0C\u4EE5\u53CA\u4E0A\u8FF0\u8BAD\u7EC3\u6570\u636E\uFF0C\u6211\u4EEC\u8BAD\u7EC3\u5E76\u5728 huggingface, modelscope \u5F00\u6E90\u4E86\u4EE5\u4E0B\u6A21\u578B\u3002",paraId:9,tocIndex:2},{value:"\u6A21\u578B",paraId:10,tocIndex:2},{value:"HuggingFace \u94FE\u63A5",paraId:10,tocIndex:2},{value:"\u9B54\u642D \u94FE\u63A5",paraId:10,tocIndex:2},{value:"\u57FA\u5EA7\u6A21\u578B",paraId:10,tocIndex:2},{value:"\u8BAD\u7EC3\u6570\u636E",paraId:10,tocIndex:2},{value:"Batch Size",paraId:10,tocIndex:2},{value:"Seq Length",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-DeepSeek-33B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"DeepSeek-coder-33B",paraId:10,tocIndex:2},{value:"60 \u4E07",paraId:10,tocIndex:2},{value:"80",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-Mixtral-8x7B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"Mixtral-8x7B",paraId:10,tocIndex:2},{value:"60 \u4E07",paraId:10,tocIndex:2},{value:"80",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-CodeLlama-34B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"CodeLlama-34b-Python",paraId:10,tocIndex:2},{value:"60 \u4E07",paraId:10,tocIndex:2},{value:"80",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-CodeLlama-34B-4bits",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"CodeLlama-34b-Python",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-StarCoder-15B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"StarCoder-15B",paraId:10,tocIndex:2},{value:"60 \u4E07",paraId:10,tocIndex:2},{value:"80",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-QWen-14B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"Qwen-14b",paraId:10,tocIndex:2},{value:"110 \u4E07",paraId:10,tocIndex:2},{value:"256",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u{1F525}\u{1F525}\u{1F525} CodeFuse-CodeGeex2-6B",paraId:10,tocIndex:2},{value:"h-link",paraId:10,tocIndex:2},{value:"m-link",paraId:10,tocIndex:2},{value:"CodeGeex2-6B",paraId:10,tocIndex:2},{value:"110 \u4E07",paraId:10,tocIndex:2},{value:"256",paraId:10,tocIndex:2},{value:"4096",paraId:10,tocIndex:2},{value:"\u76EE\u524D\u672C\u9879\u76EE\u4E3B\u8981\u6574\u7406\u4E86\u5982\u4E0B\u6307\u4EE4\u6570\u636E\u96C6\uFF0C\u5E76\u5C06\u5176\u6574\u7406\u6210\u7EDF\u4E00\u7684\u6570\u636E\u683C\u5F0F\uFF0C\u8FD9\u4E24\u4E2A\u6307\u4EE4\u5FAE\u8C03\u6570\u636E\u96C6\u662F\u6211\u4EEC\u591A\u4EFB\u52A1\u8BAD\u7EC3\u4E2D\u6570\u5341\u4E2A\u4EFB\u52A1\u4E2D\u7684 2 \u4E2A\uFF0C\u672A\u6765\u6211\u4EEC\u4F1A\u9646\u7EED\u5F00\u6E90\u66F4\u591A\u7684\u4EE3\u7801\u4EFB\u52A1\u6307\u4EE4\u5FAE\u8C03\u6570\u636E\u96C6\uFF1A",paraId:11,tocIndex:3},{value:"\u6570\u636E\u96C6",paraId:12,tocIndex:3},{value:"\u4ECB\u7ECD",paraId:12,tocIndex:3},{value:"\u2B50 Evol-instruction-66k",paraId:12,tocIndex:3},{value:"\u57FA\u4E8E\u5F00\u6E90 open-evol-instruction-80k \u8FC7\u6EE4\u4F4E\u8D28\u91CF\uFF0C\u91CD\u590D\u548C human eval \u76F8\u4F3C\u7684\u6570\u636E\u540E\u5F97\u5230\u7684\u9AD8\u8D28\u91CF\u4EE3\u7801\u7C7B\u5FAE\u8C03\u6570\u636E",paraId:12,tocIndex:3},{value:"\u2B50 CodeExercise-Python-27k",paraId:12,tocIndex:3},{value:"\u9AD8\u8D28\u91CF python \u7EC3\u4E60\u9898\u6570\u636E",paraId:12,tocIndex:3}]},81105:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u9B54\u642D\u6A21\u578B\u8BBF\u95EE\u94FE\u63A5\uFF1A",paraId:0,tocIndex:1},{value:"ModelScope TestGPT-7B",paraId:0,tocIndex:1},{value:"Test Agent",paraId:1,tocIndex:2},{value:" \u65E8\u5728\u6784\u5EFA\u6D4B\u8BD5\u9886\u57DF\u7684\u201C\u667A\u80FD\u4F53\u201D\uFF0C\u878D\u5408\u5927\u6A21\u578B\u548C\u8D28\u91CF\u9886\u57DF\u5DE5\u7A0B\u5316\u6280\u672F\uFF0C\u4FC3\u8FDB\u8D28\u91CF\u6280\u672F\u4EE3\u7CFB\u5347\u7EA7\u3002\u6211\u4EEC\u671F\u671B\u548C\u793E\u533A\u6210\u5458\u4E00\u8D77\u5408\u4F5C\uFF0C\u6253\u9020\u521B\u65B0\u7684\u6D4B\u8BD5\u9886\u57DF\u89E3\u51B3\u65B9\u6848\uFF0C\u6784\u5EFA 24 \u5C0F\u65F6\u5728\u7EBF\u7684\u6D4B\u8BD5\u52A9\u7406\u670D\u52A1\uFF0C\u8BA9\u6D4B\u8BD5\u5982\u4E1D\u822C\u987A\u6ED1\u3002",paraId:1,tocIndex:2},{value:"\u6A21\u578B",paraId:2,tocIndex:3},{value:" \u672C\u671F\u6211\u4EEC\u5F00\u6E90\u4E86\u6D4B\u8BD5\u9886\u57DF\u6A21\u578B TestGPT-7B\u3002\u6A21\u578B\u4EE5 CodeLlama-7B \u4E3A\u57FA\u5EA7\uFF0C\u8FDB\u884C\u4E86\u76F8\u5173\u4E0B\u6E38\u4EFB\u52A1\u7684\u5FAE\u8C03\uFF1A",paraId:2,tocIndex:3},{value:"\u591A\u8BED\u8A00\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210\uFF08Java/Python/Javascript\uFF09",paraId:3,tocIndex:3},{value:" \u4E00\u76F4\u4EE5\u6765\u90FD\u662F\u5B66\u672F\u754C\u548C\u5DE5\u4E1A\u754C\u975E\u5E38\u5173\u6CE8\u7684\u9886\u57DF\uFF0C\u8FD1\u5E74\u6765\u4E0D\u65AD\u6709\u65B0\u4EA7\u54C1\u6216\u5DE5\u5177\u5B75\u5316\u51FA\u6765\uFF0C\u5982 EvoSuite\u3001Randoop\u3001SmartUnit \u7B49\u3002\u7136\u800C\u4F20\u7EDF\u7684\u7528\u4F8B\u751F\u6210\u5B58\u5728\u5176\u96BE\u4EE5\u89E3\u51B3\u7684\u75DB\u70B9\u95EE\u9898\uFF0C\u57FA\u4E8E\u5927\u6A21\u578B\u7684\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210\u5728\u6D4B\u8BD5\u7528\u4F8B\u53EF\u8BFB\u6027\u3001\u6D4B\u8BD5\u573A\u666F\u5B8C\u6574\u5EA6\u3001\u591A\u8BED\u8A00\u652F\u6301\u65B9\u9762\u90FD\u4F18\u4E8E\u4F20\u7EDF\u7528\u4F8B\u751F\u6210\u5DE5\u5177\u3002\u672C\u6B21\u91CD\u70B9\u652F\u6301\u4E86\u591A\u8BED\u8A00\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210\uFF0C\u5728\u6211\u4EEC\u672C\u6B21\u5F00\u6E90\u7684\u7248\u672C\u4E2D\u9996\u5148\u5305\u542B\u4E86 Java\u3001Python\u3001Javascript \u7684\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210\u80FD\u529B\uFF0C\u4E0B\u4E00\u7248\u672C\u4E2D\u9010\u6B65\u5F00\u653E Go\u3001C++\u7B49\u8BED\u8A00\u3002",paraId:3,tocIndex:3},{value:"\u6D4B\u8BD5\u7528\u4F8B Assert \u8865\u5168",paraId:3,tocIndex:3},{value:" \u5BF9\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u73B0\u72B6\u7684\u5206\u6790\u4E0E\u63A2\u67E5\u65F6\uFF0C\u6211\u4EEC\u53D1\u73B0\u4EE3\u7801\u4ED3\u5E93\u4E2D\u5B58\u5728\u4E00\u5B9A\u6BD4\u4F8B\u7684\u5B58\u91CF\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u672A\u5305\u542B Assert\u3002\u6CA1\u6709 Assert \u7684\u6D4B\u8BD5\u7528\u4F8B\u867D\u7136\u80FD\u591F\u5728\u56DE\u5F52\u8FC7\u7A0B\u4E2D\u6267\u884C\u901A\u8FC7\uFF0C\u5374\u65E0\u6CD5\u53D1\u73B0\u95EE\u9898\u3002\u56E0\u6B64\u6211\u4EEC\u62D3\u5C55\u4E86\u6D4B\u8BD5\u7528\u4F8B Assert \u81EA\u52A8\u8865\u5168\u8FD9\u4E00\u573A\u666F\u3002\u901A\u8FC7\u8BE5\u6A21\u578B\u80FD\u529B\uFF0C\u7ED3\u5408\u4E00\u5B9A\u7684\u5DE5\u7A0B\u5316\u914D\u5957\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u5BF9\u5168\u5E93\u6D4B\u8BD5\u7528\u4F8B\u7684\u6279\u91CF\u81EA\u52A8\u8865\u5168\uFF0C\u667A\u80FD\u63D0\u5347\u9879\u76EE\u8D28\u91CF\u6C34\u4F4D\u3002",paraId:3,tocIndex:3},{value:"\u5DE5\u7A0B\u6846\u67B6",paraId:4,tocIndex:3},{value:" \u672C\u5730\u6A21\u578B\u5FEB\u901F\u53D1\u5E03\u548C\u4F53\u9A8C\u5DE5\u7A0B\u5316\u6846\u67B6",paraId:4,tocIndex:3},{value:"ChatBot \u9875\u9762",paraId:5,tocIndex:3},{value:"\u6A21\u578B\u5FEB\u901F\u542F\u52A8",paraId:5,tocIndex:3},{value:"\u79C1\u6709\u5316\u90E8\u7F72\uFF0C\u672C\u5730\u5316\u7684 GPT \u5927\u6A21\u578B\u4E0E\u60A8\u7684\u6570\u636E\u548C\u73AF\u5883\u8FDB\u884C\u4EA4\u4E92\uFF0C\u65E0\u6570\u636E\u6CC4\u9732\u98CE\u9669\uFF0C100%\u5B89\u5168",paraId:5,tocIndex:3},{value:"\u540E\u7EED\u6211\u4EEC\u4F1A\u6301\u7EED\u8FED\u4EE3\u6A21\u578B\u548C\u5DE5\u7A0B\u5316\u80FD\u529B\uFF1A",paraId:6,tocIndex:3},{value:"\u4E0D\u65AD\u52A0\u5165\u66F4\u591A\u4EE4\u4EBA\u6FC0\u52A8\u7684\u6D4B\u8BD5\u57DF\u5E94\u7528\u573A\u666F\uFF0C\u5982\u9886\u57DF\u77E5\u8BC6\u95EE\u7B54\u3001\u6D4B\u8BD5\u573A\u666F\u5206\u6790\u7B49",paraId:7,tocIndex:3},{value:"\u652F\u6491\u9762\u5411\u6D4B\u8BD5\u573A\u666F\u7684 copilot \u5DE5\u7A0B\u6846\u67B6\u5F00\u653E\uFF0C\u5982\u6D4B\u8BD5\u9886\u57DF\u77E5\u8BC6\u667A\u80FD embedding\u3001\u6D4B\u8BD5\u901A\u7528\u5DE5\u5177 API \u4F53\u7CFB\u3001\u667A\u80FD\u6D4B\u8BD5 Agent \u7B49\uFF0C\u656C\u8BF7\u671F\u5F85\uFF01",paraId:7,tocIndex:3},{value:"\u4EE5 7B \u4E3A\u57FA\u7840\uFF0C\u9010\u6B65\u6269\u5C55\u81F3 13B\u300134B \u6A21\u578B\u3002\u6B22\u8FCE\u5173\u6CE8\uFF01",paraId:7,tocIndex:3},{value:"\u76EE\u524D\u5728 TestAgent \u4E2D\uFF0C\u6211\u4EEC\u9ED8\u8BA4\u4F7F\u7528\u4E86 TestGPT-7B \u6A21\u578B\u3002\u4E0E\u5F53\u524D\u5DF2\u6709\u5F00\u6E90\u6A21\u578B\u76F8\u6BD4\uFF0C",paraId:8,tocIndex:4},{value:"TestGPT-7B \u6A21\u578B\u5728\u7528\u4F8B\u6267\u884C\u901A\u8FC7\u7387\uFF08pass@1\uFF09\u3001\u7528\u4F8B\u573A\u666F\u8986\u76D6\uFF08\u5E73\u5747\u6D4B\u8BD5\u573A\u666F\u6570\uFF09\u4E0A\u90FD\u5904\u4E8E\u4E1A\u754C\u9886\u5148\u6C34\u5E73\u3002",paraId:8,tocIndex:4},{value:`
TestGPT-7B \u6A21\u578B\u6838\u5FC3\u80FD\u529B\u7684\u8BC4\u6D4B\u7ED3\u679C\u5982\u4E0B\uFF1A`,paraId:8,tocIndex:4},{value:`\u591A\u8BED\u8A00\u6D4B\u8BD5\u7528\u4F8B\u751F\u6210
\u9488\u5BF9\u6A21\u578B\u652F\u6301\u7684\u4E09\u79CD\u8BED\u8A00\uFF1AJava\u3001Python\u3001Javascript\uFF0CPass@1 \u8BC4\u6D4B\u7ED3\u679C\u5982\u4E0B\uFF1A`,paraId:9,tocIndex:4},{value:"Model",paraId:10,tocIndex:4},{value:"Java pass@1",paraId:10,tocIndex:4},{value:"Java Average number of test scenarios",paraId:10,tocIndex:4},{value:"Python pass@1",paraId:10,tocIndex:4},{value:"Python Average number of test scenarios",paraId:10,tocIndex:4},{value:"Javascript pass@1",paraId:10,tocIndex:4},{value:"Javascript Average number of test scenarios",paraId:10,tocIndex:4},{value:"TestGPT-7B",paraId:10,tocIndex:4},{value:"48.6%",paraId:10,tocIndex:4},{value:"4.37",paraId:10,tocIndex:4},{value:"35.67%",paraId:10,tocIndex:4},{value:"3.56",paraId:10,tocIndex:4},{value:"36%",paraId:10,tocIndex:4},{value:"2.76",paraId:10,tocIndex:4},{value:"CodeLlama-13B-Instruct",paraId:10,tocIndex:4},{value:"40.54%",paraId:10,tocIndex:4},{value:"1.08",paraId:10,tocIndex:4},{value:"30.57%",paraId:10,tocIndex:4},{value:"1.65",paraId:10,tocIndex:4},{value:"31.7%",paraId:10,tocIndex:4},{value:"3.13",paraId:10,tocIndex:4},{value:"Qwen-14B-Chat",paraId:10,tocIndex:4},{value:"10.81%",paraId:10,tocIndex:4},{value:"2.78",paraId:10,tocIndex:4},{value:"15.9%",paraId:10,tocIndex:4},{value:"1.32",paraId:10,tocIndex:4},{value:"9.15%",paraId:10,tocIndex:4},{value:"4.22",paraId:10,tocIndex:4},{value:"Baichuan2-13B-Chat",paraId:10,tocIndex:4},{value:"13.5%",paraId:10,tocIndex:4},{value:"2.24",paraId:10,tocIndex:4},{value:"12.7%",paraId:10,tocIndex:4},{value:"2.12",paraId:10,tocIndex:4},{value:"6.1%",paraId:10,tocIndex:4},{value:"3.31",paraId:10,tocIndex:4},{value:`\u6D4B\u8BD5\u7528\u4F8B Assert \u8865\u5168
\u76EE\u524D\u6A21\u578B\u652F\u6301 Java \u7528\u4F8B\u7684 Assert \u8865\u5168\uFF0CPass@1 \u8BC4\u6D4B\u7ED3\u679C\u5982\u4E0B\uFF1A`,paraId:11,tocIndex:4},{value:"Model",paraId:12,tocIndex:4},{value:"pass@1",paraId:12,tocIndex:4},{value:"Percentage of strong validation",paraId:12,tocIndex:4},{value:"Codefuse-TestGPT-7B",paraId:12,tocIndex:4},{value:"71.1%",paraId:12,tocIndex:4},{value:"100%",paraId:12,tocIndex:4},{value:"\u5927\u6A21\u578B\u7684\u53F7\u89D2\u5DF2\u7ECF\u5439\u54CD\uFF0C\u6D4B\u8BD5\u9886\u57DF\u5927\u6A21\u578B\u4E5F\u5728\u4E0D\u65AD\u8FDB\u5316\u4E2D\uFF0C\u901A\u8FC7\u9884\u8BAD\u7EC3\u8FC7\u7A0B\u4E2D\u79EF\u7D2F\u7684\u4E30\u5BCC\u4E16\u754C\u77E5\u8BC6\uFF0C\u5728\u590D\u6742\u4EA4\u4E92\u73AF\u5883\u4E2D\u5C55\u73B0\u51FA\u4E86\u975E\u51E1\u7684\u63A8\u7406\u4E0E\u51B3\u7B56\u80FD\u529B\u3002",paraId:13,tocIndex:5},{value:"\u5C3D\u7BA1\u5728\u6D4B\u8BD5\u9886\u57DF\u4E2D\u57FA\u7840\u6A21\u578B\u53D6\u5F97\u4E86\u663E\u8457\u7684\u6210\u679C\uFF0C\u4F46\u4ECD\u7136\u5B58\u5728\u4E00\u4E9B\u5C40\u9650\u6027\uFF0C\u7279\u5B9A\u9886\u57DF\u7684\u6D4B\u8BD5\u4EFB\u52A1\u901A\u5E38\u9700\u8981\u4E13\u4E1A\u5316\u7684\u5DE5\u5177\u6216\u9886\u57DF\u77E5\u8BC6\u6765\u89E3\u51B3\u3002\u4F8B\u5982\uFF0C\u57FA\u7840\u6A21\u578B\u53EF\u4EE5\u901A\u8FC7\u9884\u8BAD\u7EC3\u77E5\u8BC6\u5B8C\u6210\u5355\u6B21\u6D4B\u8BD5\u4EE3\u7801\u751F\u6210\u548C\u6D4B\u8BD5\u6587\u672C\u751F\u6210\u7B49\u4EFB\u52A1\uFF0C\u4F46\u5904\u7406\u590D\u6742\u7684\u96C6\u6210\u7528\u4F8B\u751F\u6210\u3001\u7279\u5B9A\u9886\u57DF\u7528\u4F8B\u751F\u6210\u548C\u6D4B\u8BD5\u6D41\u7A0B pipeline \u4EA4\u4E92\u7B49\u95EE\u9898\u65F6\uFF0C\u9700\u8981\u66F4\u4E13\u4E1A\u7684\u5DE5\u5177\u548C\u9886\u57DF\u77E5\u8BC6\u3002\u56E0\u6B64\u5C06\u4E13\u7528\u5DE5\u5177\u4E0E\u57FA\u7840\u6A21\u578B\u6574\u5408\u5728\u4E00\u8D77\uFF0C\u53EF\u4EE5\u5145\u5206\u53D1\u6325\u5B83\u4EEC\u5404\u81EA\u7684\u4F18\u52BF\u3002\u4E13\u7528\u5DE5\u5177\u53EF\u4EE5\u89E3\u51B3\u6A21\u578B\u65F6\u6548\u6027\u4E0D\u8DB3\u3001\u589E\u5F3A\u4E13\u4E1A\u77E5\u8BC6\u3001\u63D0\u9AD8\u53EF\u89E3\u91CA\u6027\u548C\u9C81\u68D2\u6027\u7684\u95EE\u9898\u3002\u800C\u57FA\u7840\u6A21\u578B\u5219\u5177\u5907\u7C7B\u4EBA\u7684\u63A8\u7406\u89C4\u5212\u80FD\u529B\uFF0C\u53EF\u4EE5\u7406\u89E3\u590D\u6742\u7684\u6570\u636E\u548C\u573A\u666F\uFF0C\u5E76\u4E0E\u73B0\u5B9E\u4E16\u754C\u8FDB\u884C\u4EA4\u4E92\u3002",paraId:14,tocIndex:5},{value:"\u5728\u672C\u671F\u5F00\u653E\u6A21\u578B\u5DE5\u7A0B\u5316\u90E8\u7F72\u548C ChatBot \u57FA\u7840\u4E0A\uFF0C\u6211\u4EEC\u5C06\u7EE7\u7EED\u5728\u6D4B\u8BD5\u5F00\u6E90\u9886\u57DF\u6DF1\u8015\u6295\u5165\u3002\u534F\u540C\u793E\u533A\u5FD7\u8DA3\u76F8\u6295\u5F00\u53D1\u8005\u4EEC\uFF0C\u4E00\u8D77\u6253\u9020\u6D4B\u8BD5\u9886\u57DF\u6700\u9886\u5148\u7684 Tools \u5DE5\u7A0B\u4F53\u7CFB\u3001\u667A\u80FD\u6D4B\u8BD5\u52A9\u7406\u548C\u6D4B\u8BD5\u5F00\u6E90\u5DE5\u7A0B\uFF01",paraId:15,tocIndex:5}]},91769:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u60A8\u53EF\u5728",paraId:0,tocIndex:2},{value:"modelscope",paraId:0,tocIndex:2},{value:"\u6216",paraId:0,tocIndex:2},{value:"huggingface",paraId:0,tocIndex:2},{value:`\u4E0A\u83B7\u53D6\u5230\u6A21\u578B\u7684\u8BE6\u7EC6\u4FE1\u606F\u5E76\u4E0B\u8F7D\u6A21\u578B\u6587\u4EF6\u3002
\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF1A
1\uFF09\u5982\u679C\u60A8\u901A\u8FC7 modelscope \u4E0B\u8F7D\u6A21\u578B\uFF0C\u4E0B\u8F7D\u65B9\u5F0F\u53EF\u53C2\u8003\uFF1A`,paraId:0,tocIndex:2},{value:"\u4E0B\u8F7D\u8BF4\u660E",paraId:0,tocIndex:2},{value:`\uFF1B
2\uFF09\u5982\u679C\u60A8\u901A\u8FC7 huggingface \u4E0B\u8F7D\u6A21\u578B\uFF0C\u8BF7\u786E\u4FDD\u60A8\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE huggingface\u3002`,paraId:0,tocIndex:2},{value:"python>=3.8",paraId:1,tocIndex:3},{value:"transformers==4.33.2",paraId:1,tocIndex:3},{value:`git clone https://github.com/codefuse-ai/Test-Agent
cd Test-Agent
pip install -r requirements.txt
`,paraId:2,tocIndex:3},{value:"\u5728\u5F00\u59CB\u8FD0\u884C TestGPT-7B \u6A21\u578B\u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\u4F60\u7684\u6267\u884C\u73AF\u5883\u62E5\u6709\u5927\u7EA6 14GB \u7684\u663E\u5B58\u3002",paraId:3,tocIndex:3},{value:"\u9879\u76EE\u63D0\u4F9B\u4E86\u7F51\u9875\u7AEF\u5FEB\u901F\u642D\u5EFA UI \u7684\u80FD\u529B\u80FD\u591F\u66F4\u76F4\u89C2\u7684\u5C55\u793A\u6A21\u578B\u4EA4\u4E92\u548C\u6548\u679C\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u7B80\u5355\u7684\u51E0\u4E2A\u547D\u4EE4\u628A\u524D\u7AEF\u9875\u9762\u5524\u9192\u5E76\u5B9E\u65F6\u8C03\u7528\u6A21\u578B\u80FD\u529B\u3002\u5728\u9879\u76EE\u76EE\u5F55\u4E0B\uFF0C\u4F9D\u6B21\u542F\u52A8\u4EE5\u4E0B\u670D\u52A1\uFF1A",paraId:4,tocIndex:4},{value:"1.",paraId:5,tocIndex:4},{value:"\u542F\u52A8 controller",paraId:5,tocIndex:4},{value:`
python3 -m chat.server.controller`,paraId:5,tocIndex:4},{value:"2.",paraId:6,tocIndex:4},{value:"\u542F\u52A8\u6A21\u578B worker",paraId:6,tocIndex:4},{value:`
python3 -m chat.server.model_worker --model-path models/TestGPT-7B --device mps`,paraId:6,tocIndex:4},{value:"\uFF08models/TestGPT-7B \u4E3A\u5B9E\u9645\u6A21\u578B\u6587\u4EF6\u8DEF\u5F84\uFF09",paraId:7,tocIndex:4},{value:"\u5BF9\u4E8E\u542F\u52A8\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u6309\u9700\u9009\u62E9\u4EE5\u4E0B\u51E0\u79CD\u914D\u7F6E\u9009\u9879\uFF1A",paraId:8,tocIndex:4},{value:"--device mps \u7528\u4E8E\u5728 Mac \u7535\u8111\u4E0A\u5F00\u542F GPU \u52A0\u901F\u7684\u9009\u9879\uFF08Apple Silicon \u6216 AMD GPUs\uFF09\uFF1B",paraId:9,tocIndex:4},{value:`--device xpu \u7528\u4E8E\u5728 Intel XPU \u4E0A\u5F00\u542F\u52A0\u901F\u7684\u9009\u9879\uFF08Intel Data Center and Arc A-Series GPUs\uFF09\uFF1B
`,paraId:9,tocIndex:4},{value:"\u9700\u5B89\u88C5",paraId:10,tocIndex:4},{value:"Intel Extension for PyTorch",paraId:10,tocIndex:4},{value:"\u8BBE\u7F6E OneAPI \u73AF\u5883\u53D8\u91CF\uFF1Asource /opt/intel/oneapi/setvars.sh",paraId:10,tocIndex:4},{value:`--device npu \u7528\u4E8E\u5728\u534E\u4E3A AI \u5904\u7406\u5668\u4E0A\u5F00\u542F\u52A0\u901F\u7684\u9009\u9879\uFF1B
`,paraId:9,tocIndex:4},{value:"\u9700\u5B89\u88C5",paraId:11,tocIndex:4},{value:"Ascend PyTorch Adapter",paraId:11,tocIndex:4},{value:"\u8BBE\u7F6E CANN \u73AF\u5883\u53D8\u91CF\uFF1Asource /usr/local/Ascend/ascend-toolkit/set_env.sh",paraId:11,tocIndex:4},{value:"--device cpu \u5355\u72EC\u4F7F\u7528 CPU \u8FD0\u884C\u7684\u9009\u9879\uFF0C\u4E0D\u9700\u8981 GPU\uFF1B",paraId:9,tocIndex:4},{value:"--num-gpus 2 \u6307\u5B9A\u5E76\u53D1 gpu \u8FD0\u884C\u7684\u9009\u9879\u3002",paraId:9,tocIndex:4},{value:"\u542F\u52A8 web \u670D\u52A1",paraId:12,tocIndex:4},{value:`
python3 -m chat.server.gradio_testgpt
`,paraId:12,tocIndex:4},{value:`
\u5F85\u670D\u52A1\u51C6\u5907\u5C31\u7EEA\u540E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6253\u5F00\u672C\u5730\u542F\u52A8\u7684 web \u670D\u52A1\u5730\u5740 `,paraId:12,tocIndex:4},{value:"http://0.0.0.0:7860",paraId:12,tocIndex:4},{value:` \uFF0C\u5C31\u80FD\u770B\u5230\u5B8C\u6574\u7684\u524D\u7AEF\u9875\u9762\u4E86\u3002\u5728\u9875\u9762\u4E0B\u65B9\u5305\u542B\u4E86\u3010\u5355\u6D4B\u751F\u6210\u3011\u548C\u3010Assert \u8865\u5168\u3011\u7684\u4E24\u4E2A\u4F8B\u5B50\uFF0C\u70B9\u51FB\u6309\u94AE\u540E\u4F1A\u81EA\u52A8\u751F\u6210\u4E00\u6BB5\u6837\u4F8B\u6587\u672C\u5230\u8F93\u5165\u6846\u4E2D\uFF0C\u70B9\u51FB Send \u6309\u94AE\u5C31\u4F1A\u89E6\u53D1\u6A21\u578B\u8FD0\u884C\uFF0C\u4E4B\u540E\u8010\u5FC3\u7B49\u5F85\u4E00\u6BB5\u65F6\u95F4\u540E\uFF08\u8FD0\u884C\u65F6\u95F4\u89C6\u672C\u673A\u6027\u80FD\u800C\u5B9A\uFF09\u5373\u53EF\u770B\u5230\u5B8C\u6574\u7684\u56DE\u7B54\u4E86\u3002
`,paraId:12,tocIndex:4}]},42017:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[]},90176:function(t,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[]}}]);
